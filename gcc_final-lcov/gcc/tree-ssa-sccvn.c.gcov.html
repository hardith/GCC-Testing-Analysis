<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - coverage_test_main_ex.info - gcc/tree-ssa-sccvn.c</title>
  <link rel="stylesheet" type="text/css" href="../gcov.css">
</head>

<body>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">LCOV - code coverage report</td></tr>
    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../index.html">top level</a> - <a href="index.html">gcc</a> - tree-ssa-sccvn.c<span style="font-size: 80%;"> (source / <a href="tree-ssa-sccvn.c.func-sort-c.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">coverage_test_main_ex.info</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">3413</td>
            <td class="headerCovTableEntry">3939</td>
            <td class="headerCovTableEntryMed">86.6 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2022-04-27 13:46:28</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">126</td>
            <td class="headerCovTableEntry">132</td>
            <td class="headerCovTableEntryHi">95.5 %</td>
          </tr>
          <tr>
            <td class="headerItem">Legend:</td>
            <td class="headerValueLeg">            Lines:
            <span class="coverLegendCov">hit</span>
            <span class="coverLegendNoCov">not hit</span>
            | Branches:
            <span class="coverLegendCov">+</span> taken
            <span class="coverLegendNoCov">-</span> not taken
            <span class="coverLegendNoCov">#</span> not executed
</td>
            <td></td>
            <td class="headerItem">Branches:</td>
            <td class="headerCovTableEntry">2977</td>
            <td class="headerCovTableEntry">3968</td>
            <td class="headerCovTableEntryMed">75.0 %</td>
          </tr>
          <tr><td><img src="../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">           Branch data     Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span>                :            : /* SCC value numbering for trees</a>
<a name="2"><span class="lineNum">       2 </span>                :            :    Copyright (C) 2006-2021 Free Software Foundation, Inc.</a>
<a name="3"><span class="lineNum">       3 </span>                :            :    Contributed by Daniel Berlin &lt;dan@dberlin.org&gt;</a>
<a name="4"><span class="lineNum">       4 </span>                :            : </a>
<a name="5"><span class="lineNum">       5 </span>                :            : This file is part of GCC.</a>
<a name="6"><span class="lineNum">       6 </span>                :            : </a>
<a name="7"><span class="lineNum">       7 </span>                :            : GCC is free software; you can redistribute it and/or modify</a>
<a name="8"><span class="lineNum">       8 </span>                :            : it under the terms of the GNU General Public License as published by</a>
<a name="9"><span class="lineNum">       9 </span>                :            : the Free Software Foundation; either version 3, or (at your option)</a>
<a name="10"><span class="lineNum">      10 </span>                :            : any later version.</a>
<a name="11"><span class="lineNum">      11 </span>                :            : </a>
<a name="12"><span class="lineNum">      12 </span>                :            : GCC is distributed in the hope that it will be useful,</a>
<a name="13"><span class="lineNum">      13 </span>                :            : but WITHOUT ANY WARRANTY; without even the implied warranty of</a>
<a name="14"><span class="lineNum">      14 </span>                :            : MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</a>
<a name="15"><span class="lineNum">      15 </span>                :            : GNU General Public License for more details.</a>
<a name="16"><span class="lineNum">      16 </span>                :            : </a>
<a name="17"><span class="lineNum">      17 </span>                :            : You should have received a copy of the GNU General Public License</a>
<a name="18"><span class="lineNum">      18 </span>                :            : along with GCC; see the file COPYING3.  If not see</a>
<a name="19"><span class="lineNum">      19 </span>                :            : &lt;http://www.gnu.org/licenses/&gt;.  */</a>
<a name="20"><span class="lineNum">      20 </span>                :            : </a>
<a name="21"><span class="lineNum">      21 </span>                :            : #include &quot;config.h&quot;</a>
<a name="22"><span class="lineNum">      22 </span>                :            : #include &quot;system.h&quot;</a>
<a name="23"><span class="lineNum">      23 </span>                :            : #include &quot;coretypes.h&quot;</a>
<a name="24"><span class="lineNum">      24 </span>                :            : #include &quot;splay-tree.h&quot;</a>
<a name="25"><span class="lineNum">      25 </span>                :            : #include &quot;backend.h&quot;</a>
<a name="26"><span class="lineNum">      26 </span>                :            : #include &quot;rtl.h&quot;</a>
<a name="27"><span class="lineNum">      27 </span>                :            : #include &quot;tree.h&quot;</a>
<a name="28"><span class="lineNum">      28 </span>                :            : #include &quot;gimple.h&quot;</a>
<a name="29"><span class="lineNum">      29 </span>                :            : #include &quot;ssa.h&quot;</a>
<a name="30"><span class="lineNum">      30 </span>                :            : #include &quot;expmed.h&quot;</a>
<a name="31"><span class="lineNum">      31 </span>                :            : #include &quot;insn-config.h&quot;</a>
<a name="32"><span class="lineNum">      32 </span>                :            : #include &quot;memmodel.h&quot;</a>
<a name="33"><span class="lineNum">      33 </span>                :            : #include &quot;emit-rtl.h&quot;</a>
<a name="34"><span class="lineNum">      34 </span>                :            : #include &quot;cgraph.h&quot;</a>
<a name="35"><span class="lineNum">      35 </span>                :            : #include &quot;gimple-pretty-print.h&quot;</a>
<a name="36"><span class="lineNum">      36 </span>                :            : #include &quot;alias.h&quot;</a>
<a name="37"><span class="lineNum">      37 </span>                :            : #include &quot;fold-const.h&quot;</a>
<a name="38"><span class="lineNum">      38 </span>                :            : #include &quot;stor-layout.h&quot;</a>
<a name="39"><span class="lineNum">      39 </span>                :            : #include &quot;cfganal.h&quot;</a>
<a name="40"><span class="lineNum">      40 </span>                :            : #include &quot;tree-inline.h&quot;</a>
<a name="41"><span class="lineNum">      41 </span>                :            : #include &quot;internal-fn.h&quot;</a>
<a name="42"><span class="lineNum">      42 </span>                :            : #include &quot;gimple-fold.h&quot;</a>
<a name="43"><span class="lineNum">      43 </span>                :            : #include &quot;tree-eh.h&quot;</a>
<a name="44"><span class="lineNum">      44 </span>                :            : #include &quot;gimplify.h&quot;</a>
<a name="45"><span class="lineNum">      45 </span>                :            : #include &quot;flags.h&quot;</a>
<a name="46"><span class="lineNum">      46 </span>                :            : #include &quot;dojump.h&quot;</a>
<a name="47"><span class="lineNum">      47 </span>                :            : #include &quot;explow.h&quot;</a>
<a name="48"><span class="lineNum">      48 </span>                :            : #include &quot;calls.h&quot;</a>
<a name="49"><span class="lineNum">      49 </span>                :            : #include &quot;varasm.h&quot;</a>
<a name="50"><span class="lineNum">      50 </span>                :            : #include &quot;stmt.h&quot;</a>
<a name="51"><span class="lineNum">      51 </span>                :            : #include &quot;expr.h&quot;</a>
<a name="52"><span class="lineNum">      52 </span>                :            : #include &quot;tree-dfa.h&quot;</a>
<a name="53"><span class="lineNum">      53 </span>                :            : #include &quot;tree-ssa.h&quot;</a>
<a name="54"><span class="lineNum">      54 </span>                :            : #include &quot;dumpfile.h&quot;</a>
<a name="55"><span class="lineNum">      55 </span>                :            : #include &quot;cfgloop.h&quot;</a>
<a name="56"><span class="lineNum">      56 </span>                :            : #include &quot;tree-ssa-propagate.h&quot;</a>
<a name="57"><span class="lineNum">      57 </span>                :            : #include &quot;tree-cfg.h&quot;</a>
<a name="58"><span class="lineNum">      58 </span>                :            : #include &quot;domwalk.h&quot;</a>
<a name="59"><span class="lineNum">      59 </span>                :            : #include &quot;gimple-iterator.h&quot;</a>
<a name="60"><span class="lineNum">      60 </span>                :            : #include &quot;gimple-match.h&quot;</a>
<a name="61"><span class="lineNum">      61 </span>                :            : #include &quot;stringpool.h&quot;</a>
<a name="62"><span class="lineNum">      62 </span>                :            : #include &quot;attribs.h&quot;</a>
<a name="63"><span class="lineNum">      63 </span>                :            : #include &quot;tree-pass.h&quot;</a>
<a name="64"><span class="lineNum">      64 </span>                :            : #include &quot;statistics.h&quot;</a>
<a name="65"><span class="lineNum">      65 </span>                :            : #include &quot;langhooks.h&quot;</a>
<a name="66"><span class="lineNum">      66 </span>                :            : #include &quot;ipa-utils.h&quot;</a>
<a name="67"><span class="lineNum">      67 </span>                :            : #include &quot;dbgcnt.h&quot;</a>
<a name="68"><span class="lineNum">      68 </span>                :            : #include &quot;tree-cfgcleanup.h&quot;</a>
<a name="69"><span class="lineNum">      69 </span>                :            : #include &quot;tree-ssa-loop.h&quot;</a>
<a name="70"><span class="lineNum">      70 </span>                :            : #include &quot;tree-scalar-evolution.h&quot;</a>
<a name="71"><span class="lineNum">      71 </span>                :            : #include &quot;tree-ssa-loop-niter.h&quot;</a>
<a name="72"><span class="lineNum">      72 </span>                :            : #include &quot;builtins.h&quot;</a>
<a name="73"><span class="lineNum">      73 </span>                :            : #include &quot;tree-ssa-sccvn.h&quot;</a>
<a name="74"><span class="lineNum">      74 </span>                :            : </a>
<a name="75"><span class="lineNum">      75 </span>                :            : /* This algorithm is based on the SCC algorithm presented by Keith</a>
<a name="76"><span class="lineNum">      76 </span>                :            :    Cooper and L. Taylor Simpson in &quot;SCC-Based Value numbering&quot;</a>
<a name="77"><span class="lineNum">      77 </span>                :            :    (http://citeseer.ist.psu.edu/41805.html).  In</a>
<a name="78"><span class="lineNum">      78 </span>                :            :    straight line code, it is equivalent to a regular hash based value</a>
<a name="79"><span class="lineNum">      79 </span>                :            :    numbering that is performed in reverse postorder.</a>
<a name="80"><span class="lineNum">      80 </span>                :            : </a>
<a name="81"><span class="lineNum">      81 </span>                :            :    For code with cycles, there are two alternatives, both of which</a>
<a name="82"><span class="lineNum">      82 </span>                :            :    require keeping the hashtables separate from the actual list of</a>
<a name="83"><span class="lineNum">      83 </span>                :            :    value numbers for SSA names.</a>
<a name="84"><span class="lineNum">      84 </span>                :            : </a>
<a name="85"><span class="lineNum">      85 </span>                :            :    1. Iterate value numbering in an RPO walk of the blocks, removing</a>
<a name="86"><span class="lineNum">      86 </span>                :            :    all the entries from the hashtable after each iteration (but</a>
<a name="87"><span class="lineNum">      87 </span>                :            :    keeping the SSA name-&gt;value number mapping between iterations).</a>
<a name="88"><span class="lineNum">      88 </span>                :            :    Iterate until it does not change.</a>
<a name="89"><span class="lineNum">      89 </span>                :            : </a>
<a name="90"><span class="lineNum">      90 </span>                :            :    2. Perform value numbering as part of an SCC walk on the SSA graph,</a>
<a name="91"><span class="lineNum">      91 </span>                :            :    iterating only the cycles in the SSA graph until they do not change</a>
<a name="92"><span class="lineNum">      92 </span>                :            :    (using a separate, optimistic hashtable for value numbering the SCC</a>
<a name="93"><span class="lineNum">      93 </span>                :            :    operands).</a>
<a name="94"><span class="lineNum">      94 </span>                :            : </a>
<a name="95"><span class="lineNum">      95 </span>                :            :    The second is not just faster in practice (because most SSA graph</a>
<a name="96"><span class="lineNum">      96 </span>                :            :    cycles do not involve all the variables in the graph), it also has</a>
<a name="97"><span class="lineNum">      97 </span>                :            :    some nice properties.</a>
<a name="98"><span class="lineNum">      98 </span>                :            : </a>
<a name="99"><span class="lineNum">      99 </span>                :            :    One of these nice properties is that when we pop an SCC off the</a>
<a name="100"><span class="lineNum">     100 </span>                :            :    stack, we are guaranteed to have processed all the operands coming from</a>
<a name="101"><span class="lineNum">     101 </span>                :            :    *outside of that SCC*, so we do not need to do anything special to</a>
<a name="102"><span class="lineNum">     102 </span>                :            :    ensure they have value numbers.</a>
<a name="103"><span class="lineNum">     103 </span>                :            : </a>
<a name="104"><span class="lineNum">     104 </span>                :            :    Another nice property is that the SCC walk is done as part of a DFS</a>
<a name="105"><span class="lineNum">     105 </span>                :            :    of the SSA graph, which makes it easy to perform combining and</a>
<a name="106"><span class="lineNum">     106 </span>                :            :    simplifying operations at the same time.</a>
<a name="107"><span class="lineNum">     107 </span>                :            : </a>
<a name="108"><span class="lineNum">     108 </span>                :            :    The code below is deliberately written in a way that makes it easy</a>
<a name="109"><span class="lineNum">     109 </span>                :            :    to separate the SCC walk from the other work it does.</a>
<a name="110"><span class="lineNum">     110 </span>                :            : </a>
<a name="111"><span class="lineNum">     111 </span>                :            :    In order to propagate constants through the code, we track which</a>
<a name="112"><span class="lineNum">     112 </span>                :            :    expressions contain constants, and use those while folding.  In</a>
<a name="113"><span class="lineNum">     113 </span>                :            :    theory, we could also track expressions whose value numbers are</a>
<a name="114"><span class="lineNum">     114 </span>                :            :    replaced, in case we end up folding based on expression</a>
<a name="115"><span class="lineNum">     115 </span>                :            :    identities.</a>
<a name="116"><span class="lineNum">     116 </span>                :            : </a>
<a name="117"><span class="lineNum">     117 </span>                :            :    In order to value number memory, we assign value numbers to vuses.</a>
<a name="118"><span class="lineNum">     118 </span>                :            :    This enables us to note that, for example, stores to the same</a>
<a name="119"><span class="lineNum">     119 </span>                :            :    address of the same value from the same starting memory states are</a>
<a name="120"><span class="lineNum">     120 </span>                :            :    equivalent.</a>
<a name="121"><span class="lineNum">     121 </span>                :            :    TODO:</a>
<a name="122"><span class="lineNum">     122 </span>                :            : </a>
<a name="123"><span class="lineNum">     123 </span>                :            :    1. We can iterate only the changing portions of the SCC's, but</a>
<a name="124"><span class="lineNum">     124 </span>                :            :    I have not seen an SCC big enough for this to be a win.</a>
<a name="125"><span class="lineNum">     125 </span>                :            :    2. If you differentiate between phi nodes for loops and phi nodes</a>
<a name="126"><span class="lineNum">     126 </span>                :            :    for if-then-else, you can properly consider phi nodes in different</a>
<a name="127"><span class="lineNum">     127 </span>                :            :    blocks for equivalence.</a>
<a name="128"><span class="lineNum">     128 </span>                :            :    3. We could value number vuses in more cases, particularly, whole</a>
<a name="129"><span class="lineNum">     129 </span>                :            :    structure copies.</a>
<a name="130"><span class="lineNum">     130 </span>                :            : */</a>
<a name="131"><span class="lineNum">     131 </span>                :            : </a>
<a name="132"><span class="lineNum">     132 </span>                :            : /* There's no BB_EXECUTABLE but we can use BB_VISITED.  */</a>
<a name="133"><span class="lineNum">     133 </span>                :            : #define BB_EXECUTABLE BB_VISITED</a>
<a name="134"><span class="lineNum">     134 </span>                :            : </a>
<a name="135"><span class="lineNum">     135 </span>                :            : static vn_lookup_kind default_vn_walk_kind;</a>
<a name="136"><span class="lineNum">     136 </span>                :            : </a>
<a name="137"><span class="lineNum">     137 </span>                :            : /* vn_nary_op hashtable helpers.  */</a>
<a name="138"><span class="lineNum">     138 </span>                :            : </a>
<a name="139"><span class="lineNum">     139 </span>                :            : struct vn_nary_op_hasher : nofree_ptr_hash &lt;vn_nary_op_s&gt;</a>
<a name="140"><span class="lineNum">     140 </span>                :            : {</a>
<a name="141"><span class="lineNum">     141 </span>                :            :   typedef vn_nary_op_s *compare_type;</a>
<a name="142"><span class="lineNum">     142 </span>                :            :   static inline hashval_t hash (const vn_nary_op_s *);</a>
<a name="143"><span class="lineNum">     143 </span>                :            :   static inline bool equal (const vn_nary_op_s *, const vn_nary_op_s *);</a>
<a name="144"><span class="lineNum">     144 </span>                :            : };</a>
<a name="145"><span class="lineNum">     145 </span>                :            : </a>
<a name="146"><span class="lineNum">     146 </span>                :            : /* Return the computed hashcode for nary operation P1.  */</a>
<a name="147"><span class="lineNum">     147 </span>                :            : </a>
<a name="148"><span class="lineNum">     148 </span>                :            : inline hashval_t</a>
<a name="149"><span class="lineNum">     149 </span>                :<span class="lineCov">    1681980 : vn_nary_op_hasher::hash (const vn_nary_op_s *vno1)</span></a>
<a name="150"><span class="lineNum">     150 </span>                :            : {</a>
<a name="151"><span class="lineNum">     151 </span>                :<span class="lineCov">    1681980 :   return vno1-&gt;hashcode;</span></a>
<a name="152"><span class="lineNum">     152 </span>                :            : }</a>
<a name="153"><span class="lineNum">     153 </span>                :            : </a>
<a name="154"><span class="lineNum">     154 </span>                :            : /* Compare nary operations P1 and P2 and return true if they are</a>
<a name="155"><span class="lineNum">     155 </span>                :            :    equivalent.  */</a>
<a name="156"><span class="lineNum">     156 </span>                :            : </a>
<a name="157"><span class="lineNum">     157 </span>                :            : inline bool</a>
<a name="158"><span class="lineNum">     158 </span>                :<span class="lineCov">   11475800 : vn_nary_op_hasher::equal (const vn_nary_op_s *vno1, const vn_nary_op_s *vno2)</span></a>
<a name="159"><span class="lineNum">     159 </span>                :            : {</a>
<a name="160"><span class="lineNum">     160 </span>  [<span class="branchCov" title="Branch 0 was taken 10511900 times"> + </span><span class="branchCov" title="Branch 1 was taken 963929 times"> + </span><span class="branchCov" title="Branch 2 was taken 3015910 times"> + </span><span class="branchCov" title="Branch 3 was taken 7495960 times"> + </span>]:<span class="lineCov">   11475800 :   return vno1 == vno2 || vn_nary_op_eq (vno1, vno2);</span></a>
<a name="161"><span class="lineNum">     161 </span>                :            : }</a>
<a name="162"><span class="lineNum">     162 </span>                :            : </a>
<a name="163"><span class="lineNum">     163 </span>                :            : typedef hash_table&lt;vn_nary_op_hasher&gt; vn_nary_op_table_type;</a>
<a name="164"><span class="lineNum">     164 </span>                :            : typedef vn_nary_op_table_type::iterator vn_nary_op_iterator_type;</a>
<a name="165"><span class="lineNum">     165 </span>                :            : </a>
<a name="166"><span class="lineNum">     166 </span>                :            : </a>
<a name="167"><span class="lineNum">     167 </span>                :            : /* vn_phi hashtable helpers.  */</a>
<a name="168"><span class="lineNum">     168 </span>                :            : </a>
<a name="169"><span class="lineNum">     169 </span>                :            : static int</a>
<a name="170"><span class="lineNum">     170 </span>                :            : vn_phi_eq (const_vn_phi_t const vp1, const_vn_phi_t const vp2);</a>
<a name="171"><span class="lineNum">     171 </span>                :            : </a>
<a name="172"><span class="lineNum">     172 </span>                :            : struct vn_phi_hasher : nofree_ptr_hash &lt;vn_phi_s&gt;</a>
<a name="173"><span class="lineNum">     173 </span>                :            : { </a>
<a name="174"><span class="lineNum">     174 </span>                :            :   static inline hashval_t hash (const vn_phi_s *);</a>
<a name="175"><span class="lineNum">     175 </span>                :            :   static inline bool equal (const vn_phi_s *, const vn_phi_s *);</a>
<a name="176"><span class="lineNum">     176 </span>                :            : };</a>
<a name="177"><span class="lineNum">     177 </span>                :            : </a>
<a name="178"><span class="lineNum">     178 </span>                :            : /* Return the computed hashcode for phi operation P1.  */</a>
<a name="179"><span class="lineNum">     179 </span>                :            : </a>
<a name="180"><span class="lineNum">     180 </span>                :            : inline hashval_t</a>
<a name="181"><span class="lineNum">     181 </span>                :<span class="lineNoCov">          0 : vn_phi_hasher::hash (const vn_phi_s *vp1)</span></a>
<a name="182"><span class="lineNum">     182 </span>                :            : {</a>
<a name="183"><span class="lineNum">     183 </span>                :<span class="lineNoCov">          0 :   return vp1-&gt;hashcode;</span></a>
<a name="184"><span class="lineNum">     184 </span>                :            : }</a>
<a name="185"><span class="lineNum">     185 </span>                :            : </a>
<a name="186"><span class="lineNum">     186 </span>                :            : /* Compare two phi entries for equality, ignoring VN_TOP arguments.  */</a>
<a name="187"><span class="lineNum">     187 </span>                :            : </a>
<a name="188"><span class="lineNum">     188 </span>                :            : inline bool</a>
<a name="189"><span class="lineNum">     189 </span>                :<span class="lineCov">     483336 : vn_phi_hasher::equal (const vn_phi_s *vp1, const vn_phi_s *vp2)</span></a>
<a name="190"><span class="lineNum">     190 </span>                :            : {</a>
<a name="191"><span class="lineNum">     191 </span>  [<span class="branchCov" title="Branch 0 was taken 338299 times"> + </span><span class="branchCov" title="Branch 1 was taken 145037 times"> + </span><span class="branchCov" title="Branch 2 was taken 119455 times"> + </span><span class="branchCov" title="Branch 3 was taken 218844 times"> + </span>]:<span class="lineCov">     483336 :   return vp1 == vp2 || vn_phi_eq (vp1, vp2);</span></a>
<a name="192"><span class="lineNum">     192 </span>                :            : }</a>
<a name="193"><span class="lineNum">     193 </span>                :            : </a>
<a name="194"><span class="lineNum">     194 </span>                :            : typedef hash_table&lt;vn_phi_hasher&gt; vn_phi_table_type;</a>
<a name="195"><span class="lineNum">     195 </span>                :            : typedef vn_phi_table_type::iterator vn_phi_iterator_type;</a>
<a name="196"><span class="lineNum">     196 </span>                :            : </a>
<a name="197"><span class="lineNum">     197 </span>                :            : </a>
<a name="198"><span class="lineNum">     198 </span>                :            : /* Compare two reference operands P1 and P2 for equality.  Return true if</a>
<a name="199"><span class="lineNum">     199 </span>                :            :    they are equal, and false otherwise.  */</a>
<a name="200"><span class="lineNum">     200 </span>                :            : </a>
<a name="201"><span class="lineNum">     201 </span>                :            : static int</a>
<a name="202"><span class="lineNum">     202 </span>                :<span class="lineCov">    1000310 : vn_reference_op_eq (const void *p1, const void *p2)</span></a>
<a name="203"><span class="lineNum">     203 </span>                :            : {</a>
<a name="204"><span class="lineNum">     204 </span>                :<span class="lineCov">    1000310 :   const_vn_reference_op_t const vro1 = (const_vn_reference_op_t) p1;</span></a>
<a name="205"><span class="lineNum">     205 </span>                :<span class="lineCov">    1000310 :   const_vn_reference_op_t const vro2 = (const_vn_reference_op_t) p2;</span></a>
<a name="206"><span class="lineNum">     206 </span>                :            : </a>
<a name="207"><span class="lineNum">     207 </span>                :<span class="lineCov">    1000310 :   return (vro1-&gt;opcode == vro2-&gt;opcode</span></a>
<a name="208"><span class="lineNum">     208 </span>                :            :           /* We do not care for differences in type qualification.  */</a>
<a name="209"><span class="lineNum">     209 </span>        [<span class="branchCov" title="Branch 0 was taken 5229 times"> + </span><span class="branchCov" title="Branch 1 was taken 995078 times"> + </span>]:<span class="lineCov">    1000310 :           &amp;&amp; (vro1-&gt;type == vro2-&gt;type</span></a>
<a name="210"><span class="lineNum">     210 </span>  [<span class="branchCov" title="Branch 0 was taken 5229 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 5229 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">       5229 :               || (vro1-&gt;type &amp;&amp; vro2-&gt;type</span></a>
<a name="211"><span class="lineNum">     211 </span>        [<span class="branchCov" title="Branch 0 was taken 3831 times"> + </span><span class="branchCov" title="Branch 1 was taken 1398 times"> + </span>]:<span class="lineCov">       5229 :                   &amp;&amp; types_compatible_p (TYPE_MAIN_VARIANT (vro1-&gt;type),</span></a>
<a name="212"><span class="lineNum">     212 </span>                :<span class="lineCov">       5229 :                                          TYPE_MAIN_VARIANT (vro2-&gt;type))))</span></a>
<a name="213"><span class="lineNum">     213 </span>        [<span class="branchCov" title="Branch 0 was taken 998738 times"> + </span><span class="branchCov" title="Branch 1 was taken 171 times"> + </span>]:<span class="lineCov">     998909 :           &amp;&amp; expressions_equal_p (vro1-&gt;op0, vro2-&gt;op0)</span></a>
<a name="214"><span class="lineNum">     214 </span>        [<span class="branchCov" title="Branch 0 was taken 998738 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     998738 :           &amp;&amp; expressions_equal_p (vro1-&gt;op1, vro2-&gt;op1)</span></a>
<a name="215"><span class="lineNum">     215 </span>  [<span class="branchCov" title="Branch 0 was taken 1000310 times"> + </span><span class="branchCov" title="Branch 1 was taken 4 times"> + </span><span class="branchCov" title="Branch 2 was taken 998738 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">    2000620 :           &amp;&amp; expressions_equal_p (vro1-&gt;op2, vro2-&gt;op2));</span></a>
<a name="216"><span class="lineNum">     216 </span>                :            : }</a>
<a name="217"><span class="lineNum">     217 </span>                :            : </a>
<a name="218"><span class="lineNum">     218 </span>                :            : /* Free a reference operation structure VP.  */</a>
<a name="219"><span class="lineNum">     219 </span>                :            : </a>
<a name="220"><span class="lineNum">     220 </span>                :            : static inline void</a>
<a name="221"><span class="lineNum">     221 </span>                :<span class="lineNoCov">          0 : free_reference (vn_reference_s *vr)</span></a>
<a name="222"><span class="lineNum">     222 </span>                :            : {</a>
<a name="223"><span class="lineNum">     223 </span>                :<span class="lineNoCov">          0 :   vr-&gt;operands.release ();</span></a>
<a name="224"><span class="lineNum">     224 </span>                :<span class="lineNoCov">          0 : }</span></a>
<a name="225"><span class="lineNum">     225 </span>                :            : </a>
<a name="226"><span class="lineNum">     226 </span>                :            : </a>
<a name="227"><span class="lineNum">     227 </span>                :            : /* vn_reference hashtable helpers.  */</a>
<a name="228"><span class="lineNum">     228 </span>                :            : </a>
<a name="229"><span class="lineNum">     229 </span>                :            : struct vn_reference_hasher : nofree_ptr_hash &lt;vn_reference_s&gt;</a>
<a name="230"><span class="lineNum">     230 </span>                :            : {</a>
<a name="231"><span class="lineNum">     231 </span>                :            :   static inline hashval_t hash (const vn_reference_s *);</a>
<a name="232"><span class="lineNum">     232 </span>                :            :   static inline bool equal (const vn_reference_s *, const vn_reference_s *);</a>
<a name="233"><span class="lineNum">     233 </span>                :            : };</a>
<a name="234"><span class="lineNum">     234 </span>                :            : </a>
<a name="235"><span class="lineNum">     235 </span>                :            : /* Return the hashcode for a given reference operation P1.  */</a>
<a name="236"><span class="lineNum">     236 </span>                :            : </a>
<a name="237"><span class="lineNum">     237 </span>                :            : inline hashval_t</a>
<a name="238"><span class="lineNum">     238 </span>                :<span class="lineCov">      26451 : vn_reference_hasher::hash (const vn_reference_s *vr1)</span></a>
<a name="239"><span class="lineNum">     239 </span>                :            : {</a>
<a name="240"><span class="lineNum">     240 </span>                :<span class="lineCov">      26451 :   return vr1-&gt;hashcode;</span></a>
<a name="241"><span class="lineNum">     241 </span>                :            : }</a>
<a name="242"><span class="lineNum">     242 </span>                :            : </a>
<a name="243"><span class="lineNum">     243 </span>                :            : inline bool</a>
<a name="244"><span class="lineNum">     244 </span>                :<span class="lineCov">    3445040 : vn_reference_hasher::equal (const vn_reference_s *v, const vn_reference_s *c)</span></a>
<a name="245"><span class="lineNum">     245 </span>                :            : {</a>
<a name="246"><span class="lineNum">     246 </span>  [<span class="branchCov" title="Branch 0 was taken 3176070 times"> + </span><span class="branchCov" title="Branch 1 was taken 268968 times"> + </span><span class="branchCov" title="Branch 2 was taken 866715 times"> + </span><span class="branchCov" title="Branch 3 was taken 2309350 times"> + </span>]:<span class="lineCov">    3445040 :   return v == c || vn_reference_eq (v, c);</span></a>
<a name="247"><span class="lineNum">     247 </span>                :            : }</a>
<a name="248"><span class="lineNum">     248 </span>                :            : </a>
<a name="249"><span class="lineNum">     249 </span>                :            : typedef hash_table&lt;vn_reference_hasher&gt; vn_reference_table_type;</a>
<a name="250"><span class="lineNum">     250 </span>                :            : typedef vn_reference_table_type::iterator vn_reference_iterator_type;</a>
<a name="251"><span class="lineNum">     251 </span>                :            : </a>
<a name="252"><span class="lineNum">     252 </span>                :            : /* Pretty-print OPS to OUTFILE.  */</a>
<a name="253"><span class="lineNum">     253 </span>                :            : </a>
<a name="254"><span class="lineNum">     254 </span>                :            : void</a>
<a name="255"><span class="lineNum">     255 </span>                :<span class="lineNoCov">          0 : print_vn_reference_ops (FILE *outfile, const vec&lt;vn_reference_op_s&gt; ops)</span></a>
<a name="256"><span class="lineNum">     256 </span>                :            : {</a>
<a name="257"><span class="lineNum">     257 </span>                :            :   vn_reference_op_t vro;</a>
<a name="258"><span class="lineNum">     258 </span>                :            :   unsigned int i;</a>
<a name="259"><span class="lineNum">     259 </span>                :<span class="lineNoCov">          0 :   fprintf (outfile, &quot;{&quot;);</span></a>
<a name="260"><span class="lineNum">     260 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :   for (i = 0; ops.iterate (i, &amp;vro); i++)</span></a>
<a name="261"><span class="lineNum">     261 </span>                :            :     {</a>
<a name="262"><span class="lineNum">     262 </span>                :<span class="lineNoCov">          0 :       bool closebrace = false;</span></a>
<a name="263"><span class="lineNum">     263 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :       if (vro-&gt;opcode != SSA_NAME</span></a>
<a name="264"><span class="lineNum">     264 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :           &amp;&amp; TREE_CODE_CLASS (vro-&gt;opcode) != tcc_declaration)</span></a>
<a name="265"><span class="lineNum">     265 </span>                :            :         {</a>
<a name="266"><span class="lineNum">     266 </span>                :<span class="lineNoCov">          0 :           fprintf (outfile, &quot;%s&quot;, get_tree_code_name (vro-&gt;opcode));</span></a>
<a name="267"><span class="lineNum">     267 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :           if (vro-&gt;op0)</span></a>
<a name="268"><span class="lineNum">     268 </span>                :            :             {</a>
<a name="269"><span class="lineNum">     269 </span>                :<span class="lineNoCov">          0 :               fprintf (outfile, &quot;&lt;&quot;);</span></a>
<a name="270"><span class="lineNum">     270 </span>                :<span class="lineNoCov">          0 :               closebrace = true;</span></a>
<a name="271"><span class="lineNum">     271 </span>                :            :             }</a>
<a name="272"><span class="lineNum">     272 </span>                :            :         }</a>
<a name="273"><span class="lineNum">     273 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :       if (vro-&gt;op0)</span></a>
<a name="274"><span class="lineNum">     274 </span>                :            :         {</a>
<a name="275"><span class="lineNum">     275 </span>                :<span class="lineNoCov">          0 :           print_generic_expr (outfile, vro-&gt;op0);</span></a>
<a name="276"><span class="lineNum">     276 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :           if (vro-&gt;op1)</span></a>
<a name="277"><span class="lineNum">     277 </span>                :            :             {</a>
<a name="278"><span class="lineNum">     278 </span>                :<span class="lineNoCov">          0 :               fprintf (outfile, &quot;,&quot;);</span></a>
<a name="279"><span class="lineNum">     279 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (outfile, vro-&gt;op1);</span></a>
<a name="280"><span class="lineNum">     280 </span>                :            :             }</a>
<a name="281"><span class="lineNum">     281 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :           if (vro-&gt;op2)</span></a>
<a name="282"><span class="lineNum">     282 </span>                :            :             {</a>
<a name="283"><span class="lineNum">     283 </span>                :<span class="lineNoCov">          0 :               fprintf (outfile, &quot;,&quot;);</span></a>
<a name="284"><span class="lineNum">     284 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (outfile, vro-&gt;op2);</span></a>
<a name="285"><span class="lineNum">     285 </span>                :            :             }</a>
<a name="286"><span class="lineNum">     286 </span>                :            :         }</a>
<a name="287"><span class="lineNum">     287 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :       if (closebrace)</span></a>
<a name="288"><span class="lineNum">     288 </span>                :<span class="lineNoCov">          0 :         fprintf (outfile, &quot;&gt;&quot;);</span></a>
<a name="289"><span class="lineNum">     289 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :       if (i != ops.length () - 1)</span></a>
<a name="290"><span class="lineNum">     290 </span>                :<span class="lineNoCov">          0 :         fprintf (outfile, &quot;,&quot;);</span></a>
<a name="291"><span class="lineNum">     291 </span>                :            :     }</a>
<a name="292"><span class="lineNum">     292 </span>                :<span class="lineNoCov">          0 :   fprintf (outfile, &quot;}&quot;);</span></a>
<a name="293"><span class="lineNum">     293 </span>                :<span class="lineNoCov">          0 : }</span></a>
<a name="294"><span class="lineNum">     294 </span>                :            : </a>
<a name="295"><span class="lineNum">     295 </span>                :            : DEBUG_FUNCTION void</a>
<a name="296"><span class="lineNum">     296 </span>                :<span class="lineNoCov">          0 : debug_vn_reference_ops (const vec&lt;vn_reference_op_s&gt; ops)</span></a>
<a name="297"><span class="lineNum">     297 </span>                :            : {</a>
<a name="298"><span class="lineNum">     298 </span>                :<span class="lineNoCov">          0 :   print_vn_reference_ops (stderr, ops);</span></a>
<a name="299"><span class="lineNum">     299 </span>                :<span class="lineNoCov">          0 :   fputc ('\n', stderr);</span></a>
<a name="300"><span class="lineNum">     300 </span>                :<span class="lineNoCov">          0 : }</span></a>
<a name="301"><span class="lineNum">     301 </span>                :            : </a>
<a name="302"><span class="lineNum">     302 </span>                :            : /* The set of VN hashtables.  */</a>
<a name="303"><span class="lineNum">     303 </span>                :            : </a>
<a name="304"><span class="lineNum">     304 </span>                :            : typedef struct vn_tables_s</a>
<a name="305"><span class="lineNum">     305 </span>                :            : {</a>
<a name="306"><span class="lineNum">     306 </span>                :            :   vn_nary_op_table_type *nary;</a>
<a name="307"><span class="lineNum">     307 </span>                :            :   vn_phi_table_type *phis;</a>
<a name="308"><span class="lineNum">     308 </span>                :            :   vn_reference_table_type *references;</a>
<a name="309"><span class="lineNum">     309 </span>                :            : } *vn_tables_t;</a>
<a name="310"><span class="lineNum">     310 </span>                :            : </a>
<a name="311"><span class="lineNum">     311 </span>                :            : </a>
<a name="312"><span class="lineNum">     312 </span>                :            : /* vn_constant hashtable helpers.  */</a>
<a name="313"><span class="lineNum">     313 </span>                :            : </a>
<a name="314"><span class="lineNum">     314 </span>                :            : struct vn_constant_hasher : free_ptr_hash &lt;vn_constant_s&gt;</a>
<a name="315"><span class="lineNum">     315 </span>                :            : { </a>
<a name="316"><span class="lineNum">     316 </span>                :            :   static inline hashval_t hash (const vn_constant_s *);</a>
<a name="317"><span class="lineNum">     317 </span>                :            :   static inline bool equal (const vn_constant_s *, const vn_constant_s *);</a>
<a name="318"><span class="lineNum">     318 </span>                :            : };</a>
<a name="319"><span class="lineNum">     319 </span>                :            : </a>
<a name="320"><span class="lineNum">     320 </span>                :            : /* Hash table hash function for vn_constant_t.  */</a>
<a name="321"><span class="lineNum">     321 </span>                :            : </a>
<a name="322"><span class="lineNum">     322 </span>                :            : inline hashval_t</a>
<a name="323"><span class="lineNum">     323 </span>                :<span class="lineCov">     121358 : vn_constant_hasher::hash (const vn_constant_s *vc1)</span></a>
<a name="324"><span class="lineNum">     324 </span>                :            : {</a>
<a name="325"><span class="lineNum">     325 </span>                :<span class="lineCov">     121358 :   return vc1-&gt;hashcode;</span></a>
<a name="326"><span class="lineNum">     326 </span>                :            : }</a>
<a name="327"><span class="lineNum">     327 </span>                :            : </a>
<a name="328"><span class="lineNum">     328 </span>                :            : /* Hash table equality function for vn_constant_t.  */</a>
<a name="329"><span class="lineNum">     329 </span>                :            : </a>
<a name="330"><span class="lineNum">     330 </span>                :            : inline bool</a>
<a name="331"><span class="lineNum">     331 </span>                :<span class="lineCov">      54808 : vn_constant_hasher::equal (const vn_constant_s *vc1, const vn_constant_s *vc2)</span></a>
<a name="332"><span class="lineNum">     332 </span>                :            : {</a>
<a name="333"><span class="lineNum">     333 </span>        [<span class="branchCov" title="Branch 0 was taken 13465 times"> + </span><span class="branchCov" title="Branch 1 was taken 41343 times"> + </span>]:<span class="lineCov">      54808 :   if (vc1-&gt;hashcode != vc2-&gt;hashcode)</span></a>
<a name="334"><span class="lineNum">     334 </span>                :<span class="lineCov">      13465 :     return false;</span></a>
<a name="335"><span class="lineNum">     335 </span>                :            : </a>
<a name="336"><span class="lineNum">     336 </span>                :<span class="lineCov">      41343 :   return vn_constant_eq_with_type (vc1-&gt;constant, vc2-&gt;constant);</span></a>
<a name="337"><span class="lineNum">     337 </span>                :            : }</a>
<a name="338"><span class="lineNum">     338 </span>                :            : </a>
<a name="339"><span class="lineNum">     339 </span>                :            : static hash_table&lt;vn_constant_hasher&gt; *constant_to_value_id;</a>
<a name="340"><span class="lineNum">     340 </span>                :            : </a>
<a name="341"><span class="lineNum">     341 </span>                :            : </a>
<a name="342"><span class="lineNum">     342 </span>                :            : /* Obstack we allocate the vn-tables elements from.  */</a>
<a name="343"><span class="lineNum">     343 </span>                :            : static obstack vn_tables_obstack;</a>
<a name="344"><span class="lineNum">     344 </span>                :            : /* Special obstack we never unwind.  */</a>
<a name="345"><span class="lineNum">     345 </span>                :            : static obstack vn_tables_insert_obstack;</a>
<a name="346"><span class="lineNum">     346 </span>                :            : </a>
<a name="347"><span class="lineNum">     347 </span>                :            : static vn_reference_t last_inserted_ref;</a>
<a name="348"><span class="lineNum">     348 </span>                :            : static vn_phi_t last_inserted_phi;</a>
<a name="349"><span class="lineNum">     349 </span>                :            : static vn_nary_op_t last_inserted_nary;</a>
<a name="350"><span class="lineNum">     350 </span>                :            : static vn_ssa_aux_t last_pushed_avail;</a>
<a name="351"><span class="lineNum">     351 </span>                :            : </a>
<a name="352"><span class="lineNum">     352 </span>                :            : /* Valid hashtables storing information we have proven to be</a>
<a name="353"><span class="lineNum">     353 </span>                :            :    correct.  */</a>
<a name="354"><span class="lineNum">     354 </span>                :            : static vn_tables_t valid_info;</a>
<a name="355"><span class="lineNum">     355 </span>                :            : </a>
<a name="356"><span class="lineNum">     356 </span>                :            : </a>
<a name="357"><span class="lineNum">     357 </span>                :            : /* Valueization hook for simplify_replace_tree.  Valueize NAME if it is</a>
<a name="358"><span class="lineNum">     358 </span>                :            :    an SSA name, otherwise just return it.  */</a>
<a name="359"><span class="lineNum">     359 </span>                :            : tree (*vn_valueize) (tree);</a>
<a name="360"><span class="lineNum">     360 </span>                :            : static tree</a>
<a name="361"><span class="lineNum">     361 </span>                :<span class="lineCov">        559 : vn_valueize_for_srt (tree t, void* context ATTRIBUTE_UNUSED)</span></a>
<a name="362"><span class="lineNum">     362 </span>                :            : {</a>
<a name="363"><span class="lineNum">     363 </span>                :<span class="lineCov">        559 :   basic_block saved_vn_context_bb = vn_context_bb;</span></a>
<a name="364"><span class="lineNum">     364 </span>                :            :   /* Look for sth available at the definition block of the argument.</a>
<a name="365"><span class="lineNum">     365 </span>                :            :      This avoids inconsistencies between availability there which</a>
<a name="366"><span class="lineNum">     366 </span>                :            :      decides if the stmt can be removed and availability at the</a>
<a name="367"><span class="lineNum">     367 </span>                :            :      use site.  The SSA property ensures that things available</a>
<a name="368"><span class="lineNum">     368 </span>                :            :      at the definition are also available at uses.  */</a>
<a name="369"><span class="lineNum">     369 </span>        [<span class="branchCov" title="Branch 0 was taken 390 times"> + </span><span class="branchCov" title="Branch 1 was taken 169 times"> + </span>]:<span class="lineCov">        559 :   if (!SSA_NAME_IS_DEFAULT_DEF (t))</span></a>
<a name="370"><span class="lineNum">     370 </span>                :<span class="lineCov">        390 :     vn_context_bb = gimple_bb (SSA_NAME_DEF_STMT (t));</span></a>
<a name="371"><span class="lineNum">     371 </span>                :<span class="lineCov">        559 :   tree res = vn_valueize (t);</span></a>
<a name="372"><span class="lineNum">     372 </span>                :<span class="lineCov">        559 :   vn_context_bb = saved_vn_context_bb;</span></a>
<a name="373"><span class="lineNum">     373 </span>                :<span class="lineCov">        559 :   return res;</span></a>
<a name="374"><span class="lineNum">     374 </span>                :            : }</a>
<a name="375"><span class="lineNum">     375 </span>                :            : </a>
<a name="376"><span class="lineNum">     376 </span>                :            : </a>
<a name="377"><span class="lineNum">     377 </span>                :            : /* This represents the top of the VN lattice, which is the universal</a>
<a name="378"><span class="lineNum">     378 </span>                :            :    value.  */</a>
<a name="379"><span class="lineNum">     379 </span>                :            : </a>
<a name="380"><span class="lineNum">     380 </span>                :            : tree VN_TOP;</a>
<a name="381"><span class="lineNum">     381 </span>                :            : </a>
<a name="382"><span class="lineNum">     382 </span>                :            : /* Unique counter for our value ids.  */</a>
<a name="383"><span class="lineNum">     383 </span>                :            : </a>
<a name="384"><span class="lineNum">     384 </span>                :            : static unsigned int next_value_id;</a>
<a name="385"><span class="lineNum">     385 </span>                :            : static int next_constant_value_id;</a>
<a name="386"><span class="lineNum">     386 </span>                :            : </a>
<a name="387"><span class="lineNum">     387 </span>                :            : </a>
<a name="388"><span class="lineNum">     388 </span>                :            : /* Table of vn_ssa_aux_t's, one per ssa_name.  The vn_ssa_aux_t objects</a>
<a name="389"><span class="lineNum">     389 </span>                :            :    are allocated on an obstack for locality reasons, and to free them</a>
<a name="390"><span class="lineNum">     390 </span>                :            :    without looping over the vec.  */</a>
<a name="391"><span class="lineNum">     391 </span>                :            : </a>
<a name="392"><span class="lineNum">     392 </span>                :            : struct vn_ssa_aux_hasher : typed_noop_remove &lt;vn_ssa_aux_t&gt;</a>
<a name="393"><span class="lineNum">     393 </span>                :            : {</a>
<a name="394"><span class="lineNum">     394 </span>                :            :   typedef vn_ssa_aux_t value_type;</a>
<a name="395"><span class="lineNum">     395 </span>                :            :   typedef tree compare_type;</a>
<a name="396"><span class="lineNum">     396 </span>                :            :   static inline hashval_t hash (const value_type &amp;);</a>
<a name="397"><span class="lineNum">     397 </span>                :            :   static inline bool equal (const value_type &amp;, const compare_type &amp;);</a>
<a name="398"><span class="lineNum">     398 </span>                :            :   static inline void mark_deleted (value_type &amp;) {}</a>
<a name="399"><span class="lineNum">     399 </span>                :            :   static const bool empty_zero_p = true;</a>
<a name="400"><span class="lineNum">     400 </span>                :<span class="lineNoCov">          0 :   static inline void mark_empty (value_type &amp;e) { e = NULL; }</span></a>
<a name="401"><span class="lineNum">     401 </span>                :<span class="lineCov">  176561000 :   static inline bool is_deleted (value_type &amp;) { return false; }</span></a>
<a name="402"><span class="lineNum">     402 </span>                :<span class="lineCov">  241069000 :   static inline bool is_empty (value_type &amp;e) { return e == NULL; }</span></a>
<a name="403"><span class="lineNum">     403 </span>                :            : };</a>
<a name="404"><span class="lineNum">     404 </span>                :            : </a>
<a name="405"><span class="lineNum">     405 </span>                :            : hashval_t</a>
<a name="406"><span class="lineNum">     406 </span>                :<span class="lineCov">      47373 : vn_ssa_aux_hasher::hash (const value_type &amp;entry)</span></a>
<a name="407"><span class="lineNum">     407 </span>                :            : {</a>
<a name="408"><span class="lineNum">     408 </span>                :<span class="lineCov">      47373 :   return SSA_NAME_VERSION (entry-&gt;name);</span></a>
<a name="409"><span class="lineNum">     409 </span>                :            : }</a>
<a name="410"><span class="lineNum">     410 </span>                :            : </a>
<a name="411"><span class="lineNum">     411 </span>                :            : bool</a>
<a name="412"><span class="lineNum">     412 </span>                :<span class="lineCov">  159388000 : vn_ssa_aux_hasher::equal (const value_type &amp;entry, const compare_type &amp;name)</span></a>
<a name="413"><span class="lineNum">     413 </span>                :            : {</a>
<a name="414"><span class="lineNum">     414 </span>                :<span class="lineCov">  159388000 :   return name == entry-&gt;name;</span></a>
<a name="415"><span class="lineNum">     415 </span>                :            : }</a>
<a name="416"><span class="lineNum">     416 </span>                :            : </a>
<a name="417"><span class="lineNum">     417 </span>                :            : static hash_table&lt;vn_ssa_aux_hasher&gt; *vn_ssa_aux_hash;</a>
<a name="418"><span class="lineNum">     418 </span>                :            : typedef hash_table&lt;vn_ssa_aux_hasher&gt;::iterator vn_ssa_aux_iterator_type;</a>
<a name="419"><span class="lineNum">     419 </span>                :            : static struct obstack vn_ssa_aux_obstack;</a>
<a name="420"><span class="lineNum">     420 </span>                :            : </a>
<a name="421"><span class="lineNum">     421 </span>                :            : static vn_nary_op_t vn_nary_op_insert_stmt (gimple *, tree);</a>
<a name="422"><span class="lineNum">     422 </span>                :            : static unsigned int vn_nary_length_from_stmt (gimple *);</a>
<a name="423"><span class="lineNum">     423 </span>                :            : static vn_nary_op_t alloc_vn_nary_op_noinit (unsigned int, obstack *);</a>
<a name="424"><span class="lineNum">     424 </span>                :            : static vn_nary_op_t vn_nary_op_insert_into (vn_nary_op_t,</a>
<a name="425"><span class="lineNum">     425 </span>                :            :                                             vn_nary_op_table_type *, bool);</a>
<a name="426"><span class="lineNum">     426 </span>                :            : static void init_vn_nary_op_from_stmt (vn_nary_op_t, gimple *);</a>
<a name="427"><span class="lineNum">     427 </span>                :            : static void init_vn_nary_op_from_pieces (vn_nary_op_t, unsigned int,</a>
<a name="428"><span class="lineNum">     428 </span>                :            :                                          enum tree_code, tree, tree *);</a>
<a name="429"><span class="lineNum">     429 </span>                :            : static tree vn_lookup_simplify_result (gimple_match_op *);</a>
<a name="430"><span class="lineNum">     430 </span>                :            : static vn_reference_t vn_reference_lookup_or_insert_for_pieces</a>
<a name="431"><span class="lineNum">     431 </span>                :            :           (tree, alias_set_type, alias_set_type, tree,</a>
<a name="432"><span class="lineNum">     432 </span>                :            :            vec&lt;vn_reference_op_s, va_heap&gt;, tree);</a>
<a name="433"><span class="lineNum">     433 </span>                :            : </a>
<a name="434"><span class="lineNum">     434 </span>                :            : /* Return whether there is value numbering information for a given SSA name.  */</a>
<a name="435"><span class="lineNum">     435 </span>                :            : </a>
<a name="436"><span class="lineNum">     436 </span>                :            : bool</a>
<a name="437"><span class="lineNum">     437 </span>                :<span class="lineCov">     197023 : has_VN_INFO (tree name)</span></a>
<a name="438"><span class="lineNum">     438 </span>                :            : {</a>
<a name="439"><span class="lineNum">     439 </span>                :<span class="lineCov">     197023 :   return vn_ssa_aux_hash-&gt;find_with_hash (name, SSA_NAME_VERSION (name));</span></a>
<a name="440"><span class="lineNum">     440 </span>                :            : }</a>
<a name="441"><span class="lineNum">     441 </span>                :            : </a>
<a name="442"><span class="lineNum">     442 </span>                :            : vn_ssa_aux_t</a>
<a name="443"><span class="lineNum">     443 </span>                :<span class="lineCov">  114421000 : VN_INFO (tree name)</span></a>
<a name="444"><span class="lineNum">     444 </span>                :            : {</a>
<a name="445"><span class="lineNum">     445 </span>                :            :   vn_ssa_aux_t *res</a>
<a name="446"><span class="lineNum">     446 </span>                :<span class="lineCov">  114421000 :     = vn_ssa_aux_hash-&gt;find_slot_with_hash (name, SSA_NAME_VERSION (name),</span></a>
<a name="447"><span class="lineNum">     447 </span>                :            :                                             INSERT);</a>
<a name="448"><span class="lineNum">     448 </span>        [<span class="branchCov" title="Branch 0 was taken 108606000 times"> + </span><span class="branchCov" title="Branch 1 was taken 5815310 times"> + </span>]:<span class="lineCov">  114421000 :   if (*res != NULL)</span></a>
<a name="449"><span class="lineNum">     449 </span>                :<span class="lineCov">  108606000 :     return *res;</span></a>
<a name="450"><span class="lineNum">     450 </span>                :            : </a>
<a name="451"><span class="lineNum">     451 </span>  [<span class="branchCov" title="Branch 0 was taken 513 times"> + </span><span class="branchCov" title="Branch 1 was taken 5814800 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 5815310 times"> + </span> :<span class="lineCov">    5815310 :   vn_ssa_aux_t newinfo = *res = XOBNEW (&amp;vn_ssa_aux_obstack, struct vn_ssa_aux);</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 5815310 times"> + </span>]
<a name="452"><span class="lineNum">     452 </span>                :<span class="lineCov">    5815310 :   memset (newinfo, 0, sizeof (struct vn_ssa_aux));</span></a>
<a name="453"><span class="lineNum">     453 </span>                :<span class="lineCov">    5815310 :   newinfo-&gt;name = name;</span></a>
<a name="454"><span class="lineNum">     454 </span>                :<span class="lineCov">    5815310 :   newinfo-&gt;valnum = VN_TOP;</span></a>
<a name="455"><span class="lineNum">     455 </span>                :            :   /* We are using the visited flag to handle uses with defs not within the</a>
<a name="456"><span class="lineNum">     456 </span>                :            :      region being value-numbered.  */</a>
<a name="457"><span class="lineNum">     457 </span>                :<span class="lineCov">    5815310 :   newinfo-&gt;visited = false;</span></a>
<a name="458"><span class="lineNum">     458 </span>                :            : </a>
<a name="459"><span class="lineNum">     459 </span>                :            :   /* Given we create the VN_INFOs on-demand now we have to do initialization</a>
<a name="460"><span class="lineNum">     460 </span>                :            :      different than VN_TOP here.  */</a>
<a name="461"><span class="lineNum">     461 </span>        [<span class="branchCov" title="Branch 0 was taken 389046 times"> + </span><span class="branchCov" title="Branch 1 was taken 5426260 times"> + </span>]:<span class="lineCov">    5815310 :   if (SSA_NAME_IS_DEFAULT_DEF (name))</span></a>
<a name="462"><span class="lineNum">     462 </span>  [<span class="branchCov" title="Branch 0 was taken 389046 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 389046 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     389046 :     switch (TREE_CODE (SSA_NAME_VAR (name)))</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 72822 times"> + </span><span class="branchCov" title="Branch 5 was taken 314524 times"> + </span><span class="branchCov" title="Branch 6 was taken 1700 times"> + </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="463"><span class="lineNum">     463 </span>                :            :       {</a>
<a name="464"><span class="lineNum">     464 </span>                :<span class="lineCov">      72822 :       case VAR_DECL:</span></a>
<a name="465"><span class="lineNum">     465 </span>                :            :         /* All undefined vars are VARYING.  */</a>
<a name="466"><span class="lineNum">     466 </span>                :<span class="lineCov">      72822 :         newinfo-&gt;valnum = name;</span></a>
<a name="467"><span class="lineNum">     467 </span>                :<span class="lineCov">      72822 :         newinfo-&gt;visited = true;</span></a>
<a name="468"><span class="lineNum">     468 </span>                :<span class="lineCov">      72822 :         break;</span></a>
<a name="469"><span class="lineNum">     469 </span>                :            : </a>
<a name="470"><span class="lineNum">     470 </span>                :<span class="lineCov">     314524 :       case PARM_DECL:</span></a>
<a name="471"><span class="lineNum">     471 </span>                :            :         /* Parameters are VARYING but we can record a condition</a>
<a name="472"><span class="lineNum">     472 </span>                :            :            if we know it is a non-NULL pointer.  */</a>
<a name="473"><span class="lineNum">     473 </span>                :<span class="lineCov">     314524 :         newinfo-&gt;visited = true;</span></a>
<a name="474"><span class="lineNum">     474 </span>                :<span class="lineCov">     314524 :         newinfo-&gt;valnum = name;</span></a>
<a name="475"><span class="lineNum">     475 </span>        [<span class="branchCov" title="Branch 0 was taken 15066 times"> + </span><span class="branchCov" title="Branch 1 was taken 143453 times"> + </span>]:<span class="lineCov">     158519 :         if (POINTER_TYPE_P (TREE_TYPE (name))</span></a>
<a name="476"><span class="lineNum">     476 </span>  [<span class="branchCov" title="Branch 0 was taken 158519 times"> + </span><span class="branchCov" title="Branch 1 was taken 156005 times"> + </span><span class="branchCov" title="Branch 2 was taken 171071 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     473043 :             &amp;&amp; nonnull_arg_p (SSA_NAME_VAR (name)))</span></a>
<span class="lineNum">         </span><span class="branchCov" title="Branch 4 was taken 171071 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchCov" title="Branch 6 was taken 67420 times"> + </span><span class="branchCov" title="Branch 7 was taken 103651 times"> + </span><span class="branchCov" title="Branch 8 was taken 67420 times"> + </span> 
<span class="lineNum">         </span>            <span class="branchCov" title="Branch 9 was taken 247104 times"> + </span>]
<a name="477"><span class="lineNum">     477 </span>                :            :           {</a>
<a name="478"><span class="lineNum">     478 </span>                :            :             tree ops[2];</a>
<a name="479"><span class="lineNum">     479 </span>                :<span class="lineCov">      67420 :             ops[0] = name;</span></a>
<a name="480"><span class="lineNum">     480 </span>                :<span class="lineCov">      67420 :             ops[1] = build_int_cst (TREE_TYPE (name), 0);</span></a>
<a name="481"><span class="lineNum">     481 </span>                :            :             vn_nary_op_t nary;</a>
<a name="482"><span class="lineNum">     482 </span>                :            :             /* Allocate from non-unwinding stack.  */</a>
<a name="483"><span class="lineNum">     483 </span>                :<span class="lineCov">      67420 :             nary = alloc_vn_nary_op_noinit (2, &amp;vn_tables_insert_obstack);</span></a>
<a name="484"><span class="lineNum">     484 </span>                :<span class="lineCov">      67420 :             init_vn_nary_op_from_pieces (nary, 2, NE_EXPR,</span></a>
<a name="485"><span class="lineNum">     485 </span>                :            :                                          boolean_type_node, ops);</a>
<a name="486"><span class="lineNum">     486 </span>                :<span class="lineCov">      67420 :             nary-&gt;predicated_values = 0;</span></a>
<a name="487"><span class="lineNum">     487 </span>                :<span class="lineCov">      67420 :             nary-&gt;u.result = boolean_true_node;</span></a>
<a name="488"><span class="lineNum">     488 </span>                :<span class="lineCov">      67420 :             vn_nary_op_insert_into (nary, valid_info-&gt;nary, true);</span></a>
<a name="489"><span class="lineNum">     489 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 67420 times"> + </span>]:<span class="lineCov">      67420 :             gcc_assert (nary-&gt;unwind_to == NULL);</span></a>
<a name="490"><span class="lineNum">     490 </span>                :            :             /* Also do not link it into the undo chain.  */</a>
<a name="491"><span class="lineNum">     491 </span>                :<span class="lineCov">      67420 :             last_inserted_nary = nary-&gt;next;</span></a>
<a name="492"><span class="lineNum">     492 </span>                :<span class="lineCov">      67420 :             nary-&gt;next = (vn_nary_op_t)(void *)-1;</span></a>
<a name="493"><span class="lineNum">     493 </span>                :<span class="lineCov">      67420 :             nary = alloc_vn_nary_op_noinit (2, &amp;vn_tables_insert_obstack);</span></a>
<a name="494"><span class="lineNum">     494 </span>                :<span class="lineCov">      67420 :             init_vn_nary_op_from_pieces (nary, 2, EQ_EXPR,</span></a>
<a name="495"><span class="lineNum">     495 </span>                :            :                                          boolean_type_node, ops);</a>
<a name="496"><span class="lineNum">     496 </span>                :<span class="lineCov">      67420 :             nary-&gt;predicated_values = 0;</span></a>
<a name="497"><span class="lineNum">     497 </span>                :<span class="lineCov">      67420 :             nary-&gt;u.result = boolean_false_node;</span></a>
<a name="498"><span class="lineNum">     498 </span>                :<span class="lineCov">      67420 :             vn_nary_op_insert_into (nary, valid_info-&gt;nary, true);</span></a>
<a name="499"><span class="lineNum">     499 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 67420 times"> + </span>]:<span class="lineCov">      67420 :             gcc_assert (nary-&gt;unwind_to == NULL);</span></a>
<a name="500"><span class="lineNum">     500 </span>                :<span class="lineCov">      67420 :             last_inserted_nary = nary-&gt;next;</span></a>
<a name="501"><span class="lineNum">     501 </span>                :<span class="lineCov">      67420 :             nary-&gt;next = (vn_nary_op_t)(void *)-1;</span></a>
<a name="502"><span class="lineNum">     502 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 67420 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">      67420 :             if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 67420 times"> + </span>]
<a name="503"><span class="lineNum">     503 </span>                :            :               {</a>
<a name="504"><span class="lineNum">     504 </span>                :<span class="lineNoCov">          0 :                 fprintf (dump_file, &quot;Recording &quot;);</span></a>
<a name="505"><span class="lineNum">     505 </span>                :<span class="lineNoCov">          0 :                 print_generic_expr (dump_file, name, TDF_SLIM);</span></a>
<a name="506"><span class="lineNum">     506 </span>                :<span class="lineNoCov">          0 :                 fprintf (dump_file, &quot; != 0\n&quot;);</span></a>
<a name="507"><span class="lineNum">     507 </span>                :            :               }</a>
<a name="508"><span class="lineNum">     508 </span>                :            :           }</a>
<a name="509"><span class="lineNum">     509 </span>                :<span class="lineCov">     314524 :         break;</span></a>
<a name="510"><span class="lineNum">     510 </span>                :            : </a>
<a name="511"><span class="lineNum">     511 </span>                :<span class="lineCov">       1700 :       case RESULT_DECL:</span></a>
<a name="512"><span class="lineNum">     512 </span>                :            :         /* If the result is passed by invisible reference the default</a>
<a name="513"><span class="lineNum">     513 </span>                :            :            def is initialized, otherwise it's uninitialized.  Still</a>
<a name="514"><span class="lineNum">     514 </span>                :            :            undefined is varying.  */</a>
<a name="515"><span class="lineNum">     515 </span>                :<span class="lineCov">       1700 :         newinfo-&gt;visited = true;</span></a>
<a name="516"><span class="lineNum">     516 </span>                :<span class="lineCov">       1700 :         newinfo-&gt;valnum = name;</span></a>
<a name="517"><span class="lineNum">     517 </span>                :<span class="lineCov">       1700 :         break;</span></a>
<a name="518"><span class="lineNum">     518 </span>                :            : </a>
<a name="519"><span class="lineNum">     519 </span>                :<span class="lineNoCov">          0 :       default:</span></a>
<a name="520"><span class="lineNum">     520 </span>                :<span class="lineNoCov">          0 :         gcc_unreachable ();</span></a>
<a name="521"><span class="lineNum">     521 </span>                :            :       }</a>
<a name="522"><span class="lineNum">     522 </span>                :<span class="lineCov">    5815310 :   return newinfo;</span></a>
<a name="523"><span class="lineNum">     523 </span>                :            : }</a>
<a name="524"><span class="lineNum">     524 </span>                :            : </a>
<a name="525"><span class="lineNum">     525 </span>                :            : /* Return the SSA value of X.  */</a>
<a name="526"><span class="lineNum">     526 </span>                :            : </a>
<a name="527"><span class="lineNum">     527 </span>                :            : inline tree</a>
<a name="528"><span class="lineNum">     528 </span>                :<span class="lineCov">   52959300 : SSA_VAL (tree x, bool *visited = NULL)</span></a>
<a name="529"><span class="lineNum">     529 </span>                :            : {</a>
<a name="530"><span class="lineNum">     530 </span>                :<span class="lineCov">   52959300 :   vn_ssa_aux_t tem = vn_ssa_aux_hash-&gt;find_with_hash (x, SSA_NAME_VERSION (x));</span></a>
<a name="531"><span class="lineNum">     531 </span>        [<span class="branchCov" title="Branch 0 was taken 14213800 times"> + </span><span class="branchCov" title="Branch 1 was taken 38745500 times"> + </span>]:<span class="lineCov">   52959300 :   if (visited)</span></a>
<a name="532"><span class="lineNum">     532 </span>  [<span class="branchCov" title="Branch 0 was taken 13801700 times"> + </span><span class="branchCov" title="Branch 1 was taken 412078 times"> + </span><span class="branchCov" title="Branch 2 was taken 13791900 times"> + </span><span class="branchCov" title="Branch 3 was taken 9804 times"> + </span>]:<span class="lineCov">   14213800 :     *visited = tem &amp;&amp; tem-&gt;visited;</span></a>
<a name="533"><span class="lineNum">     533 </span>  [<span class="branchCov" title="Branch 0 was taken 50477500 times"> + </span><span class="branchCov" title="Branch 1 was taken 2481740 times"> + </span><span class="branchCov" title="Branch 2 was taken 49928900 times"> + </span><span class="branchCov" title="Branch 3 was taken 548659 times"> + </span>]:<span class="lineCov">   52959300 :   return tem &amp;&amp; tem-&gt;visited ? tem-&gt;valnum : x;</span></a>
<a name="534"><span class="lineNum">     534 </span>                :            : }</a>
<a name="535"><span class="lineNum">     535 </span>                :            : </a>
<a name="536"><span class="lineNum">     536 </span>                :            : /* Return the SSA value of the VUSE x, supporting released VDEFs</a>
<a name="537"><span class="lineNum">     537 </span>                :            :    during elimination which will value-number the VDEF to the</a>
<a name="538"><span class="lineNum">     538 </span>                :            :    associated VUSE (but not substitute in the whole lattice).  */</a>
<a name="539"><span class="lineNum">     539 </span>                :            : </a>
<a name="540"><span class="lineNum">     540 </span>                :            : static inline tree</a>
<a name="541"><span class="lineNum">     541 </span>                :<span class="lineCov">   10604100 : vuse_ssa_val (tree x)</span></a>
<a name="542"><span class="lineNum">     542 </span>                :            : {</a>
<a name="543"><span class="lineNum">     543 </span>        [<span class="branchCov" title="Branch 0 was taken 141025 times"> + </span><span class="branchCov" title="Branch 1 was taken 10463100 times"> + </span>]:<span class="lineCov">   10604100 :   if (!x)</span></a>
<a name="544"><span class="lineNum">     544 </span>                :<span class="lineCov">     141025 :     return NULL_TREE;</span></a>
<a name="545"><span class="lineNum">     545 </span>                :            : </a>
<a name="546"><span class="lineNum">     546 </span>                :<span class="lineNoCov">          0 :   do</span></a>
<a name="547"><span class="lineNum">     547 </span>                :            :     {</a>
<a name="548"><span class="lineNum">     548 </span>                :<span class="lineCov">   10463100 :       x = SSA_VAL (x);</span></a>
<a name="549"><span class="lineNum">     549 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 10463100 times"> + </span>]:<span class="lineCov">   10463100 :       gcc_assert (x != VN_TOP);</span></a>
<a name="550"><span class="lineNum">     550 </span>                :            :     }</a>
<a name="551"><span class="lineNum">     551 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 10463100 times"> + </span>]:<span class="lineCov">   10463100 :   while (SSA_NAME_IN_FREE_LIST (x));</span></a>
<a name="552"><span class="lineNum">     552 </span>                :            : </a>
<a name="553"><span class="lineNum">     553 </span>                :<span class="lineCov">   10463100 :   return x;</span></a>
<a name="554"><span class="lineNum">     554 </span>                :            : }</a>
<a name="555"><span class="lineNum">     555 </span>                :            : </a>
<a name="556"><span class="lineNum">     556 </span>                :            : /* Similar to the above but used as callback for walk_non_aliased_vuses</a>
<a name="557"><span class="lineNum">     557 </span>                :            :    and thus should stop at unvisited VUSE to not walk across region</a>
<a name="558"><span class="lineNum">     558 </span>                :            :    boundaries.  */</a>
<a name="559"><span class="lineNum">     559 </span>                :            : </a>
<a name="560"><span class="lineNum">     560 </span>                :            : static tree</a>
<a name="561"><span class="lineNum">     561 </span>                :<span class="lineCov">    5394800 : vuse_valueize (tree vuse)</span></a>
<a name="562"><span class="lineNum">     562 </span>                :            : {</a>
<a name="563"><span class="lineNum">     563 </span>                :<span class="lineNoCov">          0 :   do</span></a>
<a name="564"><span class="lineNum">     564 </span>                :            :     {</a>
<a name="565"><span class="lineNum">     565 </span>                :            :       bool visited;</a>
<a name="566"><span class="lineNum">     566 </span>                :<span class="lineCov">    5394800 :       vuse = SSA_VAL (vuse, &amp;visited);</span></a>
<a name="567"><span class="lineNum">     567 </span>        [<span class="branchCov" title="Branch 0 was taken 321892 times"> + </span><span class="branchCov" title="Branch 1 was taken 5072910 times"> + </span>]:<span class="lineCov">    5394800 :       if (!visited)</span></a>
<a name="568"><span class="lineNum">     568 </span>                :<span class="lineCov">     321892 :         return NULL_TREE;</span></a>
<a name="569"><span class="lineNum">     569 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 5072910 times"> + </span>]:<span class="lineCov">    5072910 :       gcc_assert (vuse != VN_TOP);</span></a>
<a name="570"><span class="lineNum">     570 </span>                :            :     }</a>
<a name="571"><span class="lineNum">     571 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 5072910 times"> + </span>]:<span class="lineCov">    5072910 :   while (SSA_NAME_IN_FREE_LIST (vuse));</span></a>
<a name="572"><span class="lineNum">     572 </span>                :<span class="lineCov">    5072910 :   return vuse;</span></a>
<a name="573"><span class="lineNum">     573 </span>                :            : }</a>
<a name="574"><span class="lineNum">     574 </span>                :            : </a>
<a name="575"><span class="lineNum">     575 </span>                :            : </a>
<a name="576"><span class="lineNum">     576 </span>                :            : /* Return the vn_kind the expression computed by the stmt should be</a>
<a name="577"><span class="lineNum">     577 </span>                :            :    associated with.  */</a>
<a name="578"><span class="lineNum">     578 </span>                :            : </a>
<a name="579"><span class="lineNum">     579 </span>                :            : enum vn_kind</a>
<a name="580"><span class="lineNum">     580 </span>                :<span class="lineCov">    3971660 : vn_get_stmt_kind (gimple *stmt)</span></a>
<a name="581"><span class="lineNum">     581 </span>                :            : {</a>
<a name="582"><span class="lineNum">     582 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 3971660 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">    3971660 :   switch (gimple_code (stmt))</span></a>
<a name="583"><span class="lineNum">     583 </span>                :            :     {</a>
<a name="584"><span class="lineNum">     584 </span>                :<span class="lineNoCov">          0 :     case GIMPLE_CALL:</span></a>
<a name="585"><span class="lineNum">     585 </span>                :<span class="lineNoCov">          0 :       return VN_REFERENCE;</span></a>
<a name="586"><span class="lineNum">     586 </span>                :<span class="lineNoCov">          0 :     case GIMPLE_PHI:</span></a>
<a name="587"><span class="lineNum">     587 </span>                :<span class="lineNoCov">          0 :       return VN_PHI;</span></a>
<a name="588"><span class="lineNum">     588 </span>                :<span class="lineCov">    3971660 :     case GIMPLE_ASSIGN:</span></a>
<a name="589"><span class="lineNum">     589 </span>                :            :       {</a>
<a name="590"><span class="lineNum">     590 </span>                :<span class="lineCov">    3971660 :         enum tree_code code = gimple_assign_rhs_code (stmt);</span></a>
<a name="591"><span class="lineNum">     591 </span>                :<span class="lineCov">    3971660 :         tree rhs1 = gimple_assign_rhs1 (stmt);</span></a>
<a name="592"><span class="lineNum">     592 </span>     [<span class="branchCov" title="Branch 0 was taken 2368530 times"> + </span><span class="branchCov" title="Branch 1 was taken 1603130 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span>]:<span class="lineCov">    3971660 :         switch (get_gimple_rhs_class (code))</span></a>
<a name="593"><span class="lineNum">     593 </span>                :            :           {</a>
<a name="594"><span class="lineNum">     594 </span>                :<span class="lineCov">    2368530 :           case GIMPLE_UNARY_RHS:</span></a>
<a name="595"><span class="lineNum">     595 </span>                :            :           case GIMPLE_BINARY_RHS:</a>
<a name="596"><span class="lineNum">     596 </span>                :            :           case GIMPLE_TERNARY_RHS:</a>
<a name="597"><span class="lineNum">     597 </span>                :<span class="lineCov">    2368530 :             return VN_NARY;</span></a>
<a name="598"><span class="lineNum">     598 </span>                :<span class="lineCov">    1603130 :           case GIMPLE_SINGLE_RHS:</span></a>
<a name="599"><span class="lineNum">     599 </span>  [<span class="branchCov" title="Branch 0 was taken 1147690 times"> + </span><span class="branchCov" title="Branch 1 was taken 243755 times"> + </span><span class="branchCov" title="Branch 2 was taken 45371 times"> + </span><span class="branchCov" title="Branch 3 was taken 166314 times"> + </span>]:<span class="lineCov">    1603130 :             switch (TREE_CODE_CLASS (code))</span></a>
<a name="600"><span class="lineNum">     600 </span>                :            :               {</a>
<a name="601"><span class="lineNum">     601 </span>                :<span class="lineCov">    1147690 :               case tcc_reference:</span></a>
<a name="602"><span class="lineNum">     602 </span>                :            :                 /* VOP-less references can go through unary case.  */</a>
<a name="603"><span class="lineNum">     603 </span>                :<span class="lineCov">    1147690 :                 if ((code == REALPART_EXPR</span></a>
<a name="604"><span class="lineNum">     604 </span>        [<span class="branchCov" title="Branch 0 was taken 1138220 times"> + </span><span class="branchCov" title="Branch 1 was taken 4940 times"> + </span>]:<span class="lineCov">    1143160 :                      || code == IMAGPART_EXPR</span></a>
<a name="605"><span class="lineNum">     605 </span>        [<span class="branchCov" title="Branch 0 was taken 1130990 times"> + </span><span class="branchCov" title="Branch 1 was taken 7225 times"> + </span>]:<span class="lineCov">    1138220 :                      || code == VIEW_CONVERT_EXPR</span></a>
<a name="606"><span class="lineNum">     606 </span>        [<span class="branchCov" title="Branch 0 was taken 31885 times"> + </span><span class="branchCov" title="Branch 1 was taken 1099110 times"> + </span>]:<span class="lineCov">    1130990 :                      || code == BIT_FIELD_REF)</span></a>
<a name="607"><span class="lineNum">     607 </span>  [<span class="branchCov" title="Branch 0 was taken 1143160 times"> + </span><span class="branchCov" title="Branch 1 was taken 4535 times"> + </span><span class="branchCov" title="Branch 2 was taken 26279 times"> + </span><span class="branchCov" title="Branch 3 was taken 22306 times"> + </span> :<span class="lineCov">    2317130 :                     &amp;&amp; (TREE_CODE (TREE_OPERAND (rhs1, 0)) == SSA_NAME</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 22469 times"> + </span><span class="branchCov" title="Branch 5 was taken 1125220 times"> + </span>]
<a name="608"><span class="lineNum">     608 </span>        [<span class="branchCov" title="Branch 0 was taken 163 times"> + </span><span class="branchCov" title="Branch 1 was taken 26116 times"> + </span>]:<span class="lineCov">      26279 :                         || is_gimple_min_invariant (TREE_OPERAND (rhs1, 0))))</span></a>
<a name="609"><span class="lineNum">     609 </span>                :<span class="lineCov">      22469 :                   return VN_NARY;</span></a>
<a name="610"><span class="lineNum">     610 </span>                :            : </a>
<a name="611"><span class="lineNum">     611 </span>                :            :                 /* Fallthrough.  */</a>
<a name="612"><span class="lineNum">     612 </span>                :            :               case tcc_declaration:</a>
<a name="613"><span class="lineNum">     613 </span>                :<span class="lineCov">    1368980 :                 return VN_REFERENCE;</span></a>
<a name="614"><span class="lineNum">     614 </span>                :            : </a>
<a name="615"><span class="lineNum">     615 </span>                :<span class="lineCov">      45371 :               case tcc_constant:</span></a>
<a name="616"><span class="lineNum">     616 </span>                :<span class="lineCov">      45371 :                 return VN_CONSTANT;</span></a>
<a name="617"><span class="lineNum">     617 </span>                :            : </a>
<a name="618"><span class="lineNum">     618 </span>                :<span class="lineCov">     166314 :               default:</span></a>
<a name="619"><span class="lineNum">     619 </span>        [<span class="branchCov" title="Branch 0 was taken 89366 times"> + </span><span class="branchCov" title="Branch 1 was taken 76948 times"> + </span>]:<span class="lineCov">     166314 :                 if (code == ADDR_EXPR)</span></a>
<a name="620"><span class="lineNum">     620 </span>                :<span class="lineCov">      89366 :                   return (is_gimple_min_invariant (rhs1)</span></a>
<a name="621"><span class="lineNum">     621 </span>        [<span class="branchCov" title="Branch 0 was taken 10514 times"> + </span><span class="branchCov" title="Branch 1 was taken 78852 times"> + </span>]:<span class="lineCov">      89366 :                           ? VN_CONSTANT : VN_REFERENCE);</span></a>
<a name="622"><span class="lineNum">     622 </span>        [<span class="branchCov" title="Branch 0 was taken 1933 times"> + </span><span class="branchCov" title="Branch 1 was taken 75015 times"> + </span>]:<span class="lineCov">      76948 :                 else if (code == CONSTRUCTOR)</span></a>
<a name="623"><span class="lineNum">     623 </span>                :<span class="lineCov">       1933 :                   return VN_NARY;</span></a>
<a name="624"><span class="lineNum">     624 </span>                :<span class="lineCov">      75015 :                 return VN_NONE;</span></a>
<a name="625"><span class="lineNum">     625 </span>                :            :               }</a>
<a name="626"><span class="lineNum">     626 </span>                :<span class="lineNoCov">          0 :           default:</span></a>
<a name="627"><span class="lineNum">     627 </span>                :<span class="lineNoCov">          0 :             return VN_NONE;</span></a>
<a name="628"><span class="lineNum">     628 </span>                :            :           }</a>
<a name="629"><span class="lineNum">     629 </span>                :            :       }</a>
<a name="630"><span class="lineNum">     630 </span>                :<span class="lineNoCov">          0 :     default:</span></a>
<a name="631"><span class="lineNum">     631 </span>                :<span class="lineNoCov">          0 :       return VN_NONE;</span></a>
<a name="632"><span class="lineNum">     632 </span>                :            :     }</a>
<a name="633"><span class="lineNum">     633 </span>                :            : }</a>
<a name="634"><span class="lineNum">     634 </span>                :            : </a>
<a name="635"><span class="lineNum">     635 </span>                :            : /* Lookup a value id for CONSTANT and return it.  If it does not</a>
<a name="636"><span class="lineNum">     636 </span>                :            :    exist returns 0.  */</a>
<a name="637"><span class="lineNum">     637 </span>                :            : </a>
<a name="638"><span class="lineNum">     638 </span>                :            : unsigned int</a>
<a name="639"><span class="lineNum">     639 </span>                :<span class="lineNoCov">          0 : get_constant_value_id (tree constant)</span></a>
<a name="640"><span class="lineNum">     640 </span>                :            : {</a>
<a name="641"><span class="lineNum">     641 </span>                :            :   vn_constant_s **slot;</a>
<a name="642"><span class="lineNum">     642 </span>                :            :   struct vn_constant_s vc;</a>
<a name="643"><span class="lineNum">     643 </span>                :            : </a>
<a name="644"><span class="lineNum">     644 </span>                :<span class="lineNoCov">          0 :   vc.hashcode = vn_hash_constant_with_type (constant);</span></a>
<a name="645"><span class="lineNum">     645 </span>                :<span class="lineNoCov">          0 :   vc.constant = constant;</span></a>
<a name="646"><span class="lineNum">     646 </span>                :<span class="lineNoCov">          0 :   slot = constant_to_value_id-&gt;find_slot (&amp;vc, NO_INSERT);</span></a>
<a name="647"><span class="lineNum">     647 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :   if (slot)</span></a>
<a name="648"><span class="lineNum">     648 </span>                :<span class="lineNoCov">          0 :     return (*slot)-&gt;value_id;</span></a>
<a name="649"><span class="lineNum">     649 </span>                :<span class="lineNoCov">          0 :   return 0;</span></a>
<a name="650"><span class="lineNum">     650 </span>                :            : }</a>
<a name="651"><span class="lineNum">     651 </span>                :            : </a>
<a name="652"><span class="lineNum">     652 </span>                :            : /* Lookup a value id for CONSTANT, and if it does not exist, create a</a>
<a name="653"><span class="lineNum">     653 </span>                :            :    new one and return it.  If it does exist, return it.  */</a>
<a name="654"><span class="lineNum">     654 </span>                :            : </a>
<a name="655"><span class="lineNum">     655 </span>                :            : unsigned int</a>
<a name="656"><span class="lineNum">     656 </span>                :<span class="lineCov">     537531 : get_or_alloc_constant_value_id (tree constant)</span></a>
<a name="657"><span class="lineNum">     657 </span>                :            : {</a>
<a name="658"><span class="lineNum">     658 </span>                :            :   vn_constant_s **slot;</a>
<a name="659"><span class="lineNum">     659 </span>                :            :   struct vn_constant_s vc;</a>
<a name="660"><span class="lineNum">     660 </span>                :            :   vn_constant_t vcp;</a>
<a name="661"><span class="lineNum">     661 </span>                :            : </a>
<a name="662"><span class="lineNum">     662 </span>                :            :   /* If the hashtable isn't initialized we're not running from PRE and thus</a>
<a name="663"><span class="lineNum">     663 </span>                :            :      do not need value-ids.  */</a>
<a name="664"><span class="lineNum">     664 </span>        [<span class="branchCov" title="Branch 0 was taken 422923 times"> + </span><span class="branchCov" title="Branch 1 was taken 114608 times"> + </span>]:<span class="lineCov">     537531 :   if (!constant_to_value_id)</span></a>
<a name="665"><span class="lineNum">     665 </span>                :<span class="lineCov">     422923 :     return 0;</span></a>
<a name="666"><span class="lineNum">     666 </span>                :            : </a>
<a name="667"><span class="lineNum">     667 </span>                :<span class="lineCov">     114608 :   vc.hashcode = vn_hash_constant_with_type (constant);</span></a>
<a name="668"><span class="lineNum">     668 </span>                :<span class="lineCov">     114608 :   vc.constant = constant;</span></a>
<a name="669"><span class="lineNum">     669 </span>                :<span class="lineCov">     114608 :   slot = constant_to_value_id-&gt;find_slot (&amp;vc, INSERT);</span></a>
<a name="670"><span class="lineNum">     670 </span>        [<span class="branchCov" title="Branch 0 was taken 41312 times"> + </span><span class="branchCov" title="Branch 1 was taken 73296 times"> + </span>]:<span class="lineCov">     114608 :   if (*slot)</span></a>
<a name="671"><span class="lineNum">     671 </span>                :<span class="lineCov">      41312 :     return (*slot)-&gt;value_id;</span></a>
<a name="672"><span class="lineNum">     672 </span>                :            : </a>
<a name="673"><span class="lineNum">     673 </span>                :<span class="lineCov">      73296 :   vcp = XNEW (struct vn_constant_s);</span></a>
<a name="674"><span class="lineNum">     674 </span>                :<span class="lineCov">      73296 :   vcp-&gt;hashcode = vc.hashcode;</span></a>
<a name="675"><span class="lineNum">     675 </span>                :<span class="lineCov">      73296 :   vcp-&gt;constant = constant;</span></a>
<a name="676"><span class="lineNum">     676 </span>                :<span class="lineCov">      73296 :   vcp-&gt;value_id = get_next_constant_value_id ();</span></a>
<a name="677"><span class="lineNum">     677 </span>                :<span class="lineCov">      73296 :   *slot = vcp;</span></a>
<a name="678"><span class="lineNum">     678 </span>                :<span class="lineCov">      73296 :   return vcp-&gt;value_id;</span></a>
<a name="679"><span class="lineNum">     679 </span>                :            : }</a>
<a name="680"><span class="lineNum">     680 </span>                :            : </a>
<a name="681"><span class="lineNum">     681 </span>                :            : /* Compute the hash for a reference operand VRO1.  */</a>
<a name="682"><span class="lineNum">     682 </span>                :            : </a>
<a name="683"><span class="lineNum">     683 </span>                :            : static void</a>
<a name="684"><span class="lineNum">     684 </span>                :<span class="lineCov">    4091350 : vn_reference_op_compute_hash (const vn_reference_op_t vro1, inchash::hash &amp;hstate)</span></a>
<a name="685"><span class="lineNum">     685 </span>                :            : {</a>
<a name="686"><span class="lineNum">     686 </span>                :<span class="lineCov">    4091350 :   hstate.add_int (vro1-&gt;opcode);</span></a>
<a name="687"><span class="lineNum">     687 </span>        [<span class="branchCov" title="Branch 0 was taken 3898630 times"> + </span><span class="branchCov" title="Branch 1 was taken 192722 times"> + </span>]:<span class="lineCov">    4091350 :   if (vro1-&gt;op0)</span></a>
<a name="688"><span class="lineNum">     688 </span>                :<span class="lineCov">    3898630 :     inchash::add_expr (vro1-&gt;op0, hstate);</span></a>
<a name="689"><span class="lineNum">     689 </span>        [<span class="branchCov" title="Branch 0 was taken 223954 times"> + </span><span class="branchCov" title="Branch 1 was taken 3867400 times"> + </span>]:<span class="lineCov">    4091350 :   if (vro1-&gt;op1)</span></a>
<a name="690"><span class="lineNum">     690 </span>                :<span class="lineCov">     223954 :     inchash::add_expr (vro1-&gt;op1, hstate);</span></a>
<a name="691"><span class="lineNum">     691 </span>        [<span class="branchCov" title="Branch 0 was taken 258997 times"> + </span><span class="branchCov" title="Branch 1 was taken 3832360 times"> + </span>]:<span class="lineCov">    4091350 :   if (vro1-&gt;op2)</span></a>
<a name="692"><span class="lineNum">     692 </span>                :<span class="lineCov">     258997 :     inchash::add_expr (vro1-&gt;op2, hstate);</span></a>
<a name="693"><span class="lineNum">     693 </span>                :<span class="lineCov">    4091350 : }</span></a>
<a name="694"><span class="lineNum">     694 </span>                :            : </a>
<a name="695"><span class="lineNum">     695 </span>                :            : /* Compute a hash for the reference operation VR1 and return it.  */</a>
<a name="696"><span class="lineNum">     696 </span>                :            : </a>
<a name="697"><span class="lineNum">     697 </span>                :            : static hashval_t</a>
<a name="698"><span class="lineNum">     698 </span>                :<span class="lineCov">    4824980 : vn_reference_compute_hash (const vn_reference_t vr1)</span></a>
<a name="699"><span class="lineNum">     699 </span>                :            : {</a>
<a name="700"><span class="lineNum">     700 </span>                :<span class="lineCov">    4824980 :   inchash::hash hstate;</span></a>
<a name="701"><span class="lineNum">     701 </span>                :            :   hashval_t result;</a>
<a name="702"><span class="lineNum">     702 </span>                :            :   int i;</a>
<a name="703"><span class="lineNum">     703 </span>                :            :   vn_reference_op_t vro;</a>
<a name="704"><span class="lineNum">     704 </span>                :<span class="lineCov">    4824980 :   poly_int64 off = -1;</span></a>
<a name="705"><span class="lineNum">     705 </span>                :<span class="lineCov">    4824980 :   bool deref = false;</span></a>
<a name="706"><span class="lineNum">     706 </span>                :            : </a>
<a name="707"><span class="lineNum">     707 </span>        [<span class="branchCov" title="Branch 0 was taken 13738700 times"> + </span><span class="branchCov" title="Branch 1 was taken 4824980 times"> + </span>]:<span class="lineCov">   18563700 :   FOR_EACH_VEC_ELT (vr1-&gt;operands, i, vro)</span></a>
<a name="708"><span class="lineNum">     708 </span>                :            :     {</a>
<a name="709"><span class="lineNum">     709 </span>        [<span class="branchCov" title="Branch 0 was taken 4509720 times"> + </span><span class="branchCov" title="Branch 1 was taken 9228980 times"> + </span>]:<span class="lineCov">   13738700 :       if (vro-&gt;opcode == MEM_REF)</span></a>
<a name="710"><span class="lineNum">     710 </span>                :<span class="lineCov">    4509720 :         deref = true;</span></a>
<a name="711"><span class="lineNum">     711 </span>        [<span class="branchCov" title="Branch 0 was taken 6818890 times"> + </span><span class="branchCov" title="Branch 1 was taken 2410090 times"> + </span>]:<span class="lineCov">    9228980 :       else if (vro-&gt;opcode != ADDR_EXPR)</span></a>
<a name="712"><span class="lineNum">     712 </span>                :<span class="lineCov">    6818890 :         deref = false;</span></a>
<a name="713"><span class="lineNum">     713 </span>        [<span class="branchCov" title="Branch 0 was taken 7507850 times"> + </span><span class="branchCov" title="Branch 1 was taken 6230850 times"> + </span>]:<span class="lineCov">   13738700 :       if (maybe_ne (vro-&gt;off, -1))</span></a>
<a name="714"><span class="lineNum">     714 </span>                :            :         {</a>
<a name="715"><span class="lineNum">     715 </span>        [<span class="branchCov" title="Branch 0 was taken 4613290 times"> + </span><span class="branchCov" title="Branch 1 was taken 2894560 times"> + </span>]:<span class="lineCov">    7507850 :           if (known_eq (off, -1))</span></a>
<a name="716"><span class="lineNum">     716 </span>                :<span class="lineCov">    4613290 :             off = 0;</span></a>
<a name="717"><span class="lineNum">     717 </span>                :<span class="lineCov">    7507850 :           off += vro-&gt;off;</span></a>
<a name="718"><span class="lineNum">     718 </span>                :            :         }</a>
<a name="719"><span class="lineNum">     719 </span>                :            :       else</a>
<a name="720"><span class="lineNum">     720 </span>                :            :         {</a>
<a name="721"><span class="lineNum">     721 </span>                :<span class="lineCov">    6230850 :           if (maybe_ne (off, -1)</span></a>
<a name="722"><span class="lineNum">     722 </span>  [<span class="branchCov" title="Branch 0 was taken 4613250 times"> + </span><span class="branchCov" title="Branch 1 was taken 1617600 times"> + </span><span class="branchCov" title="Branch 2 was taken 2358270 times"> + </span><span class="branchCov" title="Branch 3 was taken 2254980 times"> + </span> :<span class="lineCov">    6230850 :               &amp;&amp; maybe_ne (off, 0))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 2358270 times"> + </span><span class="branchCov" title="Branch 5 was taken 3872580 times"> + </span>]
<a name="723"><span class="lineNum">     723 </span>                :<span class="lineCov">    2358270 :             hstate.add_poly_int (off);</span></a>
<a name="724"><span class="lineNum">     724 </span>                :<span class="lineCov">    6230850 :           off = -1;</span></a>
<a name="725"><span class="lineNum">     725 </span>        [<span class="branchCov" title="Branch 0 was taken 2147800 times"> + </span><span class="branchCov" title="Branch 1 was taken 4083050 times"> + </span>]:<span class="lineCov">    6230850 :           if (deref</span></a>
<a name="726"><span class="lineNum">     726 </span>        [<span class="branchCov" title="Branch 0 was taken 2139500 times"> + </span><span class="branchCov" title="Branch 1 was taken 8308 times"> + </span>]:<span class="lineCov">    2147800 :               &amp;&amp; vro-&gt;opcode == ADDR_EXPR)</span></a>
<a name="727"><span class="lineNum">     727 </span>                :            :             {</a>
<a name="728"><span class="lineNum">     728 </span>        [<span class="branchCov" title="Branch 0 was taken 2139500 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">    2139500 :               if (vro-&gt;op0)</span></a>
<a name="729"><span class="lineNum">     729 </span>                :            :                 {</a>
<a name="730"><span class="lineNum">     730 </span>                :<span class="lineCov">    2139500 :                   tree op = TREE_OPERAND (vro-&gt;op0, 0);</span></a>
<a name="731"><span class="lineNum">     731 </span>                :<span class="lineCov">    2139500 :                   hstate.add_int (TREE_CODE (op));</span></a>
<a name="732"><span class="lineNum">     732 </span>                :<span class="lineCov">    2139500 :                   inchash::add_expr (op, hstate);</span></a>
<a name="733"><span class="lineNum">     733 </span>                :<span class="lineCov">    2139500 :                 }</span></a>
<a name="734"><span class="lineNum">     734 </span>                :            :             }</a>
<a name="735"><span class="lineNum">     735 </span>                :            :           else</a>
<a name="736"><span class="lineNum">     736 </span>                :<span class="lineCov">    4091350 :             vn_reference_op_compute_hash (vro, hstate);</span></a>
<a name="737"><span class="lineNum">     737 </span>                :            :         }</a>
<a name="738"><span class="lineNum">     738 </span>                :            :     }</a>
<a name="739"><span class="lineNum">     739 </span>                :<span class="lineCov">    4824980 :   result = hstate.end ();</span></a>
<a name="740"><span class="lineNum">     740 </span>                :            :   /* ??? We would ICE later if we hash instead of adding that in. */</a>
<a name="741"><span class="lineNum">     741 </span>        [<span class="branchCov" title="Branch 0 was taken 4644090 times"> + </span><span class="branchCov" title="Branch 1 was taken 180892 times"> + </span>]:<span class="lineCov">    4824980 :   if (vr1-&gt;vuse)</span></a>
<a name="742"><span class="lineNum">     742 </span>                :<span class="lineCov">    4644090 :     result += SSA_NAME_VERSION (vr1-&gt;vuse);</span></a>
<a name="743"><span class="lineNum">     743 </span>                :            : </a>
<a name="744"><span class="lineNum">     744 </span>                :<span class="lineCov">    4824980 :   return result;</span></a>
<a name="745"><span class="lineNum">     745 </span>                :            : }</a>
<a name="746"><span class="lineNum">     746 </span>                :            : </a>
<a name="747"><span class="lineNum">     747 </span>                :            : /* Return true if reference operations VR1 and VR2 are equivalent.  This</a>
<a name="748"><span class="lineNum">     748 </span>                :            :    means they have the same set of operands and vuses.  */</a>
<a name="749"><span class="lineNum">     749 </span>                :            : </a>
<a name="750"><span class="lineNum">     750 </span>                :            : bool</a>
<a name="751"><span class="lineNum">     751 </span>                :<span class="lineCov">    3631420 : vn_reference_eq (const_vn_reference_t const vr1, const_vn_reference_t const vr2)</span></a>
<a name="752"><span class="lineNum">     752 </span>                :            : {</a>
<a name="753"><span class="lineNum">     753 </span>                :            :   unsigned i, j;</a>
<a name="754"><span class="lineNum">     754 </span>                :            : </a>
<a name="755"><span class="lineNum">     755 </span>                :            :   /* Early out if this is not a hash collision.  */</a>
<a name="756"><span class="lineNum">     756 </span>        [<span class="branchCov" title="Branch 0 was taken 2300730 times"> + </span><span class="branchCov" title="Branch 1 was taken 1330690 times"> + </span>]:<span class="lineCov">    3631420 :   if (vr1-&gt;hashcode != vr2-&gt;hashcode)</span></a>
<a name="757"><span class="lineNum">     757 </span>                :<span class="lineCov">    2300730 :     return false;</span></a>
<a name="758"><span class="lineNum">     758 </span>                :            : </a>
<a name="759"><span class="lineNum">     759 </span>                :            :   /* The VOP needs to be the same.  */</a>
<a name="760"><span class="lineNum">     760 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1330690 times"> + </span>]:<span class="lineCov">    1330690 :   if (vr1-&gt;vuse != vr2-&gt;vuse)</span></a>
<a name="761"><span class="lineNum">     761 </span>                :<span class="lineNoCov">          0 :     return false;</span></a>
<a name="762"><span class="lineNum">     762 </span>                :            : </a>
<a name="763"><span class="lineNum">     763 </span>                :            :   /* If the operands are the same we are done.  */</a>
<a name="764"><span class="lineNum">     764 </span>        [<span class="branchCov" title="Branch 0 was taken 423846 times"> + </span><span class="branchCov" title="Branch 1 was taken 906843 times"> + </span>]:<span class="lineCov">    1330690 :   if (vr1-&gt;operands == vr2-&gt;operands)</span></a>
<a name="765"><span class="lineNum">     765 </span>                :<span class="lineCov">     423846 :     return true;</span></a>
<a name="766"><span class="lineNum">     766 </span>                :            : </a>
<a name="767"><span class="lineNum">     767 </span>                :<span class="lineCov">    1813690 :   if (COMPLETE_TYPE_P (vr1-&gt;type) != COMPLETE_TYPE_P (vr2-&gt;type)</span></a>
<a name="768"><span class="lineNum">     768 </span>  [<span class="branchCov" title="Branch 0 was taken 906843 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 893739 times"> + </span><span class="branchCov" title="Branch 3 was taken 13104 times"> + </span> :<span class="lineCov">    1800580 :       || (COMPLETE_TYPE_P (vr1-&gt;type)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 31987 times"> + </span><span class="branchCov" title="Branch 5 was taken 874856 times"> + </span>]
<a name="769"><span class="lineNum">     769 </span>        [<span class="branchCov" title="Branch 0 was taken 31987 times"> + </span><span class="branchCov" title="Branch 1 was taken 861752 times"> + </span>]:<span class="lineCov">     893739 :           &amp;&amp; !expressions_equal_p (TYPE_SIZE (vr1-&gt;type),</span></a>
<a name="770"><span class="lineNum">     770 </span>                :<span class="lineCov">     893739 :                                    TYPE_SIZE (vr2-&gt;type))))</span></a>
<a name="771"><span class="lineNum">     771 </span>                :<span class="lineCov">      31987 :     return false;</span></a>
<a name="772"><span class="lineNum">     772 </span>                :            : </a>
<a name="773"><span class="lineNum">     773 </span>  [<span class="branchCov" title="Branch 0 was taken 869222 times"> + </span><span class="branchCov" title="Branch 1 was taken 5634 times"> + </span><span class="branchCov" title="Branch 2 was taken 852891 times"> + </span><span class="branchCov" title="Branch 3 was taken 16331 times"> + </span> :<span class="lineCov">     874856 :   if (INTEGRAL_TYPE_P (vr1-&gt;type)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 657496 times"> + </span><span class="branchCov" title="Branch 5 was taken 195395 times"> + </span>]
<a name="774"><span class="lineNum">     774 </span>  [<span class="branchCov" title="Branch 0 was taken 673869 times"> + </span><span class="branchCov" title="Branch 1 was taken 5592 times"> + </span><span class="branchCov" title="Branch 2 was taken 658505 times"> + </span><span class="branchCov" title="Branch 3 was taken 15364 times"> + </span> :<span class="lineCov">     679461 :       &amp;&amp; INTEGRAL_TYPE_P (vr2-&gt;type))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 658155 times"> + </span><span class="branchCov" title="Branch 5 was taken 350 times"> + </span>]
<a name="775"><span class="lineNum">     775 </span>                :            :     {</a>
<a name="776"><span class="lineNum">     776 </span>        [<span class="branchCov" title="Branch 0 was taken 8022 times"> + </span><span class="branchCov" title="Branch 1 was taken 671089 times"> + </span>]:<span class="lineCov">     679111 :       if (TYPE_PRECISION (vr1-&gt;type) != TYPE_PRECISION (vr2-&gt;type))</span></a>
<a name="777"><span class="lineNum">     777 </span>                :<span class="lineCov">       8022 :         return false;</span></a>
<a name="778"><span class="lineNum">     778 </span>                :            :     }</a>
<a name="779"><span class="lineNum">     779 </span>  [<span class="branchCov" title="Branch 0 was taken 195745 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 195745 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     195745 :   else if (INTEGRAL_TYPE_P (vr1-&gt;type)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 350 times"> + </span><span class="branchCov" title="Branch 5 was taken 195395 times"> + </span>]
<a name="780"><span class="lineNum">     780 </span>                :<span class="lineCov">        350 :            &amp;&amp; (TYPE_PRECISION (vr1-&gt;type)</span></a>
<a name="781"><span class="lineNum">     781 </span>        [<span class="branchCov" title="Branch 0 was taken 10 times"> + </span><span class="branchCov" title="Branch 1 was taken 340 times"> + </span>]:<span class="lineCov">        350 :                != TREE_INT_CST_LOW (TYPE_SIZE (vr1-&gt;type))))</span></a>
<a name="782"><span class="lineNum">     782 </span>                :<span class="lineCov">         10 :     return false;</span></a>
<a name="783"><span class="lineNum">     783 </span>  [<span class="branchCov" title="Branch 0 was taken 195735 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 195735 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     195735 :   else if (INTEGRAL_TYPE_P (vr2-&gt;type)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 447 times"> + </span><span class="branchCov" title="Branch 5 was taken 195288 times"> + </span>]
<a name="784"><span class="lineNum">     784 </span>                :<span class="lineCov">        447 :            &amp;&amp; (TYPE_PRECISION (vr2-&gt;type)</span></a>
<a name="785"><span class="lineNum">     785 </span>        [<span class="branchCov" title="Branch 0 was taken 36 times"> + </span><span class="branchCov" title="Branch 1 was taken 411 times"> + </span>]:<span class="lineCov">        447 :                != TREE_INT_CST_LOW (TYPE_SIZE (vr2-&gt;type))))</span></a>
<a name="786"><span class="lineNum">     786 </span>                :<span class="lineCov">         36 :     return false;</span></a>
<a name="787"><span class="lineNum">     787 </span>                :            : </a>
<a name="788"><span class="lineNum">     788 </span>                :<span class="lineCov">     866788 :   i = 0;</span></a>
<a name="789"><span class="lineNum">     789 </span>                :<span class="lineCov">     866788 :   j = 0;</span></a>
<a name="790"><span class="lineNum">     790 </span>                :<span class="lineCov">     107744 :   do</span></a>
<a name="791"><span class="lineNum">     791 </span>                :            :     {</a>
<a name="792"><span class="lineNum">     792 </span>                :<span class="lineCov">     974532 :       poly_int64 off1 = 0, off2 = 0;</span></a>
<a name="793"><span class="lineNum">     793 </span>                :            :       vn_reference_op_t vro1, vro2;</a>
<a name="794"><span class="lineNum">     794 </span>                :            :       vn_reference_op_s tem1, tem2;</a>
<a name="795"><span class="lineNum">     795 </span>                :<span class="lineCov">     974532 :       bool deref1 = false, deref2 = false;</span></a>
<a name="796"><span class="lineNum">     796 </span>        [<span class="branchCov" title="Branch 0 was taken 2149520 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">    2149520 :       for (; vr1-&gt;operands.iterate (i, &amp;vro1); i++)</span></a>
<a name="797"><span class="lineNum">     797 </span>                :            :         {</a>
<a name="798"><span class="lineNum">     798 </span>        [<span class="branchCov" title="Branch 0 was taken 837862 times"> + </span><span class="branchCov" title="Branch 1 was taken 1311660 times"> + </span>]:<span class="lineCov">    2149520 :           if (vro1-&gt;opcode == MEM_REF)</span></a>
<a name="799"><span class="lineNum">     799 </span>                :<span class="lineCov">     837862 :             deref1 = true;</span></a>
<a name="800"><span class="lineNum">     800 </span>                :            :           /* Do not look through a storage order barrier.  */</a>
<a name="801"><span class="lineNum">     801 </span>  [<span class="branchCov" title="Branch 0 was taken 305 times"> + </span><span class="branchCov" title="Branch 1 was taken 1311350 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 305 times"> + </span>]:<span class="lineCov">    1311660 :           else if (vro1-&gt;opcode == VIEW_CONVERT_EXPR &amp;&amp; vro1-&gt;reverse)</span></a>
<a name="802"><span class="lineNum">     802 </span>                :<span class="lineCov">         84 :             return false;</span></a>
<a name="803"><span class="lineNum">     803 </span>        [<span class="branchCov" title="Branch 0 was taken 974532 times"> + </span><span class="branchCov" title="Branch 1 was taken 1174990 times"> + </span>]:<span class="lineCov">    2149520 :           if (known_eq (vro1-&gt;off, -1))</span></a>
<a name="804"><span class="lineNum">     804 </span>                :<span class="lineCov">     974532 :             break;</span></a>
<a name="805"><span class="lineNum">     805 </span>                :<span class="lineCov">    1174990 :           off1 += vro1-&gt;off;</span></a>
<a name="806"><span class="lineNum">     806 </span>                :            :         }</a>
<a name="807"><span class="lineNum">     807 </span>        [<span class="branchCov" title="Branch 0 was taken 2150940 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">    2150940 :       for (; vr2-&gt;operands.iterate (j, &amp;vro2); j++)</span></a>
<a name="808"><span class="lineNum">     808 </span>                :            :         {</a>
<a name="809"><span class="lineNum">     809 </span>        [<span class="branchCov" title="Branch 0 was taken 837862 times"> + </span><span class="branchCov" title="Branch 1 was taken 1313080 times"> + </span>]:<span class="lineCov">    2150940 :           if (vro2-&gt;opcode == MEM_REF)</span></a>
<a name="810"><span class="lineNum">     810 </span>                :<span class="lineCov">     837862 :             deref2 = true;</span></a>
<a name="811"><span class="lineNum">     811 </span>                :            :           /* Do not look through a storage order barrier.  */</a>
<a name="812"><span class="lineNum">     812 </span>  [<span class="branchCov" title="Branch 0 was taken 261 times"> + </span><span class="branchCov" title="Branch 1 was taken 1312820 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 261 times"> + </span>]:<span class="lineCov">    1313080 :           else if (vro2-&gt;opcode == VIEW_CONVERT_EXPR &amp;&amp; vro2-&gt;reverse)</span></a>
<a name="813"><span class="lineNum">     813 </span>                :<span class="lineNoCov">          0 :             return false;</span></a>
<a name="814"><span class="lineNum">     814 </span>        [<span class="branchCov" title="Branch 0 was taken 974532 times"> + </span><span class="branchCov" title="Branch 1 was taken 1176410 times"> + </span>]:<span class="lineCov">    2150940 :           if (known_eq (vro2-&gt;off, -1))</span></a>
<a name="815"><span class="lineNum">     815 </span>                :<span class="lineCov">     974532 :             break;</span></a>
<a name="816"><span class="lineNum">     816 </span>                :<span class="lineCov">    1176410 :           off2 += vro2-&gt;off;</span></a>
<a name="817"><span class="lineNum">     817 </span>                :            :         }</a>
<a name="818"><span class="lineNum">     818 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 974532 times"> + </span>]:<span class="lineCov">     974532 :       if (maybe_ne (off1, off2))</span></a>
<a name="819"><span class="lineNum">     819 </span>                :<span class="lineNoCov">          0 :         return false;</span></a>
<a name="820"><span class="lineNum">     820 </span>  [<span class="branchCov" title="Branch 0 was taken 837862 times"> + </span><span class="branchCov" title="Branch 1 was taken 136670 times"> + </span><span class="branchCov" title="Branch 2 was taken 315731 times"> + </span><span class="branchCov" title="Branch 3 was taken 522131 times"> + </span>]:<span class="lineCov">     974532 :       if (deref1 &amp;&amp; vro1-&gt;opcode == ADDR_EXPR)</span></a>
<a name="821"><span class="lineNum">     821 </span>                :            :         {</a>
<a name="822"><span class="lineNum">     822 </span>                :<span class="lineCov">     315731 :           memset (&amp;tem1, 0, sizeof (tem1));</span></a>
<a name="823"><span class="lineNum">     823 </span>                :<span class="lineCov">     315731 :           tem1.op0 = TREE_OPERAND (vro1-&gt;op0, 0);</span></a>
<a name="824"><span class="lineNum">     824 </span>                :<span class="lineCov">     315731 :           tem1.type = TREE_TYPE (tem1.op0);</span></a>
<a name="825"><span class="lineNum">     825 </span>                :<span class="lineCov">     315731 :           tem1.opcode = TREE_CODE (tem1.op0);</span></a>
<a name="826"><span class="lineNum">     826 </span>                :<span class="lineCov">     315731 :           vro1 = &amp;tem1;</span></a>
<a name="827"><span class="lineNum">     827 </span>                :<span class="lineCov">     315731 :           deref1 = false;</span></a>
<a name="828"><span class="lineNum">     828 </span>                :            :         }</a>
<a name="829"><span class="lineNum">     829 </span>  [<span class="branchCov" title="Branch 0 was taken 837862 times"> + </span><span class="branchCov" title="Branch 1 was taken 136670 times"> + </span><span class="branchCov" title="Branch 2 was taken 315731 times"> + </span><span class="branchCov" title="Branch 3 was taken 522131 times"> + </span>]:<span class="lineCov">     974532 :       if (deref2 &amp;&amp; vro2-&gt;opcode == ADDR_EXPR)</span></a>
<a name="830"><span class="lineNum">     830 </span>                :            :         {</a>
<a name="831"><span class="lineNum">     831 </span>                :<span class="lineCov">     315731 :           memset (&amp;tem2, 0, sizeof (tem2));</span></a>
<a name="832"><span class="lineNum">     832 </span>                :<span class="lineCov">     315731 :           tem2.op0 = TREE_OPERAND (vro2-&gt;op0, 0);</span></a>
<a name="833"><span class="lineNum">     833 </span>                :<span class="lineCov">     315731 :           tem2.type = TREE_TYPE (tem2.op0);</span></a>
<a name="834"><span class="lineNum">     834 </span>                :<span class="lineCov">     315731 :           tem2.opcode = TREE_CODE (tem2.op0);</span></a>
<a name="835"><span class="lineNum">     835 </span>                :<span class="lineCov">     315731 :           vro2 = &amp;tem2;</span></a>
<a name="836"><span class="lineNum">     836 </span>                :<span class="lineCov">     315731 :           deref2 = false;</span></a>
<a name="837"><span class="lineNum">     837 </span>                :            :         }</a>
<a name="838"><span class="lineNum">     838 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 974532 times"> + </span>]:<span class="lineCov">     974532 :       if (deref1 != deref2)</span></a>
<a name="839"><span class="lineNum">     839 </span>                :<span class="lineNoCov">          0 :         return false;</span></a>
<a name="840"><span class="lineNum">     840 </span>        [<span class="branchCov" title="Branch 0 was taken 84 times"> + </span><span class="branchCov" title="Branch 1 was taken 974448 times"> + </span>]:<span class="lineCov">     974532 :       if (!vn_reference_op_eq (vro1, vro2))</span></a>
<a name="841"><span class="lineNum">     841 </span>                :<span class="lineCov">         84 :         return false;</span></a>
<a name="842"><span class="lineNum">     842 </span>                :<span class="lineCov">     974448 :       ++j;</span></a>
<a name="843"><span class="lineNum">     843 </span>                :<span class="lineCov">     974448 :       ++i;</span></a>
<a name="844"><span class="lineNum">     844 </span>                :            :     }</a>
<a name="845"><span class="lineNum">     845 </span>                :<span class="lineCov">     974448 :   while (vr1-&gt;operands.length () != i</span></a>
<a name="846"><span class="lineNum">     846 </span>  [<span class="branchCov" title="Branch 0 was taken 866704 times"> + </span><span class="branchCov" title="Branch 1 was taken 107744 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 866704 times"> + </span> :<span class="lineCov">     974448 :          || vr2-&gt;operands.length () != j);</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 107744 times"> + </span><span class="branchCov" title="Branch 5 was taken 866704 times"> + </span>]
<a name="847"><span class="lineNum">     847 </span>                :            : </a>
<a name="848"><span class="lineNum">     848 </span>                :<span class="lineCov">     866704 :   return true;</span></a>
<a name="849"><span class="lineNum">     849 </span>                :            : }</a>
<a name="850"><span class="lineNum">     850 </span>                :            : </a>
<a name="851"><span class="lineNum">     851 </span>                :            : /* Copy the operations present in load/store REF into RESULT, a vector of</a>
<a name="852"><span class="lineNum">     852 </span>                :            :    vn_reference_op_s's.  */</a>
<a name="853"><span class="lineNum">     853 </span>                :            : </a>
<a name="854"><span class="lineNum">     854 </span>                :            : static void</a>
<a name="855"><span class="lineNum">     855 </span>                :<span class="lineCov">    5307500 : copy_reference_ops_from_ref (tree ref, vec&lt;vn_reference_op_s&gt; *result)</span></a>
<a name="856"><span class="lineNum">     856 </span>                :            : {</a>
<a name="857"><span class="lineNum">     857 </span>                :            :   /* For non-calls, store the information that makes up the address.  */</a>
<a name="858"><span class="lineNum">     858 </span>                :<span class="lineCov">    5307500 :   tree orig = ref;</span></a>
<a name="859"><span class="lineNum">     859 </span>        [<span class="branchCov" title="Branch 0 was taken 12347300 times"> + </span><span class="branchCov" title="Branch 1 was taken 5307500 times"> + </span>]:<span class="lineCov">   17654800 :   while (ref)</span></a>
<a name="860"><span class="lineNum">     860 </span>                :            :     {</a>
<a name="861"><span class="lineNum">     861 </span>                :            :       vn_reference_op_s temp;</a>
<a name="862"><span class="lineNum">     862 </span>                :            : </a>
<a name="863"><span class="lineNum">     863 </span>                :<span class="lineCov">   12347300 :       memset (&amp;temp, 0, sizeof (temp));</span></a>
<a name="864"><span class="lineNum">     864 </span>                :<span class="lineCov">   12347300 :       temp.type = TREE_TYPE (ref);</span></a>
<a name="865"><span class="lineNum">     865 </span>                :<span class="lineCov">   12347300 :       temp.opcode = TREE_CODE (ref);</span></a>
<a name="866"><span class="lineNum">     866 </span>                :<span class="lineCov">   12347300 :       temp.off = -1;</span></a>
<a name="867"><span class="lineNum">     867 </span>                :            : </a>
<a name="868"><span class="lineNum">     868 </span>  [<span class="branchCov" title="Branch 0 was taken 308420 times"> + </span><span class="branchCov" title="Branch 1 was taken 34 times"> + </span><span class="branchCov" title="Branch 2 was taken 3091240 times"> + </span><span class="branchCov" title="Branch 3 was taken 37901 times"> + </span> :<span class="lineCov">   12347300 :       switch (temp.opcode)</span></a>
<span class="lineNum">         </span><span class="branchCov" title="Branch 4 was taken 55326 times"> + </span><span class="branchCov" title="Branch 5 was taken 2932000 times"> + </span><span class="branchCov" title="Branch 6 was taken 471939 times"> + </span><span class="branchCov" title="Branch 7 was taken 1620400 times"> + </span><span class="branchCov" title="Branch 8 was taken 54491 times"> + </span> 
<span class="lineNum">         </span><span class="branchCov" title="Branch 9 was taken 2926930 times"> + </span><span class="branchCov" title="Branch 10 was taken 840660 times"> + </span><span class="branchCov" title="Branch 11 was taken 3255 times"> + </span><span class="branchCov" title="Branch 12 was taken 2194 times"> + </span><span class="branchCov" title="Branch 13 was taken 2465 times"> + </span> 
<span class="lineNum">         </span>            <span class="branchNoCov" title="Branch 14 was not taken"> - </span>]
<a name="869"><span class="lineNum">     869 </span>                :            :         {</a>
<a name="870"><span class="lineNum">     870 </span>                :<span class="lineCov">     308420 :         case MODIFY_EXPR:</span></a>
<a name="871"><span class="lineNum">     871 </span>                :<span class="lineCov">     308420 :           temp.op0 = TREE_OPERAND (ref, 1);</span></a>
<a name="872"><span class="lineNum">     872 </span>                :<span class="lineCov">     308420 :           break;</span></a>
<a name="873"><span class="lineNum">     873 </span>                :<span class="lineCov">         34 :         case WITH_SIZE_EXPR:</span></a>
<a name="874"><span class="lineNum">     874 </span>                :<span class="lineCov">         34 :           temp.op0 = TREE_OPERAND (ref, 1);</span></a>
<a name="875"><span class="lineNum">     875 </span>                :<span class="lineCov">         34 :           temp.off = 0;</span></a>
<a name="876"><span class="lineNum">     876 </span>                :<span class="lineCov">         34 :           break;</span></a>
<a name="877"><span class="lineNum">     877 </span>                :<span class="lineCov">    3091240 :         case MEM_REF:</span></a>
<a name="878"><span class="lineNum">     878 </span>                :            :           /* The base address gets its own vn_reference_op_s structure.  */</a>
<a name="879"><span class="lineNum">     879 </span>                :<span class="lineCov">    3091240 :           temp.op0 = TREE_OPERAND (ref, 1);</span></a>
<a name="880"><span class="lineNum">     880 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 3091240 times"> + </span>]:<span class="lineCov">    3091240 :           if (!mem_ref_offset (ref).to_shwi (&amp;temp.off))</span></a>
<a name="881"><span class="lineNum">     881 </span>                :<span class="lineNoCov">          0 :             temp.off = -1;</span></a>
<a name="882"><span class="lineNum">     882 </span>                :<span class="lineCov">    3091240 :           temp.clique = MR_DEPENDENCE_CLIQUE (ref);</span></a>
<a name="883"><span class="lineNum">     883 </span>                :<span class="lineCov">    3091240 :           temp.base = MR_DEPENDENCE_BASE (ref);</span></a>
<a name="884"><span class="lineNum">     884 </span>                :<span class="lineCov">    3091240 :           temp.reverse = REF_REVERSE_STORAGE_ORDER (ref);</span></a>
<a name="885"><span class="lineNum">     885 </span>                :<span class="lineCov">    3091240 :           break;</span></a>
<a name="886"><span class="lineNum">     886 </span>                :<span class="lineCov">      37901 :         case TARGET_MEM_REF:</span></a>
<a name="887"><span class="lineNum">     887 </span>                :            :           /* The base address gets its own vn_reference_op_s structure.  */</a>
<a name="888"><span class="lineNum">     888 </span>                :<span class="lineCov">      37901 :           temp.op0 = TMR_INDEX (ref);</span></a>
<a name="889"><span class="lineNum">     889 </span>                :<span class="lineCov">      37901 :           temp.op1 = TMR_STEP (ref);</span></a>
<a name="890"><span class="lineNum">     890 </span>                :<span class="lineCov">      37901 :           temp.op2 = TMR_OFFSET (ref);</span></a>
<a name="891"><span class="lineNum">     891 </span>                :<span class="lineCov">      37901 :           temp.clique = MR_DEPENDENCE_CLIQUE (ref);</span></a>
<a name="892"><span class="lineNum">     892 </span>                :<span class="lineCov">      37901 :           temp.base = MR_DEPENDENCE_BASE (ref);</span></a>
<a name="893"><span class="lineNum">     893 </span>                :<span class="lineCov">      37901 :           result-&gt;safe_push (temp);</span></a>
<a name="894"><span class="lineNum">     894 </span>                :<span class="lineCov">      37901 :           memset (&amp;temp, 0, sizeof (temp));</span></a>
<a name="895"><span class="lineNum">     895 </span>                :<span class="lineCov">      37901 :           temp.type = NULL_TREE;</span></a>
<a name="896"><span class="lineNum">     896 </span>                :<span class="lineCov">      37901 :           temp.opcode = ERROR_MARK;</span></a>
<a name="897"><span class="lineNum">     897 </span>                :<span class="lineCov">      37901 :           temp.op0 = TMR_INDEX2 (ref);</span></a>
<a name="898"><span class="lineNum">     898 </span>                :<span class="lineCov">      37901 :           temp.off = -1;</span></a>
<a name="899"><span class="lineNum">     899 </span>                :<span class="lineCov">      37901 :           break;</span></a>
<a name="900"><span class="lineNum">     900 </span>                :<span class="lineCov">      55326 :         case BIT_FIELD_REF:</span></a>
<a name="901"><span class="lineNum">     901 </span>                :            :           /* Record bits, position and storage order.  */</a>
<a name="902"><span class="lineNum">     902 </span>                :<span class="lineCov">      55326 :           temp.op0 = TREE_OPERAND (ref, 1);</span></a>
<a name="903"><span class="lineNum">     903 </span>                :<span class="lineCov">      55326 :           temp.op1 = TREE_OPERAND (ref, 2);</span></a>
<a name="904"><span class="lineNum">     904 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 55326 times"> + </span>]:<span class="lineCov">      55326 :           if (!multiple_p (bit_field_offset (ref), BITS_PER_UNIT, &amp;temp.off))</span></a>
<a name="905"><span class="lineNum">     905 </span>                :<span class="lineNoCov">          0 :             temp.off = -1;</span></a>
<a name="906"><span class="lineNum">     906 </span>                :<span class="lineCov">      55326 :           temp.reverse = REF_REVERSE_STORAGE_ORDER (ref);</span></a>
<a name="907"><span class="lineNum">     907 </span>                :<span class="lineCov">      55326 :           break;</span></a>
<a name="908"><span class="lineNum">     908 </span>                :<span class="lineCov">    2932000 :         case COMPONENT_REF:</span></a>
<a name="909"><span class="lineNum">     909 </span>                :            :           /* The field decl is enough to unambiguously specify the field,</a>
<a name="910"><span class="lineNum">     910 </span>                :            :              a matching type is not necessary and a mismatching type</a>
<a name="911"><span class="lineNum">     911 </span>                :            :              is always a spurious difference.  */</a>
<a name="912"><span class="lineNum">     912 </span>                :<span class="lineCov">    2932000 :           temp.type = NULL_TREE;</span></a>
<a name="913"><span class="lineNum">     913 </span>                :<span class="lineCov">    2932000 :           temp.op0 = TREE_OPERAND (ref, 1);</span></a>
<a name="914"><span class="lineNum">     914 </span>                :<span class="lineCov">    2932000 :           temp.op1 = TREE_OPERAND (ref, 2);</span></a>
<a name="915"><span class="lineNum">     915 </span>                :            :           {</a>
<a name="916"><span class="lineNum">     916 </span>                :<span class="lineCov">    2932000 :             tree this_offset = component_ref_field_offset (ref);</span></a>
<a name="917"><span class="lineNum">     917 </span>                :<span class="lineCov">    2932000 :             if (this_offset</span></a>
<a name="918"><span class="lineNum">     918 </span>  [<span class="branchCov" title="Branch 0 was taken 2932000 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 2931980 times"> + </span><span class="branchCov" title="Branch 3 was taken 18 times"> + </span> :<span class="lineCov">    2932000 :                 &amp;&amp; poly_int_tree_p (this_offset))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 2931980 times"> + </span><span class="branchCov" title="Branch 5 was taken 18 times"> + </span>]
<a name="919"><span class="lineNum">     919 </span>                :            :               {</a>
<a name="920"><span class="lineNum">     920 </span>                :<span class="lineCov">    2931980 :                 tree bit_offset = DECL_FIELD_BIT_OFFSET (TREE_OPERAND (ref, 1));</span></a>
<a name="921"><span class="lineNum">     921 </span>        [<span class="branchCov" title="Branch 0 was taken 2799630 times"> + </span><span class="branchCov" title="Branch 1 was taken 132352 times"> + </span>]:<span class="lineCov">    2931980 :                 if (TREE_INT_CST_LOW (bit_offset) % BITS_PER_UNIT == 0)</span></a>
<a name="922"><span class="lineNum">     922 </span>                :            :                   {</a>
<a name="923"><span class="lineNum">     923 </span>                :            :                     poly_offset_int off</a>
<a name="924"><span class="lineNum">     924 </span>                :<span class="lineCov">    2799630 :                       = (wi::to_poly_offset (this_offset)</span></a>
<a name="925"><span class="lineNum">     925 </span>                :<span class="lineCov">    5599250 :                          + (wi::to_offset (bit_offset) &gt;&gt; LOG2_BITS_PER_UNIT));</span></a>
<a name="926"><span class="lineNum">     926 </span>                :            :                     /* Probibit value-numbering zero offset components</a>
<a name="927"><span class="lineNum">     927 </span>                :            :                        of addresses the same before the pass folding</a>
<a name="928"><span class="lineNum">     928 </span>                :            :                        __builtin_object_size had a chance to run</a>
<a name="929"><span class="lineNum">     929 </span>                :            :                        (checking cfun-&gt;after_inlining does the</a>
<a name="930"><span class="lineNum">     930 </span>                :            :                        trick here).  */</a>
<a name="931"><span class="lineNum">     931 </span>                :<span class="lineCov">    5599250 :                     if (TREE_CODE (orig) != ADDR_EXPR</span></a>
<a name="932"><span class="lineNum">     932 </span>        [<span class="branchCov" title="Branch 0 was taken 77601 times"> + </span><span class="branchCov" title="Branch 1 was taken 76874 times"> + </span>]:<span class="lineCov">     154475 :                         || maybe_ne (off, 0)</span></a>
<a name="933"><span class="lineNum">     933 </span>  [<span class="branchCov" title="Branch 0 was taken 154475 times"> + </span><span class="branchCov" title="Branch 1 was taken 2645150 times"> + </span><span class="branchCov" title="Branch 2 was taken 54464 times"> + </span><span class="branchCov" title="Branch 3 was taken 23137 times"> + </span> :<span class="lineCov">    2954100 :                         || cfun-&gt;after_inlining)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 2776490 times"> + </span><span class="branchCov" title="Branch 5 was taken 23137 times"> + </span>]
<a name="934"><span class="lineNum">     934 </span>                :<span class="lineCov">    2776490 :                       off.to_shwi (&amp;temp.off);</span></a>
<a name="935"><span class="lineNum">     935 </span>                :            :                   }</a>
<a name="936"><span class="lineNum">     936 </span>                :            :               }</a>
<a name="937"><span class="lineNum">     937 </span>                :            :           }</a>
<a name="938"><span class="lineNum">     938 </span>                :<span class="lineCov">    2932000 :           break;</span></a>
<a name="939"><span class="lineNum">     939 </span>                :<span class="lineCov">     471939 :         case ARRAY_RANGE_REF:</span></a>
<a name="940"><span class="lineNum">     940 </span>                :            :         case ARRAY_REF:</a>
<a name="941"><span class="lineNum">     941 </span>                :            :           {</a>
<a name="942"><span class="lineNum">     942 </span>                :<span class="lineCov">     471939 :             tree eltype = TREE_TYPE (TREE_TYPE (TREE_OPERAND (ref, 0)));</span></a>
<a name="943"><span class="lineNum">     943 </span>                :            :             /* Record index as operand.  */</a>
<a name="944"><span class="lineNum">     944 </span>                :<span class="lineCov">     471939 :             temp.op0 = TREE_OPERAND (ref, 1);</span></a>
<a name="945"><span class="lineNum">     945 </span>                :            :             /* Always record lower bounds and element size.  */</a>
<a name="946"><span class="lineNum">     946 </span>                :<span class="lineCov">     471939 :             temp.op1 = array_ref_low_bound (ref);</span></a>
<a name="947"><span class="lineNum">     947 </span>                :            :             /* But record element size in units of the type alignment.  */</a>
<a name="948"><span class="lineNum">     948 </span>                :<span class="lineCov">     471939 :             temp.op2 = TREE_OPERAND (ref, 3);</span></a>
<a name="949"><span class="lineNum">     949 </span>                :<span class="lineCov">     471939 :             temp.align = eltype-&gt;type_common.align;</span></a>
<a name="950"><span class="lineNum">     950 </span>        [<span class="branchCov" title="Branch 0 was taken 471666 times"> + </span><span class="branchCov" title="Branch 1 was taken 273 times"> + </span>]:<span class="lineCov">     471939 :             if (! temp.op2)</span></a>
<a name="951"><span class="lineNum">     951 </span>        [<span class="branchCov" title="Branch 0 was taken 471666 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     471666 :               temp.op2 = size_binop (EXACT_DIV_EXPR, TYPE_SIZE_UNIT (eltype),</span></a>
<a name="952"><span class="lineNum">     952 </span>                :            :                                      size_int (TYPE_ALIGN_UNIT (eltype)));</a>
<a name="953"><span class="lineNum">     953 </span>                :<span class="lineCov">     471939 :             if (poly_int_tree_p (temp.op0)</span></a>
<a name="954"><span class="lineNum">     954 </span>        [<span class="branchCov" title="Branch 0 was taken 165636 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     165636 :                 &amp;&amp; poly_int_tree_p (temp.op1)</span></a>
<a name="955"><span class="lineNum">     955 </span>  [<span class="branchCov" title="Branch 0 was taken 165636 times"> + </span><span class="branchCov" title="Branch 1 was taken 306303 times"> + </span><span class="branchCov" title="Branch 2 was taken 165375 times"> + </span><span class="branchCov" title="Branch 3 was taken 261 times"> + </span> :<span class="lineCov">     637575 :                 &amp;&amp; TREE_CODE (temp.op2) == INTEGER_CST)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 165375 times"> + </span><span class="branchCov" title="Branch 5 was taken 306564 times"> + </span>]
<a name="956"><span class="lineNum">     956 </span>                :            :               {</a>
<a name="957"><span class="lineNum">     957 </span>                :<span class="lineCov">     165375 :                 poly_offset_int off = ((wi::to_poly_offset (temp.op0)</span></a>
<a name="958"><span class="lineNum">     958 </span>                :<span class="lineCov">     330750 :                                         - wi::to_poly_offset (temp.op1))</span></a>
<a name="959"><span class="lineNum">     959 </span>                :<span class="lineCov">     165375 :                                        * wi::to_offset (temp.op2)</span></a>
<a name="960"><span class="lineNum">     960 </span>                :<span class="lineCov">     330750 :                                        * vn_ref_op_align_unit (&amp;temp));</span></a>
<a name="961"><span class="lineNum">     961 </span>                :<span class="lineCov">     165375 :                 off.to_shwi (&amp;temp.off);</span></a>
<a name="962"><span class="lineNum">     962 </span>                :            :               }</a>
<a name="963"><span class="lineNum">     963 </span>                :            :           }</a>
<a name="964"><span class="lineNum">     964 </span>                :<span class="lineCov">     471939 :           break;</span></a>
<a name="965"><span class="lineNum">     965 </span>                :<span class="lineCov">    1620400 :         case VAR_DECL:</span></a>
<a name="966"><span class="lineNum">     966 </span>        [<span class="branchCov" title="Branch 0 was taken 5212 times"> + </span><span class="branchCov" title="Branch 1 was taken 1615190 times"> + </span>]:<span class="lineCov">    1620400 :           if (DECL_HARD_REGISTER (ref))</span></a>
<a name="967"><span class="lineNum">     967 </span>                :            :             {</a>
<a name="968"><span class="lineNum">     968 </span>                :<span class="lineCov">       5212 :               temp.op0 = ref;</span></a>
<a name="969"><span class="lineNum">     969 </span>                :<span class="lineCov">       5212 :               break;</span></a>
<a name="970"><span class="lineNum">     970 </span>                :            :             }</a>
<a name="971"><span class="lineNum">     971 </span>                :            :           /* Fallthru.  */</a>
<a name="972"><span class="lineNum">     972 </span>                :            :         case PARM_DECL:</a>
<a name="973"><span class="lineNum">     973 </span>                :            :         case CONST_DECL:</a>
<a name="974"><span class="lineNum">     974 </span>                :            :         case RESULT_DECL:</a>
<a name="975"><span class="lineNum">     975 </span>                :            :           /* Canonicalize decls to MEM[&amp;decl] which is what we end up with</a>
<a name="976"><span class="lineNum">     976 </span>                :            :              when valueizing MEM[ptr] with ptr = &amp;decl.  */</a>
<a name="977"><span class="lineNum">     977 </span>                :<span class="lineCov">    1669680 :           temp.opcode = MEM_REF;</span></a>
<a name="978"><span class="lineNum">     978 </span>                :<span class="lineCov">    1669680 :           temp.op0 = build_int_cst (build_pointer_type (TREE_TYPE (ref)), 0);</span></a>
<a name="979"><span class="lineNum">     979 </span>                :<span class="lineCov">    1669680 :           temp.off = 0;</span></a>
<a name="980"><span class="lineNum">     980 </span>                :<span class="lineCov">    1669680 :           result-&gt;safe_push (temp);</span></a>
<a name="981"><span class="lineNum">     981 </span>                :<span class="lineCov">    1669680 :           temp.opcode = ADDR_EXPR;</span></a>
<a name="982"><span class="lineNum">     982 </span>                :<span class="lineCov">    1669680 :           temp.op0 = build1 (ADDR_EXPR, TREE_TYPE (temp.op0), ref);</span></a>
<a name="983"><span class="lineNum">     983 </span>                :<span class="lineCov">    1669680 :           temp.type = TREE_TYPE (temp.op0);</span></a>
<a name="984"><span class="lineNum">     984 </span>                :<span class="lineCov">    1669680 :           temp.off = -1;</span></a>
<a name="985"><span class="lineNum">     985 </span>                :<span class="lineCov">    1669680 :           break;</span></a>
<a name="986"><span class="lineNum">     986 </span>                :<span class="lineCov">    2926930 :         case STRING_CST:</span></a>
<a name="987"><span class="lineNum">     987 </span>                :            :         case INTEGER_CST:</a>
<a name="988"><span class="lineNum">     988 </span>                :            :         case POLY_INT_CST:</a>
<a name="989"><span class="lineNum">     989 </span>                :            :         case COMPLEX_CST:</a>
<a name="990"><span class="lineNum">     990 </span>                :            :         case VECTOR_CST:</a>
<a name="991"><span class="lineNum">     991 </span>                :            :         case REAL_CST:</a>
<a name="992"><span class="lineNum">     992 </span>                :            :         case FIXED_CST:</a>
<a name="993"><span class="lineNum">     993 </span>                :            :         case CONSTRUCTOR:</a>
<a name="994"><span class="lineNum">     994 </span>                :            :         case SSA_NAME:</a>
<a name="995"><span class="lineNum">     995 </span>                :<span class="lineCov">    2926930 :           temp.op0 = ref;</span></a>
<a name="996"><span class="lineNum">     996 </span>                :<span class="lineCov">    2926930 :           break;</span></a>
<a name="997"><span class="lineNum">     997 </span>                :<span class="lineCov">     840660 :         case ADDR_EXPR:</span></a>
<a name="998"><span class="lineNum">     998 </span>        [<span class="branchCov" title="Branch 0 was taken 705676 times"> + </span><span class="branchCov" title="Branch 1 was taken 134984 times"> + </span>]:<span class="lineCov">     840660 :           if (is_gimple_min_invariant (ref))</span></a>
<a name="999"><span class="lineNum">     999 </span>                :            :             {</a>
<a name="1000"><span class="lineNum">    1000 </span>                :<span class="lineCov">     705676 :               temp.op0 = ref;</span></a>
<a name="1001"><span class="lineNum">    1001 </span>                :<span class="lineCov">     705676 :               break;</span></a>
<a name="1002"><span class="lineNum">    1002 </span>                :            :             }</a>
<a name="1003"><span class="lineNum">    1003 </span>                :<span class="lineCov">     134984 :           break;</span></a>
<a name="1004"><span class="lineNum">    1004 </span>                :            :           /* These are only interesting for their operands, their</a>
<a name="1005"><span class="lineNum">    1005 </span>                :            :              existence, and their type.  They will never be the last</a>
<a name="1006"><span class="lineNum">    1006 </span>                :            :              ref in the chain of references (IE they require an</a>
<a name="1007"><span class="lineNum">    1007 </span>                :            :              operand), so we don't have to put anything</a>
<a name="1008"><span class="lineNum">    1008 </span>                :            :              for op* as it will be handled by the iteration  */</a>
<a name="1009"><span class="lineNum">    1009 </span>                :<span class="lineCov">       3255 :         case REALPART_EXPR:</span></a>
<a name="1010"><span class="lineNum">    1010 </span>                :<span class="lineCov">       3255 :           temp.off = 0;</span></a>
<a name="1011"><span class="lineNum">    1011 </span>                :<span class="lineCov">       3255 :           break;</span></a>
<a name="1012"><span class="lineNum">    1012 </span>                :<span class="lineCov">       2194 :         case VIEW_CONVERT_EXPR:</span></a>
<a name="1013"><span class="lineNum">    1013 </span>                :<span class="lineCov">       2194 :           temp.off = 0;</span></a>
<a name="1014"><span class="lineNum">    1014 </span>                :<span class="lineCov">       2194 :           temp.reverse = storage_order_barrier_p (ref);</span></a>
<a name="1015"><span class="lineNum">    1015 </span>                :<span class="lineCov">       2194 :           break;</span></a>
<a name="1016"><span class="lineNum">    1016 </span>                :<span class="lineCov">       2465 :         case IMAGPART_EXPR:</span></a>
<a name="1017"><span class="lineNum">    1017 </span>                :            :           /* This is only interesting for its constant offset.  */</a>
<a name="1018"><span class="lineNum">    1018 </span>                :<span class="lineCov">       2465 :           temp.off = TREE_INT_CST_LOW (TYPE_SIZE_UNIT (TREE_TYPE (ref)));</span></a>
<a name="1019"><span class="lineNum">    1019 </span>                :<span class="lineCov">       2465 :           break;</span></a>
<a name="1020"><span class="lineNum">    1020 </span>                :<span class="lineNoCov">          0 :         default:</span></a>
<a name="1021"><span class="lineNum">    1021 </span>                :<span class="lineNoCov">          0 :           gcc_unreachable ();</span></a>
<a name="1022"><span class="lineNum">    1022 </span>                :            :         }</a>
<a name="1023"><span class="lineNum">    1023 </span>                :<span class="lineCov">   12347300 :       result-&gt;safe_push (temp);</span></a>
<a name="1024"><span class="lineNum">    1024 </span>                :            : </a>
<a name="1025"><span class="lineNum">    1025 </span>                :<span class="lineCov">   24694500 :       if (REFERENCE_CLASS_P (ref)</span></a>
<a name="1026"><span class="lineNum">    1026 </span>        [<span class="branchCov" title="Branch 0 was taken 5442520 times"> + </span><span class="branchCov" title="Branch 1 was taken 308420 times"> + </span>]:<span class="lineCov">    5750940 :           || TREE_CODE (ref) == MODIFY_EXPR</span></a>
<a name="1027"><span class="lineNum">    1027 </span>        [<span class="branchCov" title="Branch 0 was taken 5442480 times"> + </span><span class="branchCov" title="Branch 1 was taken 34 times"> + </span>]:<span class="lineCov">    5442520 :           || TREE_CODE (ref) == WITH_SIZE_EXPR</span></a>
<a name="1028"><span class="lineNum">    1028 </span>  [<span class="branchCov" title="Branch 0 was taken 5750940 times"> + </span><span class="branchCov" title="Branch 1 was taken 6596320 times"> + </span><span class="branchCov" title="Branch 2 was taken 840660 times"> + </span><span class="branchCov" title="Branch 3 was taken 4601820 times"> + </span> :<span class="lineCov">   18938900 :           || (TREE_CODE (ref) == ADDR_EXPR</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 7039760 times"> + </span><span class="branchCov" title="Branch 5 was taken 5307500 times"> + </span>]
<a name="1029"><span class="lineNum">    1029 </span>        [<span class="branchCov" title="Branch 0 was taken 134984 times"> + </span><span class="branchCov" title="Branch 1 was taken 705676 times"> + </span>]:<span class="lineCov">     840660 :               &amp;&amp; !is_gimple_min_invariant (ref)))</span></a>
<a name="1030"><span class="lineNum">    1030 </span>                :<span class="lineCov">    7039760 :         ref = TREE_OPERAND (ref, 0);</span></a>
<a name="1031"><span class="lineNum">    1031 </span>                :            :       else</a>
<a name="1032"><span class="lineNum">    1032 </span>                :<span class="lineCov">    5307500 :         ref = NULL_TREE;</span></a>
<a name="1033"><span class="lineNum">    1033 </span>                :            :     }</a>
<a name="1034"><span class="lineNum">    1034 </span>                :<span class="lineCov">    5307500 : }</span></a>
<a name="1035"><span class="lineNum">    1035 </span>                :            : </a>
<a name="1036"><span class="lineNum">    1036 </span>                :            : /* Build a alias-oracle reference abstraction in *REF from the vn_reference</a>
<a name="1037"><span class="lineNum">    1037 </span>                :            :    operands in *OPS, the reference alias set SET and the reference type TYPE.</a>
<a name="1038"><span class="lineNum">    1038 </span>                :            :    Return true if something useful was produced.  */</a>
<a name="1039"><span class="lineNum">    1039 </span>                :            : </a>
<a name="1040"><span class="lineNum">    1040 </span>                :            : bool</a>
<a name="1041"><span class="lineNum">    1041 </span>                :<span class="lineCov">     373488 : ao_ref_init_from_vn_reference (ao_ref *ref,</span></a>
<a name="1042"><span class="lineNum">    1042 </span>                :            :                                alias_set_type set, alias_set_type base_set,</a>
<a name="1043"><span class="lineNum">    1043 </span>                :            :                                tree type, vec&lt;vn_reference_op_s&gt; ops)</a>
<a name="1044"><span class="lineNum">    1044 </span>                :            : {</a>
<a name="1045"><span class="lineNum">    1045 </span>                :            :   vn_reference_op_t op;</a>
<a name="1046"><span class="lineNum">    1046 </span>                :            :   unsigned i;</a>
<a name="1047"><span class="lineNum">    1047 </span>                :<span class="lineCov">     373488 :   tree base = NULL_TREE;</span></a>
<a name="1048"><span class="lineNum">    1048 </span>                :<span class="lineCov">     373488 :   tree *op0_p = &amp;base;</span></a>
<a name="1049"><span class="lineNum">    1049 </span>                :<span class="lineCov">     373488 :   poly_offset_int offset = 0;</span></a>
<a name="1050"><span class="lineNum">    1050 </span>                :<span class="lineCov">     373488 :   poly_offset_int max_size;</span></a>
<a name="1051"><span class="lineNum">    1051 </span>                :<span class="lineCov">     373488 :   poly_offset_int size = -1;</span></a>
<a name="1052"><span class="lineNum">    1052 </span>                :<span class="lineCov">     373488 :   tree size_tree = NULL_TREE;</span></a>
<a name="1053"><span class="lineNum">    1053 </span>                :            : </a>
<a name="1054"><span class="lineNum">    1054 </span>        [<span class="branchCov" title="Branch 0 was taken 4230 times"> + </span><span class="branchCov" title="Branch 1 was taken 369258 times"> + </span>]:<span class="lineCov">     373488 :   machine_mode mode = TYPE_MODE (type);</span></a>
<a name="1055"><span class="lineNum">    1055 </span>        [<span class="branchCov" title="Branch 0 was taken 1817 times"> + </span><span class="branchCov" title="Branch 1 was taken 371671 times"> + </span>]:<span class="lineCov">     373488 :   if (mode == BLKmode)</span></a>
<a name="1056"><span class="lineNum">    1056 </span>                :<span class="lineCov">       1817 :     size_tree = TYPE_SIZE (type);</span></a>
<a name="1057"><span class="lineNum">    1057 </span>                :            :   else</a>
<a name="1058"><span class="lineNum">    1058 </span>                :<span class="lineCov">     371671 :     size = GET_MODE_BITSIZE (mode);</span></a>
<a name="1059"><span class="lineNum">    1059 </span>                :<span class="lineCov">     373488 :   if (size_tree != NULL_TREE</span></a>
<a name="1060"><span class="lineNum">    1060 </span>  [<span class="branchCov" title="Branch 0 was taken 1817 times"> + </span><span class="branchCov" title="Branch 1 was taken 371671 times"> + </span><span class="branchCov" title="Branch 2 was taken 1817 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     373488 :       &amp;&amp; poly_int_tree_p (size_tree))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1817 times"> + </span><span class="branchCov" title="Branch 5 was taken 371671 times"> + </span>]
<a name="1061"><span class="lineNum">    1061 </span>                :<span class="lineCov">       1817 :     size = wi::to_poly_offset (size_tree);</span></a>
<a name="1062"><span class="lineNum">    1062 </span>                :            : </a>
<a name="1063"><span class="lineNum">    1063 </span>                :            :   /* Lower the final access size from the outermost expression.  */</a>
<a name="1064"><span class="lineNum">    1064 </span>                :<span class="lineCov">     373488 :   op = &amp;ops[0];</span></a>
<a name="1065"><span class="lineNum">    1065 </span>                :<span class="lineCov">     373488 :   size_tree = NULL_TREE;</span></a>
<a name="1066"><span class="lineNum">    1066 </span>        [<span class="branchCov" title="Branch 0 was taken 160982 times"> + </span><span class="branchCov" title="Branch 1 was taken 212506 times"> + </span>]:<span class="lineCov">     373488 :   if (op-&gt;opcode == COMPONENT_REF)</span></a>
<a name="1067"><span class="lineNum">    1067 </span>                :<span class="lineCov">     160982 :     size_tree = DECL_SIZE (op-&gt;op0);</span></a>
<a name="1068"><span class="lineNum">    1068 </span>        [<span class="branchCov" title="Branch 0 was taken 8778 times"> + </span><span class="branchCov" title="Branch 1 was taken 203728 times"> + </span>]:<span class="lineCov">     212506 :   else if (op-&gt;opcode == BIT_FIELD_REF)</span></a>
<a name="1069"><span class="lineNum">    1069 </span>                :<span class="lineCov">       8778 :     size_tree = op-&gt;op0;</span></a>
<a name="1070"><span class="lineNum">    1070 </span>                :<span class="lineCov">     373488 :   if (size_tree != NULL_TREE</span></a>
<a name="1071"><span class="lineNum">    1071 </span>        [<span class="branchCov" title="Branch 0 was taken 169760 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     169760 :       &amp;&amp; poly_int_tree_p (size_tree)</span></a>
<a name="1072"><span class="lineNum">    1072 </span>  [<span class="branchCov" title="Branch 0 was taken 169760 times"> + </span><span class="branchCov" title="Branch 1 was taken 203728 times"> + </span><span class="branchCov" title="Branch 2 was taken 169760 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">     713008 :       &amp;&amp; (!known_size_p (size)</span></a>
<a name="1073"><span class="lineNum">    1073 </span>  [<span class="branchCov" title="Branch 0 was taken 8112 times"> + </span><span class="branchCov" title="Branch 1 was taken 161648 times"> + </span><span class="branchCov" title="Branch 2 was taken 8112 times"> + </span><span class="branchCov" title="Branch 3 was taken 365376 times"> + </span>]:<span class="lineCov">     543248 :           || known_lt (wi::to_poly_offset (size_tree), size)))</span></a>
<a name="1074"><span class="lineNum">    1074 </span>                :<span class="lineCov">       8112 :     size = wi::to_poly_offset (size_tree);</span></a>
<a name="1075"><span class="lineNum">    1075 </span>                :            : </a>
<a name="1076"><span class="lineNum">    1076 </span>                :            :   /* Initially, maxsize is the same as the accessed element size.</a>
<a name="1077"><span class="lineNum">    1077 </span>                :            :      In the following it will only grow (or become -1).  */</a>
<a name="1078"><span class="lineNum">    1078 </span>                :<span class="lineCov">     373488 :   max_size = size;</span></a>
<a name="1079"><span class="lineNum">    1079 </span>                :            : </a>
<a name="1080"><span class="lineNum">    1080 </span>                :            :   /* Compute cumulative bit-offset for nested component-refs and array-refs,</a>
<a name="1081"><span class="lineNum">    1081 </span>                :            :      and find the ultimate containing object.  */</a>
<a name="1082"><span class="lineNum">    1082 </span>        [<span class="branchCov" title="Branch 0 was taken 1010630 times"> + </span><span class="branchCov" title="Branch 1 was taken 363181 times"> + </span>]:<span class="lineCov">    1373810 :   FOR_EACH_VEC_ELT (ops, i, op)</span></a>
<a name="1083"><span class="lineNum">    1083 </span>                :            :     {</a>
<a name="1084"><span class="lineNum">    1084 </span>  [<span class="branchCov" title="Branch 0 was taken 135574 times"> + </span><span class="branchCov" title="Branch 1 was taken 8126 times"> + </span><span class="branchCov" title="Branch 2 was taken 363699 times"> + </span><span class="branchCov" title="Branch 3 was taken 227748 times"> + </span> :<span class="lineCov">    1010630 :       switch (op-&gt;opcode)</span></a>
<span class="lineNum">         </span><span class="branchCov" title="Branch 4 was taken 8778 times"> + </span><span class="branchCov" title="Branch 5 was taken 217759 times"> + </span><span class="branchCov" title="Branch 6 was taken 46019 times"> + </span><span class="branchCov" title="Branch 7 was taken 309 times"> + </span><span class="branchCov" title="Branch 8 was taken 37 times"> + </span> 
<span class="lineNum">         </span>      <span class="branchCov" title="Branch 9 was taken 539 times"> + </span><span class="branchCov" title="Branch 10 was taken 421 times"> + </span><span class="branchCov" title="Branch 11 was taken 1619 times"> + </span>]
<a name="1085"><span class="lineNum">    1085 </span>                :            :         {</a>
<a name="1086"><span class="lineNum">    1086 </span>                :            :         /* These may be in the reference ops, but we cannot do anything</a>
<a name="1087"><span class="lineNum">    1087 </span>                :            :            sensible with them here.  */</a>
<a name="1088"><span class="lineNum">    1088 </span>                :<span class="lineCov">     135574 :         case ADDR_EXPR:</span></a>
<a name="1089"><span class="lineNum">    1089 </span>                :            :           /* Apart from ADDR_EXPR arguments to MEM_REF.  */</a>
<a name="1090"><span class="lineNum">    1090 </span>        [<span class="branchCov" title="Branch 0 was taken 135574 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     135574 :           if (base != NULL_TREE</span></a>
<a name="1091"><span class="lineNum">    1091 </span>        [<span class="branchCov" title="Branch 0 was taken 135574 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     135574 :               &amp;&amp; TREE_CODE (base) == MEM_REF</span></a>
<a name="1092"><span class="lineNum">    1092 </span>        [<span class="branchCov" title="Branch 0 was taken 135574 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     135574 :               &amp;&amp; op-&gt;op0</span></a>
<a name="1093"><span class="lineNum">    1093 </span>        [<span class="branchCov" title="Branch 0 was taken 135433 times"> + </span><span class="branchCov" title="Branch 1 was taken 141 times"> + </span>]:<span class="lineCov">     135574 :               &amp;&amp; DECL_P (TREE_OPERAND (op-&gt;op0, 0)))</span></a>
<a name="1094"><span class="lineNum">    1094 </span>                :            :             {</a>
<a name="1095"><span class="lineNum">    1095 </span>                :<span class="lineCov">     135433 :               vn_reference_op_t pop = &amp;ops[i-1];</span></a>
<a name="1096"><span class="lineNum">    1096 </span>                :<span class="lineCov">     135433 :               base = TREE_OPERAND (op-&gt;op0, 0);</span></a>
<a name="1097"><span class="lineNum">    1097 </span>        [<span class="branchCov" title="Branch 0 was taken 20 times"> + </span><span class="branchCov" title="Branch 1 was taken 135413 times"> + </span>]:<span class="lineCov">     135433 :               if (known_eq (pop-&gt;off, -1))</span></a>
<a name="1098"><span class="lineNum">    1098 </span>                :            :                 {</a>
<a name="1099"><span class="lineNum">    1099 </span>                :<span class="lineCov">         20 :                   max_size = -1;</span></a>
<a name="1100"><span class="lineNum">    1100 </span>                :<span class="lineCov">         20 :                   offset = 0;</span></a>
<a name="1101"><span class="lineNum">    1101 </span>                :            :                 }</a>
<a name="1102"><span class="lineNum">    1102 </span>                :            :               else</a>
<a name="1103"><span class="lineNum">    1103 </span>                :<span class="lineCov">     135413 :                 offset += pop-&gt;off * BITS_PER_UNIT;</span></a>
<a name="1104"><span class="lineNum">    1104 </span>                :<span class="lineCov">     135433 :               op0_p = NULL;</span></a>
<a name="1105"><span class="lineNum">    1105 </span>                :<span class="lineCov">     135433 :               break;</span></a>
<a name="1106"><span class="lineNum">    1106 </span>                :            :             }</a>
<a name="1107"><span class="lineNum">    1107 </span>                :            :           /* Fallthru.  */</a>
<a name="1108"><span class="lineNum">    1108 </span>                :            :         case CALL_EXPR:</a>
<a name="1109"><span class="lineNum">    1109 </span>                :<span class="lineCov">       8267 :           return false;</span></a>
<a name="1110"><span class="lineNum">    1110 </span>                :            : </a>
<a name="1111"><span class="lineNum">    1111 </span>                :            :         /* Record the base objects.  */</a>
<a name="1112"><span class="lineNum">    1112 </span>                :<span class="lineCov">     363699 :         case MEM_REF:</span></a>
<a name="1113"><span class="lineNum">    1113 </span>                :<span class="lineCov">     363699 :           *op0_p = build2 (MEM_REF, op-&gt;type,</span></a>
<a name="1114"><span class="lineNum">    1114 </span>                :            :                            NULL_TREE, op-&gt;op0);</a>
<a name="1115"><span class="lineNum">    1115 </span>                :<span class="lineCov">     363699 :           MR_DEPENDENCE_CLIQUE (*op0_p) = op-&gt;clique;</span></a>
<a name="1116"><span class="lineNum">    1116 </span>                :<span class="lineCov">     363699 :           MR_DEPENDENCE_BASE (*op0_p) = op-&gt;base;</span></a>
<a name="1117"><span class="lineNum">    1117 </span>                :<span class="lineCov">     363699 :           op0_p = &amp;TREE_OPERAND (*op0_p, 0);</span></a>
<a name="1118"><span class="lineNum">    1118 </span>                :<span class="lineCov">     363699 :           break;</span></a>
<a name="1119"><span class="lineNum">    1119 </span>                :            : </a>
<a name="1120"><span class="lineNum">    1120 </span>                :<span class="lineCov">     227748 :         case VAR_DECL:</span></a>
<a name="1121"><span class="lineNum">    1121 </span>                :            :         case PARM_DECL:</a>
<a name="1122"><span class="lineNum">    1122 </span>                :            :         case RESULT_DECL:</a>
<a name="1123"><span class="lineNum">    1123 </span>                :            :         case SSA_NAME:</a>
<a name="1124"><span class="lineNum">    1124 </span>                :<span class="lineCov">     227748 :           *op0_p = op-&gt;op0;</span></a>
<a name="1125"><span class="lineNum">    1125 </span>                :<span class="lineCov">     227748 :           op0_p = NULL;</span></a>
<a name="1126"><span class="lineNum">    1126 </span>                :<span class="lineCov">     227748 :           break;</span></a>
<a name="1127"><span class="lineNum">    1127 </span>                :            : </a>
<a name="1128"><span class="lineNum">    1128 </span>                :            :         /* And now the usual component-reference style ops.  */</a>
<a name="1129"><span class="lineNum">    1129 </span>                :<span class="lineCov">       8778 :         case BIT_FIELD_REF:</span></a>
<a name="1130"><span class="lineNum">    1130 </span>                :<span class="lineCov">       8778 :           offset += wi::to_poly_offset (op-&gt;op1);</span></a>
<a name="1131"><span class="lineNum">    1131 </span>                :<span class="lineCov">       8778 :           break;</span></a>
<a name="1132"><span class="lineNum">    1132 </span>                :            : </a>
<a name="1133"><span class="lineNum">    1133 </span>                :<span class="lineCov">     217759 :         case COMPONENT_REF:</span></a>
<a name="1134"><span class="lineNum">    1134 </span>                :            :           {</a>
<a name="1135"><span class="lineNum">    1135 </span>                :<span class="lineCov">     217759 :             tree field = op-&gt;op0;</span></a>
<a name="1136"><span class="lineNum">    1136 </span>                :            :             /* We do not have a complete COMPONENT_REF tree here so we</a>
<a name="1137"><span class="lineNum">    1137 </span>                :            :                cannot use component_ref_field_offset.  Do the interesting</a>
<a name="1138"><span class="lineNum">    1138 </span>                :            :                parts manually.  */</a>
<a name="1139"><span class="lineNum">    1139 </span>                :<span class="lineCov">     217759 :             tree this_offset = DECL_FIELD_OFFSET (field);</span></a>
<a name="1140"><span class="lineNum">    1140 </span>                :            : </a>
<a name="1141"><span class="lineNum">    1141 </span>  [<span class="branchCov" title="Branch 0 was taken 217759 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 217759 times"> + </span> :<span class="lineCov">     217759 :             if (op-&gt;op1 || !poly_int_tree_p (this_offset))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 217759 times"> + </span>]
<a name="1142"><span class="lineNum">    1142 </span>                :<span class="lineNoCov">          0 :               max_size = -1;</span></a>
<a name="1143"><span class="lineNum">    1143 </span>                :            :             else</a>
<a name="1144"><span class="lineNum">    1144 </span>                :            :               {</a>
<a name="1145"><span class="lineNum">    1145 </span>                :<span class="lineCov">     217759 :                 poly_offset_int woffset = (wi::to_poly_offset (this_offset)</span></a>
<a name="1146"><span class="lineNum">    1146 </span>                :<span class="lineCov">     217759 :                                            &lt;&lt; LOG2_BITS_PER_UNIT);</span></a>
<a name="1147"><span class="lineNum">    1147 </span>                :<span class="lineCov">     217759 :                 woffset += wi::to_offset (DECL_FIELD_BIT_OFFSET (field));</span></a>
<a name="1148"><span class="lineNum">    1148 </span>                :<span class="lineCov">     217759 :                 offset += woffset;</span></a>
<a name="1149"><span class="lineNum">    1149 </span>                :            :               }</a>
<a name="1150"><span class="lineNum">    1150 </span>                :<span class="lineCov">     217759 :             break;</span></a>
<a name="1151"><span class="lineNum">    1151 </span>                :            :           }</a>
<a name="1152"><span class="lineNum">    1152 </span>                :            : </a>
<a name="1153"><span class="lineNum">    1153 </span>                :<span class="lineCov">      46019 :         case ARRAY_RANGE_REF:</span></a>
<a name="1154"><span class="lineNum">    1154 </span>                :            :         case ARRAY_REF:</a>
<a name="1155"><span class="lineNum">    1155 </span>                :            :           /* We recorded the lower bound and the element size.  */</a>
<a name="1156"><span class="lineNum">    1156 </span>                :<span class="lineCov">      46019 :           if (!poly_int_tree_p (op-&gt;op0)</span></a>
<a name="1157"><span class="lineNum">    1157 </span>        [<span class="branchCov" title="Branch 0 was taken 19870 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      19870 :               || !poly_int_tree_p (op-&gt;op1)</span></a>
<a name="1158"><span class="lineNum">    1158 </span>  [<span class="branchCov" title="Branch 0 was taken 19870 times"> + </span><span class="branchCov" title="Branch 1 was taken 26149 times"> + </span><span class="branchCov" title="Branch 2 was taken 34 times"> + </span><span class="branchCov" title="Branch 3 was taken 19836 times"> + </span> :<span class="lineCov">      65889 :               || TREE_CODE (op-&gt;op2) != INTEGER_CST)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 26183 times"> + </span><span class="branchCov" title="Branch 5 was taken 19836 times"> + </span>]
<a name="1159"><span class="lineNum">    1159 </span>                :<span class="lineCov">      26183 :             max_size = -1;</span></a>
<a name="1160"><span class="lineNum">    1160 </span>                :            :           else</a>
<a name="1161"><span class="lineNum">    1161 </span>                :            :             {</a>
<a name="1162"><span class="lineNum">    1162 </span>                :            :               poly_offset_int woffset</a>
<a name="1163"><span class="lineNum">    1163 </span>                :<span class="lineCov">      19836 :                 = wi::sext (wi::to_poly_offset (op-&gt;op0)</span></a>
<a name="1164"><span class="lineNum">    1164 </span>                :<span class="lineCov">      19836 :                             - wi::to_poly_offset (op-&gt;op1),</span></a>
<a name="1165"><span class="lineNum">    1165 </span>                :<span class="lineCov">      39672 :                             TYPE_PRECISION (sizetype));</span></a>
<a name="1166"><span class="lineNum">    1166 </span>                :<span class="lineCov">      19836 :               woffset *= wi::to_offset (op-&gt;op2) * vn_ref_op_align_unit (op);</span></a>
<a name="1167"><span class="lineNum">    1167 </span>                :<span class="lineCov">      19836 :               woffset &lt;&lt;= LOG2_BITS_PER_UNIT;</span></a>
<a name="1168"><span class="lineNum">    1168 </span>                :<span class="lineCov">      19836 :               offset += woffset;</span></a>
<a name="1169"><span class="lineNum">    1169 </span>                :            :             }</a>
<a name="1170"><span class="lineNum">    1170 </span>                :<span class="lineCov">      46019 :           break;</span></a>
<a name="1171"><span class="lineNum">    1171 </span>                :            : </a>
<a name="1172"><span class="lineNum">    1172 </span>                :<span class="lineCov">        309 :         case REALPART_EXPR:</span></a>
<a name="1173"><span class="lineNum">    1173 </span>                :<span class="lineCov">        309 :           break;</span></a>
<a name="1174"><span class="lineNum">    1174 </span>                :            : </a>
<a name="1175"><span class="lineNum">    1175 </span>                :<span class="lineCov">         37 :         case IMAGPART_EXPR:</span></a>
<a name="1176"><span class="lineNum">    1176 </span>                :<span class="lineCov">         37 :           offset += size;</span></a>
<a name="1177"><span class="lineNum">    1177 </span>                :<span class="lineCov">         37 :           break;</span></a>
<a name="1178"><span class="lineNum">    1178 </span>                :            : </a>
<a name="1179"><span class="lineNum">    1179 </span>                :<span class="lineCov">        539 :         case VIEW_CONVERT_EXPR:</span></a>
<a name="1180"><span class="lineNum">    1180 </span>                :<span class="lineCov">        539 :           break;</span></a>
<a name="1181"><span class="lineNum">    1181 </span>                :            : </a>
<a name="1182"><span class="lineNum">    1182 </span>                :<span class="lineCov">        421 :         case STRING_CST:</span></a>
<a name="1183"><span class="lineNum">    1183 </span>                :            :         case INTEGER_CST:</a>
<a name="1184"><span class="lineNum">    1184 </span>                :            :         case COMPLEX_CST:</a>
<a name="1185"><span class="lineNum">    1185 </span>                :            :         case VECTOR_CST:</a>
<a name="1186"><span class="lineNum">    1186 </span>                :            :         case REAL_CST:</a>
<a name="1187"><span class="lineNum">    1187 </span>                :            :         case CONSTRUCTOR:</a>
<a name="1188"><span class="lineNum">    1188 </span>                :            :         case CONST_DECL:</a>
<a name="1189"><span class="lineNum">    1189 </span>                :<span class="lineCov">        421 :           return false;</span></a>
<a name="1190"><span class="lineNum">    1190 </span>                :            : </a>
<a name="1191"><span class="lineNum">    1191 </span>                :<span class="lineCov">       1619 :         default:</span></a>
<a name="1192"><span class="lineNum">    1192 </span>                :<span class="lineCov">       1619 :           return false;</span></a>
<a name="1193"><span class="lineNum">    1193 </span>                :            :         }</a>
<a name="1194"><span class="lineNum">    1194 </span>                :            :     }</a>
<a name="1195"><span class="lineNum">    1195 </span>                :            : </a>
<a name="1196"><span class="lineNum">    1196 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 363181 times"> + </span>]:<span class="lineCov">     363181 :   if (base == NULL_TREE)</span></a>
<a name="1197"><span class="lineNum">    1197 </span>                :<span class="lineNoCov">          0 :     return false;</span></a>
<a name="1198"><span class="lineNum">    1198 </span>                :            : </a>
<a name="1199"><span class="lineNum">    1199 </span>                :<span class="lineCov">     363181 :   ref-&gt;ref = NULL_TREE;</span></a>
<a name="1200"><span class="lineNum">    1200 </span>                :<span class="lineCov">     363181 :   ref-&gt;base = base;</span></a>
<a name="1201"><span class="lineNum">    1201 </span>                :<span class="lineCov">     363181 :   ref-&gt;ref_alias_set = set;</span></a>
<a name="1202"><span class="lineNum">    1202 </span>                :<span class="lineCov">     363181 :   ref-&gt;base_alias_set = base_set;</span></a>
<a name="1203"><span class="lineNum">    1203 </span>                :            :   /* We discount volatiles from value-numbering elsewhere.  */</a>
<a name="1204"><span class="lineNum">    1204 </span>                :<span class="lineCov">     363181 :   ref-&gt;volatile_p = false;</span></a>
<a name="1205"><span class="lineNum">    1205 </span>                :            : </a>
<a name="1206"><span class="lineNum">    1206 </span>  [<span class="branchCov" title="Branch 0 was taken 363181 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 363181 times"> + </span> :<span class="lineCov">     363181 :   if (!size.to_shwi (&amp;ref-&gt;size) || maybe_lt (ref-&gt;size, 0))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 363181 times"> + </span>]
<a name="1207"><span class="lineNum">    1207 </span>                :            :     {</a>
<a name="1208"><span class="lineNum">    1208 </span>                :<span class="lineNoCov">          0 :       ref-&gt;offset = 0;</span></a>
<a name="1209"><span class="lineNum">    1209 </span>                :<span class="lineNoCov">          0 :       ref-&gt;size = -1;</span></a>
<a name="1210"><span class="lineNum">    1210 </span>                :<span class="lineNoCov">          0 :       ref-&gt;max_size = -1;</span></a>
<a name="1211"><span class="lineNum">    1211 </span>                :<span class="lineNoCov">          0 :       return true;</span></a>
<a name="1212"><span class="lineNum">    1212 </span>                :            :     }</a>
<a name="1213"><span class="lineNum">    1213 </span>                :            : </a>
<a name="1214"><span class="lineNum">    1214 </span>        [<span class="branchCov" title="Branch 0 was taken 5 times"> + </span><span class="branchCov" title="Branch 1 was taken 363176 times"> + </span>]:<span class="lineCov">     363181 :   if (!offset.to_shwi (&amp;ref-&gt;offset))</span></a>
<a name="1215"><span class="lineNum">    1215 </span>                :            :     {</a>
<a name="1216"><span class="lineNum">    1216 </span>                :<span class="lineCov">          5 :       ref-&gt;offset = 0;</span></a>
<a name="1217"><span class="lineNum">    1217 </span>                :<span class="lineCov">          5 :       ref-&gt;max_size = -1;</span></a>
<a name="1218"><span class="lineNum">    1218 </span>                :<span class="lineCov">          5 :       return true;</span></a>
<a name="1219"><span class="lineNum">    1219 </span>                :            :     }</a>
<a name="1220"><span class="lineNum">    1220 </span>                :            : </a>
<a name="1221"><span class="lineNum">    1221 </span>  [<span class="branchCov" title="Branch 0 was taken 363176 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 25769 times"> + </span><span class="branchCov" title="Branch 3 was taken 337407 times"> + </span> :<span class="lineCov">     363176 :   if (!max_size.to_shwi (&amp;ref-&gt;max_size) || maybe_lt (ref-&gt;max_size, 0))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 25769 times"> + </span><span class="branchCov" title="Branch 5 was taken 337407 times"> + </span>]
<a name="1222"><span class="lineNum">    1222 </span>                :<span class="lineCov">      25769 :     ref-&gt;max_size = -1;</span></a>
<a name="1223"><span class="lineNum">    1223 </span>                :            : </a>
<a name="1224"><span class="lineNum">    1224 </span>                :<span class="lineCov">     363176 :   return true;</span></a>
<a name="1225"><span class="lineNum">    1225 </span>                :            : }</a>
<a name="1226"><span class="lineNum">    1226 </span>                :            : </a>
<a name="1227"><span class="lineNum">    1227 </span>                :            : /* Copy the operations present in load/store/call REF into RESULT, a vector of</a>
<a name="1228"><span class="lineNum">    1228 </span>                :            :    vn_reference_op_s's.  */</a>
<a name="1229"><span class="lineNum">    1229 </span>                :            : </a>
<a name="1230"><span class="lineNum">    1230 </span>                :            : static void</a>
<a name="1231"><span class="lineNum">    1231 </span>                :<span class="lineCov">     274998 : copy_reference_ops_from_call (gcall *call,</span></a>
<a name="1232"><span class="lineNum">    1232 </span>                :            :                               vec&lt;vn_reference_op_s&gt; *result)</a>
<a name="1233"><span class="lineNum">    1233 </span>                :            : {</a>
<a name="1234"><span class="lineNum">    1234 </span>                :            :   vn_reference_op_s temp;</a>
<a name="1235"><span class="lineNum">    1235 </span>                :            :   unsigned i;</a>
<a name="1236"><span class="lineNum">    1236 </span>                :<span class="lineCov">     274998 :   tree lhs = gimple_call_lhs (call);</span></a>
<a name="1237"><span class="lineNum">    1237 </span>                :            :   int lr;</a>
<a name="1238"><span class="lineNum">    1238 </span>                :            : </a>
<a name="1239"><span class="lineNum">    1239 </span>                :            :   /* If 2 calls have a different non-ssa lhs, vdef value numbers should be</a>
<a name="1240"><span class="lineNum">    1240 </span>                :            :      different.  By adding the lhs here in the vector, we ensure that the</a>
<a name="1241"><span class="lineNum">    1241 </span>                :            :      hashcode is different, guaranteeing a different value number.  */</a>
<a name="1242"><span class="lineNum">    1242 </span>  [<span class="branchCov" title="Branch 0 was taken 133619 times"> + </span><span class="branchCov" title="Branch 1 was taken 141379 times"> + </span><span class="branchCov" title="Branch 2 was taken 2042 times"> + </span><span class="branchCov" title="Branch 3 was taken 131577 times"> + </span>]:<span class="lineCov">     274998 :   if (lhs &amp;&amp; TREE_CODE (lhs) != SSA_NAME)</span></a>
<a name="1243"><span class="lineNum">    1243 </span>                :            :     {</a>
<a name="1244"><span class="lineNum">    1244 </span>                :<span class="lineCov">       2042 :       memset (&amp;temp, 0, sizeof (temp));</span></a>
<a name="1245"><span class="lineNum">    1245 </span>                :<span class="lineCov">       2042 :       temp.opcode = MODIFY_EXPR;</span></a>
<a name="1246"><span class="lineNum">    1246 </span>                :<span class="lineCov">       2042 :       temp.type = TREE_TYPE (lhs);</span></a>
<a name="1247"><span class="lineNum">    1247 </span>                :<span class="lineCov">       2042 :       temp.op0 = lhs;</span></a>
<a name="1248"><span class="lineNum">    1248 </span>                :<span class="lineCov">       2042 :       temp.off = -1;</span></a>
<a name="1249"><span class="lineNum">    1249 </span>                :<span class="lineCov">       2042 :       result-&gt;safe_push (temp);</span></a>
<a name="1250"><span class="lineNum">    1250 </span>                :            :     }</a>
<a name="1251"><span class="lineNum">    1251 </span>                :            : </a>
<a name="1252"><span class="lineNum">    1252 </span>                :            :   /* Copy the type, opcode, function, static chain and EH region, if any.  */</a>
<a name="1253"><span class="lineNum">    1253 </span>                :<span class="lineCov">     274998 :   memset (&amp;temp, 0, sizeof (temp));</span></a>
<a name="1254"><span class="lineNum">    1254 </span>                :<span class="lineCov">     274998 :   temp.type = gimple_call_fntype (call);</span></a>
<a name="1255"><span class="lineNum">    1255 </span>                :<span class="lineCov">     274998 :   temp.opcode = CALL_EXPR;</span></a>
<a name="1256"><span class="lineNum">    1256 </span>                :<span class="lineCov">     274998 :   temp.op0 = gimple_call_fn (call);</span></a>
<a name="1257"><span class="lineNum">    1257 </span>                :<span class="lineCov">     274998 :   temp.op1 = gimple_call_chain (call);</span></a>
<a name="1258"><span class="lineNum">    1258 </span>  [<span class="branchCov" title="Branch 0 was taken 13306 times"> + </span><span class="branchCov" title="Branch 1 was taken 261692 times"> + </span><span class="branchCov" title="Branch 2 was taken 6172 times"> + </span><span class="branchCov" title="Branch 3 was taken 7134 times"> + </span> :<span class="lineCov">     274998 :   if (stmt_could_throw_p (cfun, call) &amp;&amp; (lr = lookup_stmt_eh_lp (call)) &gt; 0)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 6172 times"> + </span><span class="branchCov" title="Branch 5 was taken 268826 times"> + </span>]
<a name="1259"><span class="lineNum">    1259 </span>                :<span class="lineCov">       6172 :     temp.op2 = size_int (lr);</span></a>
<a name="1260"><span class="lineNum">    1260 </span>                :<span class="lineCov">     274998 :   temp.off = -1;</span></a>
<a name="1261"><span class="lineNum">    1261 </span>                :<span class="lineCov">     274998 :   result-&gt;safe_push (temp);</span></a>
<a name="1262"><span class="lineNum">    1262 </span>                :            : </a>
<a name="1263"><span class="lineNum">    1263 </span>                :            :   /* Copy the call arguments.  As they can be references as well,</a>
<a name="1264"><span class="lineNum">    1264 </span>                :            :      just chain them together.  */</a>
<a name="1265"><span class="lineNum">    1265 </span>        [<span class="branchCov" title="Branch 0 was taken 507031 times"> + </span><span class="branchCov" title="Branch 1 was taken 274998 times"> + </span>]:<span class="lineCov">     782029 :   for (i = 0; i &lt; gimple_call_num_args (call); ++i)</span></a>
<a name="1266"><span class="lineNum">    1266 </span>                :            :     {</a>
<a name="1267"><span class="lineNum">    1267 </span>                :<span class="lineCov">     507031 :       tree callarg = gimple_call_arg (call, i);</span></a>
<a name="1268"><span class="lineNum">    1268 </span>                :<span class="lineCov">     507031 :       copy_reference_ops_from_ref (callarg, result);</span></a>
<a name="1269"><span class="lineNum">    1269 </span>                :            :     }</a>
<a name="1270"><span class="lineNum">    1270 </span>                :<span class="lineCov">     274998 : }</span></a>
<a name="1271"><span class="lineNum">    1271 </span>                :            : </a>
<a name="1272"><span class="lineNum">    1272 </span>                :            : /* Fold *&amp; at position *I_P in a vn_reference_op_s vector *OPS.  Updates</a>
<a name="1273"><span class="lineNum">    1273 </span>                :            :    *I_P to point to the last element of the replacement.  */</a>
<a name="1274"><span class="lineNum">    1274 </span>                :            : static bool</a>
<a name="1275"><span class="lineNum">    1275 </span>                :<span class="lineCov">    2408990 : vn_reference_fold_indirect (vec&lt;vn_reference_op_s&gt; *ops,</span></a>
<a name="1276"><span class="lineNum">    1276 </span>                :            :                             unsigned int *i_p)</a>
<a name="1277"><span class="lineNum">    1277 </span>                :            : {</a>
<a name="1278"><span class="lineNum">    1278 </span>                :<span class="lineCov">    2408990 :   unsigned int i = *i_p;</span></a>
<a name="1279"><span class="lineNum">    1279 </span>                :<span class="lineCov">    2408990 :   vn_reference_op_t op = &amp;(*ops)[i];</span></a>
<a name="1280"><span class="lineNum">    1280 </span>                :<span class="lineCov">    2408990 :   vn_reference_op_t mem_op = &amp;(*ops)[i - 1];</span></a>
<a name="1281"><span class="lineNum">    1281 </span>                :            :   tree addr_base;</a>
<a name="1282"><span class="lineNum">    1282 </span>                :<span class="lineCov">    2408990 :   poly_int64 addr_offset = 0;</span></a>
<a name="1283"><span class="lineNum">    1283 </span>                :            : </a>
<a name="1284"><span class="lineNum">    1284 </span>                :            :   /* The only thing we have to do is from &amp;OBJ.foo.bar add the offset</a>
<a name="1285"><span class="lineNum">    1285 </span>                :            :      from .foo.bar to the preceding MEM_REF offset and replace the</a>
<a name="1286"><span class="lineNum">    1286 </span>                :            :      address with &amp;OBJ.  */</a>
<a name="1287"><span class="lineNum">    1287 </span>                :<span class="lineCov">    2408990 :   addr_base = get_addr_base_and_unit_offset_1 (TREE_OPERAND (op-&gt;op0, 0),</span></a>
<a name="1288"><span class="lineNum">    1288 </span>                :            :                                                &amp;addr_offset, vn_valueize);</a>
<a name="1289"><span class="lineNum">    1289 </span>                :            :   gcc_checking_assert (addr_base &amp;&amp; TREE_CODE (addr_base) != MEM_REF);</a>
<a name="1290"><span class="lineNum">    1290 </span>        [<span class="branchCov" title="Branch 0 was taken 13058 times"> + </span><span class="branchCov" title="Branch 1 was taken 2395930 times"> + </span>]:<span class="lineCov">    2408990 :   if (addr_base != TREE_OPERAND (op-&gt;op0, 0))</span></a>
<a name="1291"><span class="lineNum">    1291 </span>                :            :     {</a>
<a name="1292"><span class="lineNum">    1292 </span>                :            :       poly_offset_int off</a>
<a name="1293"><span class="lineNum">    1293 </span>                :<span class="lineCov">      13058 :         = (poly_offset_int::from (wi::to_poly_wide (mem_op-&gt;op0),</span></a>
<a name="1294"><span class="lineNum">    1294 </span>                :<span class="lineCov">      13058 :                                   SIGNED)</span></a>
<a name="1295"><span class="lineNum">    1295 </span>                :<span class="lineCov">      13058 :            + addr_offset);</span></a>
<a name="1296"><span class="lineNum">    1296 </span>                :<span class="lineCov">      13058 :       mem_op-&gt;op0 = wide_int_to_tree (TREE_TYPE (mem_op-&gt;op0), off);</span></a>
<a name="1297"><span class="lineNum">    1297 </span>                :<span class="lineCov">      13058 :       op-&gt;op0 = build_fold_addr_expr (addr_base);</span></a>
<a name="1298"><span class="lineNum">    1298 </span>        [<span class="branchCov" title="Branch 0 was taken 13058 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      13058 :       if (tree_fits_shwi_p (mem_op-&gt;op0))</span></a>
<a name="1299"><span class="lineNum">    1299 </span>                :<span class="lineCov">      13058 :         mem_op-&gt;off = tree_to_shwi (mem_op-&gt;op0);</span></a>
<a name="1300"><span class="lineNum">    1300 </span>                :            :       else</a>
<a name="1301"><span class="lineNum">    1301 </span>                :<span class="lineNoCov">          0 :         mem_op-&gt;off = -1;</span></a>
<a name="1302"><span class="lineNum">    1302 </span>                :<span class="lineCov">      13058 :       return true;</span></a>
<a name="1303"><span class="lineNum">    1303 </span>                :            :     }</a>
<a name="1304"><span class="lineNum">    1304 </span>                :<span class="lineCov">    2395930 :   return false;</span></a>
<a name="1305"><span class="lineNum">    1305 </span>                :            : }</a>
<a name="1306"><span class="lineNum">    1306 </span>                :            : </a>
<a name="1307"><span class="lineNum">    1307 </span>                :            : /* Fold *&amp; at position *I_P in a vn_reference_op_s vector *OPS.  Updates</a>
<a name="1308"><span class="lineNum">    1308 </span>                :            :    *I_P to point to the last element of the replacement.  */</a>
<a name="1309"><span class="lineNum">    1309 </span>                :            : static bool</a>
<a name="1310"><span class="lineNum">    1310 </span>                :<span class="lineCov">    2690200 : vn_reference_maybe_forwprop_address (vec&lt;vn_reference_op_s&gt; *ops,</span></a>
<a name="1311"><span class="lineNum">    1311 </span>                :            :                                      unsigned int *i_p)</a>
<a name="1312"><span class="lineNum">    1312 </span>                :            : {</a>
<a name="1313"><span class="lineNum">    1313 </span>                :<span class="lineCov">    2690200 :   bool changed = false;</span></a>
<a name="1314"><span class="lineNum">    1314 </span>                :            :   vn_reference_op_t op;</a>
<a name="1315"><span class="lineNum">    1315 </span>                :            : </a>
<a name="1316"><span class="lineNum">    1316 </span>                :<span class="lineCov">     228623 :   do</span></a>
<a name="1317"><span class="lineNum">    1317 </span>                :            :     {</a>
<a name="1318"><span class="lineNum">    1318 </span>                :<span class="lineCov">    2918820 :       unsigned int i = *i_p;</span></a>
<a name="1319"><span class="lineNum">    1319 </span>                :<span class="lineCov">    2918820 :       op = &amp;(*ops)[i];</span></a>
<a name="1320"><span class="lineNum">    1320 </span>                :<span class="lineCov">    2918820 :       vn_reference_op_t mem_op = &amp;(*ops)[i - 1];</span></a>
<a name="1321"><span class="lineNum">    1321 </span>                :            :       gimple *def_stmt;</a>
<a name="1322"><span class="lineNum">    1322 </span>                :            :       enum tree_code code;</a>
<a name="1323"><span class="lineNum">    1323 </span>                :<span class="lineCov">    2918820 :       poly_offset_int off;</span></a>
<a name="1324"><span class="lineNum">    1324 </span>                :            : </a>
<a name="1325"><span class="lineNum">    1325 </span>                :<span class="lineCov">    2918820 :       def_stmt = SSA_NAME_DEF_STMT (op-&gt;op0);</span></a>
<a name="1326"><span class="lineNum">    1326 </span>        [<span class="branchCov" title="Branch 0 was taken 1831640 times"> + </span><span class="branchCov" title="Branch 1 was taken 1087180 times"> + </span>]:<span class="lineCov">    2918820 :       if (!is_gimple_assign (def_stmt))</span></a>
<a name="1327"><span class="lineNum">    1327 </span>                :<span class="lineCov">    2690200 :         return changed;</span></a>
<a name="1328"><span class="lineNum">    1328 </span>                :            : </a>
<a name="1329"><span class="lineNum">    1329 </span>                :<span class="lineCov">    1087180 :       code = gimple_assign_rhs_code (def_stmt);</span></a>
<a name="1330"><span class="lineNum">    1330 </span>        [<span class="branchCov" title="Branch 0 was taken 1004640 times"> + </span><span class="branchCov" title="Branch 1 was taken 82542 times"> + </span>]:<span class="lineCov">    1087180 :       if (code != ADDR_EXPR</span></a>
<a name="1331"><span class="lineNum">    1331 </span>        [<span class="branchCov" title="Branch 0 was taken 515705 times"> + </span><span class="branchCov" title="Branch 1 was taken 488934 times"> + </span>]:<span class="lineCov">    1004640 :           &amp;&amp; code != POINTER_PLUS_EXPR)</span></a>
<a name="1332"><span class="lineNum">    1332 </span>                :<span class="lineCov">     515705 :         return changed;</span></a>
<a name="1333"><span class="lineNum">    1333 </span>                :            : </a>
<a name="1334"><span class="lineNum">    1334 </span>                :<span class="lineCov">     571476 :       off = poly_offset_int::from (wi::to_poly_wide (mem_op-&gt;op0), SIGNED);</span></a>
<a name="1335"><span class="lineNum">    1335 </span>                :            : </a>
<a name="1336"><span class="lineNum">    1336 </span>                :            :       /* The only thing we have to do is from &amp;OBJ.foo.bar add the offset</a>
<a name="1337"><span class="lineNum">    1337 </span>                :            :          from .foo.bar to the preceding MEM_REF offset and replace the</a>
<a name="1338"><span class="lineNum">    1338 </span>                :            :          address with &amp;OBJ.  */</a>
<a name="1339"><span class="lineNum">    1339 </span>        [<span class="branchCov" title="Branch 0 was taken 82542 times"> + </span><span class="branchCov" title="Branch 1 was taken 488934 times"> + </span>]:<span class="lineCov">     571476 :       if (code == ADDR_EXPR)</span></a>
<a name="1340"><span class="lineNum">    1340 </span>                :            :         {</a>
<a name="1341"><span class="lineNum">    1341 </span>                :            :           tree addr, addr_base;</a>
<a name="1342"><span class="lineNum">    1342 </span>                :<span class="lineCov">      82542 :           poly_int64 addr_offset;</span></a>
<a name="1343"><span class="lineNum">    1343 </span>                :            : </a>
<a name="1344"><span class="lineNum">    1344 </span>                :<span class="lineCov">      82542 :           addr = gimple_assign_rhs1 (def_stmt);</span></a>
<a name="1345"><span class="lineNum">    1345 </span>                :<span class="lineCov">      82542 :           addr_base = get_addr_base_and_unit_offset_1 (TREE_OPERAND (addr, 0),</span></a>
<a name="1346"><span class="lineNum">    1346 </span>                :            :                                                        &amp;addr_offset,</a>
<a name="1347"><span class="lineNum">    1347 </span>                :            :                                                        vn_valueize);</a>
<a name="1348"><span class="lineNum">    1348 </span>                :            :           /* If that didn't work because the address isn't invariant propagate</a>
<a name="1349"><span class="lineNum">    1349 </span>                :            :              the reference tree from the address operation in case the current</a>
<a name="1350"><span class="lineNum">    1350 </span>                :            :              dereference isn't offsetted.  */</a>
<a name="1351"><span class="lineNum">    1351 </span>                :<span class="lineCov">      82542 :           if (!addr_base</span></a>
<a name="1352"><span class="lineNum">    1352 </span>        [<span class="branchCov" title="Branch 0 was taken 2612 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       2612 :               &amp;&amp; *i_p == ops-&gt;length () - 1</span></a>
<a name="1353"><span class="lineNum">    1353 </span>        [<span class="branchCov" title="Branch 0 was taken 2236 times"> + </span><span class="branchCov" title="Branch 1 was taken 376 times"> + </span>]:<span class="lineCov">       2612 :               &amp;&amp; known_eq (off, 0)</span></a>
<a name="1354"><span class="lineNum">    1354 </span>                :            :               /* This makes us disable this transform for PRE where the</a>
<a name="1355"><span class="lineNum">    1355 </span>                :            :                  reference ops might be also used for code insertion which</a>
<a name="1356"><span class="lineNum">    1356 </span>                :            :                  is invalid.  */</a>
<a name="1357"><span class="lineNum">    1357 </span>  [<span class="branchCov" title="Branch 0 was taken 2612 times"> + </span><span class="branchCov" title="Branch 1 was taken 79930 times"> + </span><span class="branchCov" title="Branch 2 was taken 2236 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">      85154 :               &amp;&amp; default_vn_walk_kind == VN_WALKREWRITE)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 2236 times"> + </span><span class="branchCov" title="Branch 5 was taken 80306 times"> + </span>]
<a name="1358"><span class="lineNum">    1358 </span>                :            :             {</a>
<a name="1359"><span class="lineNum">    1359 </span>                :<span class="lineCov">       2236 :               auto_vec&lt;vn_reference_op_s, 32&gt; tem;</span></a>
<a name="1360"><span class="lineNum">    1360 </span>                :<span class="lineCov">       2236 :               copy_reference_ops_from_ref (TREE_OPERAND (addr, 0), &amp;tem);</span></a>
<a name="1361"><span class="lineNum">    1361 </span>                :            :               /* Make sure to preserve TBAA info.  The only objects not</a>
<a name="1362"><span class="lineNum">    1362 </span>                :            :                  wrapped in MEM_REFs that can have their address taken are</a>
<a name="1363"><span class="lineNum">    1363 </span>                :            :                  STRING_CSTs.  */</a>
<a name="1364"><span class="lineNum">    1364 </span>                :<span class="lineCov">       2236 :               if (tem.length () &gt;= 2</span></a>
<a name="1365"><span class="lineNum">    1365 </span>  [<span class="branchCov" title="Branch 0 was taken 2236 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 2236 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">       2236 :                   &amp;&amp; tem[tem.length () - 2].opcode == MEM_REF)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 2236 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span>]
<a name="1366"><span class="lineNum">    1366 </span>                :            :                 {</a>
<a name="1367"><span class="lineNum">    1367 </span>                :<span class="lineCov">       2236 :                   vn_reference_op_t new_mem_op = &amp;tem[tem.length () - 2];</span></a>
<a name="1368"><span class="lineNum">    1368 </span>                :            :                   new_mem_op-&gt;op0</a>
<a name="1369"><span class="lineNum">    1369 </span>                :<span class="lineCov">       2236 :                       = wide_int_to_tree (TREE_TYPE (mem_op-&gt;op0),</span></a>
<a name="1370"><span class="lineNum">    1370 </span>                :<span class="lineCov">       4472 :                                           wi::to_poly_wide (new_mem_op-&gt;op0));</span></a>
<a name="1371"><span class="lineNum">    1371 </span>                :            :                 }</a>
<a name="1372"><span class="lineNum">    1372 </span>                :            :               else</a>
<a name="1373"><span class="lineNum">    1373 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                 gcc_assert (tem.last ().opcode == STRING_CST);</span></a>
<a name="1374"><span class="lineNum">    1374 </span>                :<span class="lineCov">       2236 :               ops-&gt;pop ();</span></a>
<a name="1375"><span class="lineNum">    1375 </span>                :<span class="lineCov">       2236 :               ops-&gt;pop ();</span></a>
<a name="1376"><span class="lineNum">    1376 </span>                :<span class="lineCov">       2236 :               ops-&gt;safe_splice (tem);</span></a>
<a name="1377"><span class="lineNum">    1377 </span>                :<span class="lineCov">       2236 :               --*i_p;</span></a>
<a name="1378"><span class="lineNum">    1378 </span>                :<span class="lineCov">       2236 :               return true;</span></a>
<a name="1379"><span class="lineNum">    1379 </span>                :            :             }</a>
<a name="1380"><span class="lineNum">    1380 </span>        [<span class="branchCov" title="Branch 0 was taken 79930 times"> + </span><span class="branchCov" title="Branch 1 was taken 376 times"> + </span>]:<span class="lineCov">      80306 :           if (!addr_base</span></a>
<a name="1381"><span class="lineNum">    1381 </span>        [<span class="branchCov" title="Branch 0 was taken 79930 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      79930 :               || TREE_CODE (addr_base) != MEM_REF</span></a>
<a name="1382"><span class="lineNum">    1382 </span>        [<span class="branchCov" title="Branch 0 was taken 79930 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      79930 :               || (TREE_CODE (TREE_OPERAND (addr_base, 0)) == SSA_NAME</span></a>
<a name="1383"><span class="lineNum">    1383 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 79930 times"> + </span>]:<span class="lineCov">      79930 :                   &amp;&amp; SSA_NAME_OCCURS_IN_ABNORMAL_PHI (TREE_OPERAND (addr_base,</span></a>
<a name="1384"><span class="lineNum">    1384 </span>                :            :                                                                     0))))</a>
<a name="1385"><span class="lineNum">    1385 </span>                :<span class="lineCov">        376 :             return changed;</span></a>
<a name="1386"><span class="lineNum">    1386 </span>                :            : </a>
<a name="1387"><span class="lineNum">    1387 </span>                :<span class="lineCov">      79930 :           off += addr_offset;</span></a>
<a name="1388"><span class="lineNum">    1388 </span>                :<span class="lineCov">      79930 :           off += mem_ref_offset (addr_base);</span></a>
<a name="1389"><span class="lineNum">    1389 </span>                :<span class="lineCov">      79930 :           op-&gt;op0 = TREE_OPERAND (addr_base, 0);</span></a>
<a name="1390"><span class="lineNum">    1390 </span>                :            :         }</a>
<a name="1391"><span class="lineNum">    1391 </span>                :            :       else</a>
<a name="1392"><span class="lineNum">    1392 </span>                :            :         {</a>
<a name="1393"><span class="lineNum">    1393 </span>                :            :           tree ptr, ptroff;</a>
<a name="1394"><span class="lineNum">    1394 </span>                :<span class="lineCov">     488934 :           ptr = gimple_assign_rhs1 (def_stmt);</span></a>
<a name="1395"><span class="lineNum">    1395 </span>                :<span class="lineCov">     488934 :           ptroff = gimple_assign_rhs2 (def_stmt);</span></a>
<a name="1396"><span class="lineNum">    1396 </span>                :<span class="lineCov">     977868 :           if (TREE_CODE (ptr) != SSA_NAME</span></a>
<a name="1397"><span class="lineNum">    1397 </span>        [<span class="branchCov" title="Branch 0 was taken 464140 times"> + </span><span class="branchCov" title="Branch 1 was taken 1190 times"> + </span>]:<span class="lineCov">     465330 :               || SSA_NAME_OCCURS_IN_ABNORMAL_PHI (ptr)</span></a>
<a name="1398"><span class="lineNum">    1398 </span>                :            :               /* Make sure to not endlessly recurse.</a>
<a name="1399"><span class="lineNum">    1399 </span>                :            :                  See gcc.dg/tree-ssa/20040408-1.c for an example.  Can easily</a>
<a name="1400"><span class="lineNum">    1400 </span>                :            :                  happen when we value-number a PHI to its backedge value.  */</a>
<a name="1401"><span class="lineNum">    1401 </span>        [<span class="branchCov" title="Branch 0 was taken 464140 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     464140 :               || SSA_VAL (ptr) == op-&gt;op0</span></a>
<a name="1402"><span class="lineNum">    1402 </span>  [<span class="branchCov" title="Branch 0 was taken 465330 times"> + </span><span class="branchCov" title="Branch 1 was taken 23604 times"> + </span><span class="branchCov" title="Branch 2 was taken 315447 times"> + </span><span class="branchCov" title="Branch 3 was taken 148693 times"> + </span> :<span class="lineCov">     954264 :               || !poly_int_tree_p (ptroff))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 340241 times"> + </span><span class="branchCov" title="Branch 5 was taken 148693 times"> + </span>]
<a name="1403"><span class="lineNum">    1403 </span>                :<span class="lineCov">     340241 :             return changed;</span></a>
<a name="1404"><span class="lineNum">    1404 </span>                :            : </a>
<a name="1405"><span class="lineNum">    1405 </span>                :<span class="lineCov">     148693 :           off += wi::to_poly_offset (ptroff);</span></a>
<a name="1406"><span class="lineNum">    1406 </span>                :<span class="lineCov">     148693 :           op-&gt;op0 = ptr;</span></a>
<a name="1407"><span class="lineNum">    1407 </span>                :            :         }</a>
<a name="1408"><span class="lineNum">    1408 </span>                :            : </a>
<a name="1409"><span class="lineNum">    1409 </span>                :<span class="lineCov">     228623 :       mem_op-&gt;op0 = wide_int_to_tree (TREE_TYPE (mem_op-&gt;op0), off);</span></a>
<a name="1410"><span class="lineNum">    1410 </span>        [<span class="branchCov" title="Branch 0 was taken 218573 times"> + </span><span class="branchCov" title="Branch 1 was taken 10050 times"> + </span>]:<span class="lineCov">     228623 :       if (tree_fits_shwi_p (mem_op-&gt;op0))</span></a>
<a name="1411"><span class="lineNum">    1411 </span>                :<span class="lineCov">     218573 :         mem_op-&gt;off = tree_to_shwi (mem_op-&gt;op0);</span></a>
<a name="1412"><span class="lineNum">    1412 </span>                :            :       else</a>
<a name="1413"><span class="lineNum">    1413 </span>                :<span class="lineCov">      10050 :         mem_op-&gt;off = -1;</span></a>
<a name="1414"><span class="lineNum">    1414 </span>                :            :       /* ???  Can end up with endless recursion here!?</a>
<a name="1415"><span class="lineNum">    1415 </span>                :            :          gcc.c-torture/execute/strcmp-1.c  */</a>
<a name="1416"><span class="lineNum">    1416 </span>        [<span class="branchCov" title="Branch 0 was taken 228623 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     228623 :       if (TREE_CODE (op-&gt;op0) == SSA_NAME)</span></a>
<a name="1417"><span class="lineNum">    1417 </span>                :<span class="lineCov">     228623 :         op-&gt;op0 = SSA_VAL (op-&gt;op0);</span></a>
<a name="1418"><span class="lineNum">    1418 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 228623 times"> + </span>]:<span class="lineCov">     228623 :       if (TREE_CODE (op-&gt;op0) != SSA_NAME)</span></a>
<a name="1419"><span class="lineNum">    1419 </span>                :<span class="lineNoCov">          0 :         op-&gt;opcode = TREE_CODE (op-&gt;op0);</span></a>
<a name="1420"><span class="lineNum">    1420 </span>                :            : </a>
<a name="1421"><span class="lineNum">    1421 </span>                :<span class="lineCov">     228623 :       changed = true;</span></a>
<a name="1422"><span class="lineNum">    1422 </span>                :            :     }</a>
<a name="1423"><span class="lineNum">    1423 </span>                :            :   /* Tail-recurse.  */</a>
<a name="1424"><span class="lineNum">    1424 </span>        [<span class="branchCov" title="Branch 0 was taken 228623 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     228623 :   while (TREE_CODE (op-&gt;op0) == SSA_NAME);</span></a>
<a name="1425"><span class="lineNum">    1425 </span>                :            : </a>
<a name="1426"><span class="lineNum">    1426 </span>                :            :   /* Fold a remaining *&amp;.  */</a>
<a name="1427"><span class="lineNum">    1427 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :   if (TREE_CODE (op-&gt;op0) == ADDR_EXPR)</span></a>
<a name="1428"><span class="lineNum">    1428 </span>                :<span class="lineNoCov">          0 :     vn_reference_fold_indirect (ops, i_p);</span></a>
<a name="1429"><span class="lineNum">    1429 </span>                :            : </a>
<a name="1430"><span class="lineNum">    1430 </span>                :<span class="lineNoCov">          0 :   return changed;</span></a>
<a name="1431"><span class="lineNum">    1431 </span>                :            : }</a>
<a name="1432"><span class="lineNum">    1432 </span>                :            : </a>
<a name="1433"><span class="lineNum">    1433 </span>                :            : /* Optimize the reference REF to a constant if possible or return</a>
<a name="1434"><span class="lineNum">    1434 </span>                :            :    NULL_TREE if not.  */</a>
<a name="1435"><span class="lineNum">    1435 </span>                :            : </a>
<a name="1436"><span class="lineNum">    1436 </span>                :            : tree</a>
<a name="1437"><span class="lineNum">    1437 </span>                :<span class="lineCov">    2863900 : fully_constant_vn_reference_p (vn_reference_t ref)</span></a>
<a name="1438"><span class="lineNum">    1438 </span>                :            : {</a>
<a name="1439"><span class="lineNum">    1439 </span>                :<span class="lineCov">    2863900 :   vec&lt;vn_reference_op_s&gt; operands = ref-&gt;operands;</span></a>
<a name="1440"><span class="lineNum">    1440 </span>                :            :   vn_reference_op_t op;</a>
<a name="1441"><span class="lineNum">    1441 </span>                :            : </a>
<a name="1442"><span class="lineNum">    1442 </span>                :            :   /* Try to simplify the translated expression if it is</a>
<a name="1443"><span class="lineNum">    1443 </span>                :            :      a call to a builtin function with at most two arguments.  */</a>
<a name="1444"><span class="lineNum">    1444 </span>                :<span class="lineCov">    2863900 :   op = &amp;operands[0];</span></a>
<a name="1445"><span class="lineNum">    1445 </span>                :<span class="lineCov">    5727790 :   if (op-&gt;opcode == CALL_EXPR</span></a>
<a name="1446"><span class="lineNum">    1446 </span>        [<span class="branchCov" title="Branch 0 was taken 3487 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       3487 :       &amp;&amp; TREE_CODE (op-&gt;op0) == ADDR_EXPR</span></a>
<a name="1447"><span class="lineNum">    1447 </span>        [<span class="branchCov" title="Branch 0 was taken 3487 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       3487 :       &amp;&amp; TREE_CODE (TREE_OPERAND (op-&gt;op0, 0)) == FUNCTION_DECL</span></a>
<a name="1448"><span class="lineNum">    1448 </span>        [<span class="branchCov" title="Branch 0 was taken 1234 times"> + </span><span class="branchCov" title="Branch 1 was taken 2253 times"> + </span>]:<span class="lineCov">       3487 :       &amp;&amp; fndecl_built_in_p (TREE_OPERAND (op-&gt;op0, 0))</span></a>
<a name="1449"><span class="lineNum">    1449 </span>        [<span class="branchCov" title="Branch 0 was taken 1244 times"> + </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineCov">       1234 :       &amp;&amp; operands.length () &gt;= 2</span></a>
<a name="1450"><span class="lineNum">    1450 </span>  [<span class="branchCov" title="Branch 0 was taken 3487 times"> + </span><span class="branchCov" title="Branch 1 was taken 2860410 times"> + </span><span class="branchCov" title="Branch 2 was taken 1103 times"> + </span><span class="branchCov" title="Branch 3 was taken 131 times"> + </span> :<span class="lineCov">    2867380 :       &amp;&amp; operands.length () &lt;= 3)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1103 times"> + </span><span class="branchCov" title="Branch 5 was taken 2862780 times"> + </span>]
<a name="1451"><span class="lineNum">    1451 </span>                :            :     {</a>
<a name="1452"><span class="lineNum">    1452 </span>                :<span class="lineCov">       1103 :       vn_reference_op_t arg0, arg1 = NULL;</span></a>
<a name="1453"><span class="lineNum">    1453 </span>                :<span class="lineCov">       1103 :       bool anyconst = false;</span></a>
<a name="1454"><span class="lineNum">    1454 </span>                :<span class="lineCov">       1103 :       arg0 = &amp;operands[1];</span></a>
<a name="1455"><span class="lineNum">    1455 </span>        [<span class="branchCov" title="Branch 0 was taken 212 times"> + </span><span class="branchCov" title="Branch 1 was taken 891 times"> + </span>]:<span class="lineCov">       1103 :       if (operands.length () &gt; 2)</span></a>
<a name="1456"><span class="lineNum">    1456 </span>                :<span class="lineCov">        212 :         arg1 = &amp;operands[2];</span></a>
<a name="1457"><span class="lineNum">    1457 </span>                :<span class="lineCov">       2206 :       if (TREE_CODE_CLASS (arg0-&gt;opcode) == tcc_constant</span></a>
<a name="1458"><span class="lineNum">    1458 </span>  [<span class="branchCov" title="Branch 0 was taken 479 times"> + </span><span class="branchCov" title="Branch 1 was taken 624 times"> + </span><span class="branchCov" title="Branch 2 was taken 17 times"> + </span><span class="branchCov" title="Branch 3 was taken 462 times"> + </span> :<span class="lineCov">       1120 :           || (arg0-&gt;opcode == ADDR_EXPR</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 641 times"> + </span><span class="branchCov" title="Branch 5 was taken 462 times"> + </span>]
<a name="1459"><span class="lineNum">    1459 </span>        [<span class="branchCov" title="Branch 0 was taken 17 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">         17 :               &amp;&amp; is_gimple_min_invariant (arg0-&gt;op0)))</span></a>
<a name="1460"><span class="lineNum">    1460 </span>                :<span class="lineCov">        641 :         anyconst = true;</span></a>
<a name="1461"><span class="lineNum">    1461 </span>                :<span class="lineCov">       1103 :       if (arg1</span></a>
<a name="1462"><span class="lineNum">    1462 </span>  [<span class="branchCov" title="Branch 0 was taken 212 times"> + </span><span class="branchCov" title="Branch 1 was taken 891 times"> + </span><span class="branchCov" title="Branch 2 was taken 172 times"> + </span><span class="branchCov" title="Branch 3 was taken 40 times"> + </span> :<span class="lineCov">       1275 :           &amp;&amp; (TREE_CODE_CLASS (arg1-&gt;opcode) == tcc_constant</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 73 times"> + </span><span class="branchCov" title="Branch 5 was taken 1030 times"> + </span>]
<a name="1463"><span class="lineNum">    1463 </span>        [<span class="branchCov" title="Branch 0 was taken 33 times"> + </span><span class="branchCov" title="Branch 1 was taken 139 times"> + </span>]:<span class="lineCov">        172 :               || (arg1-&gt;opcode == ADDR_EXPR</span></a>
<a name="1464"><span class="lineNum">    1464 </span>        [<span class="branchCov" title="Branch 0 was taken 33 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">         33 :                   &amp;&amp; is_gimple_min_invariant (arg1-&gt;op0))))</span></a>
<a name="1465"><span class="lineNum">    1465 </span>                :<span class="lineCov">         73 :         anyconst = true;</span></a>
<a name="1466"><span class="lineNum">    1466 </span>        [<span class="branchCov" title="Branch 0 was taken 714 times"> + </span><span class="branchCov" title="Branch 1 was taken 389 times"> + </span>]:<span class="lineCov">       1103 :       if (anyconst)</span></a>
<a name="1467"><span class="lineNum">    1467 </span>                :            :         {</a>
<a name="1468"><span class="lineNum">    1468 </span>  [<span class="branchCov" title="Branch 0 was taken 76 times"> + </span><span class="branchCov" title="Branch 1 was taken 638 times"> + </span><span class="branchCov" title="Branch 2 was taken 76 times"> + </span><span class="branchCov" title="Branch 3 was taken 638 times"> + </span>]:<span class="lineCov">        714 :           tree folded = build_call_expr (TREE_OPERAND (op-&gt;op0, 0),</span></a>
<a name="1469"><span class="lineNum">    1469 </span>                :            :                                          arg1 ? 2 : 1,</a>
<a name="1470"><span class="lineNum">    1470 </span>                :            :                                          arg0-&gt;op0,</a>
<a name="1471"><span class="lineNum">    1471 </span>                :            :                                          arg1 ? arg1-&gt;op0 : NULL);</a>
<a name="1472"><span class="lineNum">    1472 </span>        [<span class="branchCov" title="Branch 0 was taken 714 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">        714 :           if (folded</span></a>
<a name="1473"><span class="lineNum">    1473 </span>        [<span class="branchCov" title="Branch 0 was taken 18 times"> + </span><span class="branchCov" title="Branch 1 was taken 696 times"> + </span>]:<span class="lineCov">        714 :               &amp;&amp; TREE_CODE (folded) == NOP_EXPR)</span></a>
<a name="1474"><span class="lineNum">    1474 </span>                :<span class="lineCov">         18 :             folded = TREE_OPERAND (folded, 0);</span></a>
<a name="1475"><span class="lineNum">    1475 </span>                :<span class="lineCov">        714 :           if (folded</span></a>
<a name="1476"><span class="lineNum">    1476 </span>  [<span class="branchCov" title="Branch 0 was taken 714 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 18 times"> + </span><span class="branchCov" title="Branch 3 was taken 696 times"> + </span> :<span class="lineCov">        714 :               &amp;&amp; is_gimple_min_invariant (folded))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 18 times"> + </span><span class="branchCov" title="Branch 5 was taken 696 times"> + </span>]
<a name="1477"><span class="lineNum">    1477 </span>                :<span class="lineCov">         18 :             return folded;</span></a>
<a name="1478"><span class="lineNum">    1478 </span>                :            :         }</a>
<a name="1479"><span class="lineNum">    1479 </span>                :            :     }</a>
<a name="1480"><span class="lineNum">    1480 </span>                :            : </a>
<a name="1481"><span class="lineNum">    1481 </span>                :            :   /* Simplify reads from constants or constant initializers.  */</a>
<a name="1482"><span class="lineNum">    1482 </span>                :<span class="lineCov">    2862780 :   else if (BITS_PER_UNIT == 8</span></a>
<a name="1483"><span class="lineNum">    1483 </span>                :<span class="lineCov">    2862780 :            &amp;&amp; COMPLETE_TYPE_P (ref-&gt;type)</span></a>
<a name="1484"><span class="lineNum">    1484 </span>  [<span class="branchCov" title="Branch 0 was taken 2862780 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 2828310 times"> + </span><span class="branchCov" title="Branch 3 was taken 34473 times"> + </span> :<span class="lineCov">    2862780 :            &amp;&amp; is_gimple_reg_type (ref-&gt;type))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 2828310 times"> + </span><span class="branchCov" title="Branch 5 was taken 34473 times"> + </span>]
<a name="1485"><span class="lineNum">    1485 </span>                :            :     {</a>
<a name="1486"><span class="lineNum">    1486 </span>                :<span class="lineCov">    2828310 :       poly_int64 off = 0;</span></a>
<a name="1487"><span class="lineNum">    1487 </span>                :            :       HOST_WIDE_INT size;</a>
<a name="1488"><span class="lineNum">    1488 </span>  [<span class="branchCov" title="Branch 0 was taken 2792190 times"> + </span><span class="branchCov" title="Branch 1 was taken 36122 times"> + </span><span class="branchCov" title="Branch 2 was taken 2708220 times"> + </span><span class="branchCov" title="Branch 3 was taken 83971 times"> + </span> :<span class="lineCov">    2828310 :       if (INTEGRAL_TYPE_P (ref-&gt;type))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1877100 times"> + </span><span class="branchCov" title="Branch 5 was taken 831117 times"> + </span>]
<a name="1489"><span class="lineNum">    1489 </span>                :<span class="lineCov">    1997200 :         size = TYPE_PRECISION (ref-&gt;type);</span></a>
<a name="1490"><span class="lineNum">    1490 </span>        [<span class="branchCov" title="Branch 0 was taken 831117 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     831117 :       else if (tree_fits_shwi_p (TYPE_SIZE (ref-&gt;type)))</span></a>
<a name="1491"><span class="lineNum">    1491 </span>                :<span class="lineCov">     831117 :         size = tree_to_shwi (TYPE_SIZE (ref-&gt;type));</span></a>
<a name="1492"><span class="lineNum">    1492 </span>                :            :       else</a>
<a name="1493"><span class="lineNum">    1493 </span>                :<span class="lineCov">     555101 :         return NULL_TREE;</span></a>
<a name="1494"><span class="lineNum">    1494 </span>        [<span class="branchCov" title="Branch 0 was taken 2614770 times"> + </span><span class="branchCov" title="Branch 1 was taken 213545 times"> + </span>]:<span class="lineCov">    2828310 :       if (size % BITS_PER_UNIT != 0</span></a>
<a name="1495"><span class="lineNum">    1495 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 2614770 times"> + </span>]:<span class="lineCov">    2614770 :           || size &gt; MAX_BITSIZE_MODE_ANY_MODE)</span></a>
<a name="1496"><span class="lineNum">    1496 </span>                :<span class="lineCov">     213545 :         return NULL_TREE;</span></a>
<a name="1497"><span class="lineNum">    1497 </span>                :<span class="lineCov">    2614770 :       size /= BITS_PER_UNIT;</span></a>
<a name="1498"><span class="lineNum">    1498 </span>                :            :       unsigned i;</a>
<a name="1499"><span class="lineNum">    1499 </span>        [<span class="branchCov" title="Branch 0 was taken 4062750 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">    4062750 :       for (i = 0; i &lt; operands.length (); ++i)</span></a>
<a name="1500"><span class="lineNum">    1500 </span>                :            :         {</a>
<a name="1501"><span class="lineNum">    1501 </span>        [<span class="branchCov" title="Branch 0 was taken 38 times"> + </span><span class="branchCov" title="Branch 1 was taken 4062710 times"> + </span>]:<span class="lineCov">    4062750 :           if (TREE_CODE_CLASS (operands[i].opcode) == tcc_constant)</span></a>
<a name="1502"><span class="lineNum">    1502 </span>                :            :             {</a>
<a name="1503"><span class="lineNum">    1503 </span>                :<span class="lineCov">         38 :               ++i;</span></a>
<a name="1504"><span class="lineNum">    1504 </span>                :<span class="lineCov">         38 :               break;</span></a>
<a name="1505"><span class="lineNum">    1505 </span>                :            :             }</a>
<a name="1506"><span class="lineNum">    1506 </span>        [<span class="branchCov" title="Branch 0 was taken 339902 times"> + </span><span class="branchCov" title="Branch 1 was taken 3722810 times"> + </span>]:<span class="lineCov">    4062710 :           if (known_eq (operands[i].off, -1))</span></a>
<a name="1507"><span class="lineNum">    1507 </span>                :<span class="lineCov">     339902 :             return NULL_TREE;</span></a>
<a name="1508"><span class="lineNum">    1508 </span>                :<span class="lineCov">    3722810 :           off += operands[i].off;</span></a>
<a name="1509"><span class="lineNum">    1509 </span>        [<span class="branchCov" title="Branch 0 was taken 2274830 times"> + </span><span class="branchCov" title="Branch 1 was taken 1447980 times"> + </span>]:<span class="lineCov">    3722810 :           if (operands[i].opcode == MEM_REF)</span></a>
<a name="1510"><span class="lineNum">    1510 </span>                :            :             {</a>
<a name="1511"><span class="lineNum">    1511 </span>                :<span class="lineCov">    2274830 :               ++i;</span></a>
<a name="1512"><span class="lineNum">    1512 </span>                :<span class="lineCov">    2274830 :               break;</span></a>
<a name="1513"><span class="lineNum">    1513 </span>                :            :             }</a>
<a name="1514"><span class="lineNum">    1514 </span>                :            :         }</a>
<a name="1515"><span class="lineNum">    1515 </span>                :<span class="lineCov">    2274860 :       vn_reference_op_t base = &amp;operands[--i];</span></a>
<a name="1516"><span class="lineNum">    1516 </span>                :<span class="lineCov">    2274860 :       tree ctor = error_mark_node;</span></a>
<a name="1517"><span class="lineNum">    1517 </span>                :<span class="lineCov">    2274860 :       tree decl = NULL_TREE;</span></a>
<a name="1518"><span class="lineNum">    1518 </span>        [<span class="branchCov" title="Branch 0 was taken 38 times"> + </span><span class="branchCov" title="Branch 1 was taken 2274830 times"> + </span>]:<span class="lineCov">    2274860 :       if (TREE_CODE_CLASS (base-&gt;opcode) == tcc_constant)</span></a>
<a name="1519"><span class="lineNum">    1519 </span>                :<span class="lineCov">         38 :         ctor = base-&gt;op0;</span></a>
<a name="1520"><span class="lineNum">    1520 </span>        [<span class="branchCov" title="Branch 0 was taken 2274830 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">    2274830 :       else if (base-&gt;opcode == MEM_REF</span></a>
<a name="1521"><span class="lineNum">    1521 </span>        [<span class="branchCov" title="Branch 0 was taken 982596 times"> + </span><span class="branchCov" title="Branch 1 was taken 1292230 times"> + </span>]:<span class="lineCov">    2274830 :                &amp;&amp; base[1].opcode == ADDR_EXPR</span></a>
<a name="1522"><span class="lineNum">    1522 </span>        [<span class="branchCov" title="Branch 0 was taken 30837 times"> + </span><span class="branchCov" title="Branch 1 was taken 951759 times"> + </span>]:<span class="lineCov">     982596 :                &amp;&amp; (TREE_CODE (TREE_OPERAND (base[1].op0, 0)) == VAR_DECL</span></a>
<a name="1523"><span class="lineNum">    1523 </span>        [<span class="branchCov" title="Branch 0 was taken 30837 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      30837 :                    || TREE_CODE (TREE_OPERAND (base[1].op0, 0)) == CONST_DECL</span></a>
<a name="1524"><span class="lineNum">    1524 </span>        [<span class="branchCov" title="Branch 0 was taken 800 times"> + </span><span class="branchCov" title="Branch 1 was taken 30037 times"> + </span>]:<span class="lineCov">      30837 :                    || TREE_CODE (TREE_OPERAND (base[1].op0, 0)) == STRING_CST))</span></a>
<a name="1525"><span class="lineNum">    1525 </span>                :            :         {</a>
<a name="1526"><span class="lineNum">    1526 </span>                :<span class="lineCov">     952559 :           decl = TREE_OPERAND (base[1].op0, 0);</span></a>
<a name="1527"><span class="lineNum">    1527 </span>        [<span class="branchCov" title="Branch 0 was taken 800 times"> + </span><span class="branchCov" title="Branch 1 was taken 951759 times"> + </span>]:<span class="lineCov">     952559 :           if (TREE_CODE (decl) == STRING_CST)</span></a>
<a name="1528"><span class="lineNum">    1528 </span>                :<span class="lineCov">        800 :             ctor = decl;</span></a>
<a name="1529"><span class="lineNum">    1529 </span>                :            :           else</a>
<a name="1530"><span class="lineNum">    1530 </span>                :<span class="lineCov">     951759 :             ctor = ctor_for_folding (decl);</span></a>
<a name="1531"><span class="lineNum">    1531 </span>                :            :         }</a>
<a name="1532"><span class="lineNum">    1532 </span>        [<span class="branchCov" title="Branch 0 was taken 128 times"> + </span><span class="branchCov" title="Branch 1 was taken 2274740 times"> + </span>]:<span class="lineCov">    2274860 :       if (ctor == NULL_TREE)</span></a>
<a name="1533"><span class="lineNum">    1533 </span>                :<span class="lineCov">        128 :         return build_zero_cst (ref-&gt;type);</span></a>
<a name="1534"><span class="lineNum">    1534 </span>        [<span class="branchCov" title="Branch 0 was taken 1935 times"> + </span><span class="branchCov" title="Branch 1 was taken 2272800 times"> + </span>]:<span class="lineCov">    2274740 :       else if (ctor != error_mark_node)</span></a>
<a name="1535"><span class="lineNum">    1535 </span>                :            :         {</a>
<a name="1536"><span class="lineNum">    1536 </span>                :            :           HOST_WIDE_INT const_off;</a>
<a name="1537"><span class="lineNum">    1537 </span>        [<span class="branchCov" title="Branch 0 was taken 1897 times"> + </span><span class="branchCov" title="Branch 1 was taken 38 times"> + </span>]:<span class="lineCov">       1935 :           if (decl)</span></a>
<a name="1538"><span class="lineNum">    1538 </span>                :            :             {</a>
<a name="1539"><span class="lineNum">    1539 </span>                :<span class="lineCov">       1897 :               tree res = fold_ctor_reference (ref-&gt;type, ctor,</span></a>
<a name="1540"><span class="lineNum">    1540 </span>                :<span class="lineCov">       1897 :                                               off * BITS_PER_UNIT,</span></a>
<a name="1541"><span class="lineNum">    1541 </span>                :<span class="lineCov">       1897 :                                               size * BITS_PER_UNIT, decl);</span></a>
<a name="1542"><span class="lineNum">    1542 </span>        [<span class="branchCov" title="Branch 0 was taken 1511 times"> + </span><span class="branchCov" title="Branch 1 was taken 386 times"> + </span>]:<span class="lineCov">       1897 :               if (res)</span></a>
<a name="1543"><span class="lineNum">    1543 </span>                :            :                 {</a>
<a name="1544"><span class="lineNum">    1544 </span>                :<span class="lineCov">       1511 :                   STRIP_USELESS_TYPE_CONVERSION (res);</span></a>
<a name="1545"><span class="lineNum">    1545 </span>        [<span class="branchCov" title="Branch 0 was taken 1488 times"> + </span><span class="branchCov" title="Branch 1 was taken 23 times"> + </span>]:<span class="lineCov">       1511 :                   if (is_gimple_min_invariant (res))</span></a>
<a name="1546"><span class="lineNum">    1546 </span>                :<span class="lineCov">       1526 :                     return res;</span></a>
<a name="1547"><span class="lineNum">    1547 </span>                :            :                 }</a>
<a name="1548"><span class="lineNum">    1548 </span>                :            :             }</a>
<a name="1549"><span class="lineNum">    1549 </span>        [<span class="branchCov" title="Branch 0 was taken 38 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">         38 :           else if (off.is_constant (&amp;const_off))</span></a>
<a name="1550"><span class="lineNum">    1550 </span>                :            :             {</a>
<a name="1551"><span class="lineNum">    1551 </span>                :            :               unsigned char buf[MAX_BITSIZE_MODE_ANY_MODE / BITS_PER_UNIT];</a>
<a name="1552"><span class="lineNum">    1552 </span>                :<span class="lineCov">         38 :               int len = native_encode_expr (ctor, buf, size, const_off);</span></a>
<a name="1553"><span class="lineNum">    1553 </span>        [<span class="branchCov" title="Branch 0 was taken 38 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">         38 :               if (len &gt; 0)</span></a>
<a name="1554"><span class="lineNum">    1554 </span>                :<span class="lineCov">         38 :                 return native_interpret_expr (ref-&gt;type, buf, len);</span></a>
<a name="1555"><span class="lineNum">    1555 </span>                :            :             }</a>
<a name="1556"><span class="lineNum">    1556 </span>                :            :         }</a>
<a name="1557"><span class="lineNum">    1557 </span>                :            :     }</a>
<a name="1558"><span class="lineNum">    1558 </span>                :            : </a>
<a name="1559"><span class="lineNum">    1559 </span>                :<span class="lineCov">    2308770 :   return NULL_TREE;</span></a>
<a name="1560"><span class="lineNum">    1560 </span>                :            : }</a>
<a name="1561"><span class="lineNum">    1561 </span>                :            : </a>
<a name="1562"><span class="lineNum">    1562 </span>                :            : /* Return true if OPS contain a storage order barrier.  */</a>
<a name="1563"><span class="lineNum">    1563 </span>                :            : </a>
<a name="1564"><span class="lineNum">    1564 </span>                :            : static bool</a>
<a name="1565"><span class="lineNum">    1565 </span>                :<span class="lineCov">     866721 : contains_storage_order_barrier_p (vec&lt;vn_reference_op_s&gt; ops)</span></a>
<a name="1566"><span class="lineNum">    1566 </span>                :            : {</a>
<a name="1567"><span class="lineNum">    1567 </span>                :            :   vn_reference_op_t op;</a>
<a name="1568"><span class="lineNum">    1568 </span>                :            :   unsigned i;</a>
<a name="1569"><span class="lineNum">    1569 </span>                :            : </a>
<a name="1570"><span class="lineNum">    1570 </span>        [<span class="branchCov" title="Branch 0 was taken 2392020 times"> + </span><span class="branchCov" title="Branch 1 was taken 866721 times"> + </span>]:<span class="lineCov">    3258740 :   FOR_EACH_VEC_ELT (ops, i, op)</span></a>
<a name="1571"><span class="lineNum">    1571 </span>  [<span class="branchCov" title="Branch 0 was taken 2206 times"> + </span><span class="branchCov" title="Branch 1 was taken 2389820 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 2206 times"> + </span>]:<span class="lineCov">    2392020 :     if (op-&gt;opcode == VIEW_CONVERT_EXPR &amp;&amp; op-&gt;reverse)</span></a>
<a name="1572"><span class="lineNum">    1572 </span>                :<span class="lineNoCov">          0 :       return true;</span></a>
<a name="1573"><span class="lineNum">    1573 </span>                :            : </a>
<a name="1574"><span class="lineNum">    1574 </span>                :<span class="lineCov">     866721 :   return false;</span></a>
<a name="1575"><span class="lineNum">    1575 </span>                :            : }</a>
<a name="1576"><span class="lineNum">    1576 </span>                :            : </a>
<a name="1577"><span class="lineNum">    1577 </span>                :            : /* Transform any SSA_NAME's in a vector of vn_reference_op_s</a>
<a name="1578"><span class="lineNum">    1578 </span>                :            :    structures into their value numbers.  This is done in-place, and</a>
<a name="1579"><span class="lineNum">    1579 </span>                :            :    the vector passed in is returned.  *VALUEIZED_ANYTHING will specify</a>
<a name="1580"><span class="lineNum">    1580 </span>                :            :    whether any operands were valueized.  */</a>
<a name="1581"><span class="lineNum">    1581 </span>                :            : </a>
<a name="1582"><span class="lineNum">    1582 </span>                :            : static void</a>
<a name="1583"><span class="lineNum">    1583 </span>                :<span class="lineCov">    5430880 : valueize_refs_1 (vec&lt;vn_reference_op_s&gt; *orig, bool *valueized_anything,</span></a>
<a name="1584"><span class="lineNum">    1584 </span>                :            :                  bool with_avail = false)</a>
<a name="1585"><span class="lineNum">    1585 </span>                :            : {</a>
<a name="1586"><span class="lineNum">    1586 </span>                :            :   vn_reference_op_t vro;</a>
<a name="1587"><span class="lineNum">    1587 </span>                :            :   unsigned int i;</a>
<a name="1588"><span class="lineNum">    1588 </span>                :            : </a>
<a name="1589"><span class="lineNum">    1589 </span>                :<span class="lineCov">    5430880 :   *valueized_anything = false;</span></a>
<a name="1590"><span class="lineNum">    1590 </span>                :            : </a>
<a name="1591"><span class="lineNum">    1591 </span>        [<span class="branchCov" title="Branch 0 was taken 15346700 times"> + </span><span class="branchCov" title="Branch 1 was taken 5430880 times"> + </span>]:<span class="lineCov">   20777500 :   FOR_EACH_VEC_ELT (*orig, i, vro)</span></a>
<a name="1592"><span class="lineNum">    1592 </span>                :            :     {</a>
<a name="1593"><span class="lineNum">    1593 </span>        [<span class="branchCov" title="Branch 0 was taken 12347500 times"> + </span><span class="branchCov" title="Branch 1 was taken 2999180 times"> + </span>]:<span class="lineCov">   15346700 :       if (vro-&gt;opcode == SSA_NAME</span></a>
<a name="1594"><span class="lineNum">    1594 </span>  [<span class="branchCov" title="Branch 0 was taken 12124700 times"> + </span><span class="branchCov" title="Branch 1 was taken 222815 times"> + </span><span class="branchCov" title="Branch 2 was taken 509266 times"> + </span><span class="branchCov" title="Branch 3 was taken 11615400 times"> + </span>]:<span class="lineCov">   12347500 :           || (vro-&gt;op0 &amp;&amp; TREE_CODE (vro-&gt;op0) == SSA_NAME))</span></a>
<a name="1595"><span class="lineNum">    1595 </span>                :            :         {</a>
<a name="1596"><span class="lineNum">    1596 </span>        [<span class="branchCov" title="Branch 0 was taken 306884 times"> + </span><span class="branchCov" title="Branch 1 was taken 3201560 times"> + </span>]:<span class="lineCov">    3508450 :           tree tem = with_avail ? vn_valueize (vro-&gt;op0) : SSA_VAL (vro-&gt;op0);</span></a>
<a name="1597"><span class="lineNum">    1597 </span>        [<span class="branchCov" title="Branch 0 was taken 395922 times"> + </span><span class="branchCov" title="Branch 1 was taken 3112520 times"> + </span>]:<span class="lineCov">    3508450 :           if (tem != vro-&gt;op0)</span></a>
<a name="1598"><span class="lineNum">    1598 </span>                :            :             {</a>
<a name="1599"><span class="lineNum">    1599 </span>                :<span class="lineCov">     395922 :               *valueized_anything = true;</span></a>
<a name="1600"><span class="lineNum">    1600 </span>                :<span class="lineCov">     395922 :               vro-&gt;op0 = tem;</span></a>
<a name="1601"><span class="lineNum">    1601 </span>                :            :             }</a>
<a name="1602"><span class="lineNum">    1602 </span>                :            :           /* If it transforms from an SSA_NAME to a constant, update</a>
<a name="1603"><span class="lineNum">    1603 </span>                :            :              the opcode.  */</a>
<a name="1604"><span class="lineNum">    1604 </span>  [<span class="branchCov" title="Branch 0 was taken 57091 times"> + </span><span class="branchCov" title="Branch 1 was taken 3451360 times"> + </span><span class="branchCov" title="Branch 2 was taken 23002 times"> + </span><span class="branchCov" title="Branch 3 was taken 34089 times"> + </span>]:<span class="lineCov">    3508450 :           if (TREE_CODE (vro-&gt;op0) != SSA_NAME &amp;&amp; vro-&gt;opcode == SSA_NAME)</span></a>
<a name="1605"><span class="lineNum">    1605 </span>                :<span class="lineCov">      23002 :             vro-&gt;opcode = TREE_CODE (vro-&gt;op0);</span></a>
<a name="1606"><span class="lineNum">    1606 </span>                :            :         }</a>
<a name="1607"><span class="lineNum">    1607 </span>  [<span class="branchCov" title="Branch 0 was taken 567025 times"> + </span><span class="branchCov" title="Branch 1 was taken 14779600 times"> + </span><span class="branchCov" title="Branch 2 was taken 24 times"> + </span><span class="branchCov" title="Branch 3 was taken 567001 times"> + </span>]:<span class="lineCov">   15346700 :       if (vro-&gt;op1 &amp;&amp; TREE_CODE (vro-&gt;op1) == SSA_NAME)</span></a>
<a name="1608"><span class="lineNum">    1608 </span>                :            :         {</a>
<a name="1609"><span class="lineNum">    1609 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 24 times"> + </span>]:<span class="lineCov">         24 :           tree tem = with_avail ? vn_valueize (vro-&gt;op1) : SSA_VAL (vro-&gt;op1);</span></a>
<a name="1610"><span class="lineNum">    1610 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 24 times"> + </span>]:<span class="lineCov">         24 :           if (tem != vro-&gt;op1)</span></a>
<a name="1611"><span class="lineNum">    1611 </span>                :            :             {</a>
<a name="1612"><span class="lineNum">    1612 </span>                :<span class="lineNoCov">          0 :               *valueized_anything = true;</span></a>
<a name="1613"><span class="lineNum">    1613 </span>                :<span class="lineNoCov">          0 :               vro-&gt;op1 = tem;</span></a>
<a name="1614"><span class="lineNum">    1614 </span>                :            :             }</a>
<a name="1615"><span class="lineNum">    1615 </span>                :            :         }</a>
<a name="1616"><span class="lineNum">    1616 </span>  [<span class="branchCov" title="Branch 0 was taken 540816 times"> + </span><span class="branchCov" title="Branch 1 was taken 14805800 times"> + </span><span class="branchCov" title="Branch 2 was taken 187 times"> + </span><span class="branchCov" title="Branch 3 was taken 540629 times"> + </span>]:<span class="lineCov">   15346700 :       if (vro-&gt;op2 &amp;&amp; TREE_CODE (vro-&gt;op2) == SSA_NAME)</span></a>
<a name="1617"><span class="lineNum">    1617 </span>                :            :         {</a>
<a name="1618"><span class="lineNum">    1618 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 187 times"> + </span>]:<span class="lineCov">        187 :           tree tem = with_avail ? vn_valueize (vro-&gt;op2) : SSA_VAL (vro-&gt;op2);</span></a>
<a name="1619"><span class="lineNum">    1619 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 187 times"> + </span>]:<span class="lineCov">        187 :           if (tem != vro-&gt;op2)</span></a>
<a name="1620"><span class="lineNum">    1620 </span>                :            :             {</a>
<a name="1621"><span class="lineNum">    1621 </span>                :<span class="lineNoCov">          0 :               *valueized_anything = true;</span></a>
<a name="1622"><span class="lineNum">    1622 </span>                :<span class="lineNoCov">          0 :               vro-&gt;op2 = tem;</span></a>
<a name="1623"><span class="lineNum">    1623 </span>                :            :             }</a>
<a name="1624"><span class="lineNum">    1624 </span>                :            :         }</a>
<a name="1625"><span class="lineNum">    1625 </span>                :            :       /* If it transforms from an SSA_NAME to an address, fold with</a>
<a name="1626"><span class="lineNum">    1626 </span>                :            :          a preceding indirect reference.  */</a>
<a name="1627"><span class="lineNum">    1627 </span>                :<span class="lineCov">   30693300 :       if (i &gt; 0</span></a>
<a name="1628"><span class="lineNum">    1628 </span>        [<span class="branchCov" title="Branch 0 was taken 9877210 times"> + </span><span class="branchCov" title="Branch 1 was taken 38576 times"> + </span>]:<span class="lineCov">    9915780 :           &amp;&amp; vro-&gt;op0</span></a>
<a name="1629"><span class="lineNum">    1629 </span>        [<span class="branchCov" title="Branch 0 was taken 2541680 times"> + </span><span class="branchCov" title="Branch 1 was taken 7335520 times"> + </span>]:<span class="lineCov">    9877210 :           &amp;&amp; TREE_CODE (vro-&gt;op0) == ADDR_EXPR</span></a>
<a name="1630"><span class="lineNum">    1630 </span>  [<span class="branchCov" title="Branch 0 was taken 9915780 times"> + </span><span class="branchCov" title="Branch 1 was taken 5430880 times"> + </span><span class="branchCov" title="Branch 2 was taken 2409140 times"> + </span><span class="branchCov" title="Branch 3 was taken 132544 times"> + </span> :<span class="lineCov">   25262400 :           &amp;&amp; (*orig)[i - 1].opcode == MEM_REF)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 2409140 times"> + </span><span class="branchCov" title="Branch 5 was taken 12937500 times"> + </span>]
<a name="1631"><span class="lineNum">    1631 </span>                :            :         {</a>
<a name="1632"><span class="lineNum">    1632 </span>        [<span class="branchCov" title="Branch 0 was taken 13058 times"> + </span><span class="branchCov" title="Branch 1 was taken 2396080 times"> + </span>]:<span class="lineCov">    2409140 :           if (vn_reference_fold_indirect (orig, &amp;i))</span></a>
<a name="1633"><span class="lineNum">    1633 </span>                :<span class="lineCov">      13058 :             *valueized_anything = true;</span></a>
<a name="1634"><span class="lineNum">    1634 </span>                :            :         }</a>
<a name="1635"><span class="lineNum">    1635 </span>                :<span class="lineCov">   25875000 :       else if (i &gt; 0</span></a>
<a name="1636"><span class="lineNum">    1636 </span>        [<span class="branchCov" title="Branch 0 was taken 2976180 times"> + </span><span class="branchCov" title="Branch 1 was taken 4530460 times"> + </span>]:<span class="lineCov">    7506640 :                &amp;&amp; vro-&gt;opcode == SSA_NAME</span></a>
<a name="1637"><span class="lineNum">    1637 </span>  [<span class="branchCov" title="Branch 0 was taken 7506640 times"> + </span><span class="branchCov" title="Branch 1 was taken 5430880 times"> + </span><span class="branchCov" title="Branch 2 was taken 2690170 times"> + </span><span class="branchCov" title="Branch 3 was taken 286005 times"> + </span> :<span class="lineCov">   20444200 :                &amp;&amp; (*orig)[i - 1].opcode == MEM_REF)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 2690170 times"> + </span><span class="branchCov" title="Branch 5 was taken 10247400 times"> + </span>]
<a name="1638"><span class="lineNum">    1638 </span>                :            :         {</a>
<a name="1639"><span class="lineNum">    1639 </span>        [<span class="branchCov" title="Branch 0 was taken 89154 times"> + </span><span class="branchCov" title="Branch 1 was taken 2601020 times"> + </span>]:<span class="lineCov">    2690170 :           if (vn_reference_maybe_forwprop_address (orig, &amp;i))</span></a>
<a name="1640"><span class="lineNum">    1640 </span>                :<span class="lineCov">      89154 :             *valueized_anything = true;</span></a>
<a name="1641"><span class="lineNum">    1641 </span>                :            :         }</a>
<a name="1642"><span class="lineNum">    1642 </span>                :            :       /* If it transforms a non-constant ARRAY_REF into a constant</a>
<a name="1643"><span class="lineNum">    1643 </span>                :            :          one, adjust the constant offset.  */</a>
<a name="1644"><span class="lineNum">    1644 </span>                :<span class="lineCov">   20494700 :       else if (vro-&gt;opcode == ARRAY_REF</span></a>
<a name="1645"><span class="lineNum">    1645 </span>        [<span class="branchCov" title="Branch 0 was taken 319333 times"> + </span><span class="branchCov" title="Branch 1 was taken 177397 times"> + </span>]:<span class="lineCov">     496730 :                &amp;&amp; known_eq (vro-&gt;off, -1)</span></a>
<a name="1646"><span class="lineNum">    1646 </span>        [<span class="branchCov" title="Branch 0 was taken 36114 times"> + </span><span class="branchCov" title="Branch 1 was taken 283219 times"> + </span>]:<span class="lineCov">     319333 :                &amp;&amp; poly_int_tree_p (vro-&gt;op0)</span></a>
<a name="1647"><span class="lineNum">    1647 </span>        [<span class="branchCov" title="Branch 0 was taken 36114 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      36114 :                &amp;&amp; poly_int_tree_p (vro-&gt;op1)</span></a>
<a name="1648"><span class="lineNum">    1648 </span>  [<span class="branchCov" title="Branch 0 was taken 496730 times"> + </span><span class="branchCov" title="Branch 1 was taken 9750620 times"> + </span><span class="branchCov" title="Branch 2 was taken 35939 times"> + </span><span class="branchCov" title="Branch 3 was taken 175 times"> + </span> :<span class="lineCov">   10744100 :                &amp;&amp; TREE_CODE (vro-&gt;op2) == INTEGER_CST)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 35939 times"> + </span><span class="branchCov" title="Branch 5 was taken 10211400 times"> + </span>]
<a name="1649"><span class="lineNum">    1649 </span>                :            :         {</a>
<a name="1650"><span class="lineNum">    1650 </span>                :<span class="lineCov">      35939 :           poly_offset_int off = ((wi::to_poly_offset (vro-&gt;op0)</span></a>
<a name="1651"><span class="lineNum">    1651 </span>                :<span class="lineCov">      71878 :                                   - wi::to_poly_offset (vro-&gt;op1))</span></a>
<a name="1652"><span class="lineNum">    1652 </span>                :<span class="lineCov">      35939 :                                  * wi::to_offset (vro-&gt;op2)</span></a>
<a name="1653"><span class="lineNum">    1653 </span>                :<span class="lineCov">      71878 :                                  * vn_ref_op_align_unit (vro));</span></a>
<a name="1654"><span class="lineNum">    1654 </span>                :<span class="lineCov">      35939 :           off.to_shwi (&amp;vro-&gt;off);</span></a>
<a name="1655"><span class="lineNum">    1655 </span>                :            :         }</a>
<a name="1656"><span class="lineNum">    1656 </span>                :            :     }</a>
<a name="1657"><span class="lineNum">    1657 </span>                :<span class="lineCov">    5430880 : }</span></a>
<a name="1658"><span class="lineNum">    1658 </span>                :            : </a>
<a name="1659"><span class="lineNum">    1659 </span>                :            : static void</a>
<a name="1660"><span class="lineNum">    1660 </span>                :<span class="lineCov">     369979 : valueize_refs (vec&lt;vn_reference_op_s&gt; *orig)</span></a>
<a name="1661"><span class="lineNum">    1661 </span>                :            : {</a>
<a name="1662"><span class="lineNum">    1662 </span>                :            :   bool tem;</a>
<a name="1663"><span class="lineNum">    1663 </span>                :<span class="lineCov">     369979 :   valueize_refs_1 (orig, &amp;tem);</span></a>
<a name="1664"><span class="lineNum">    1664 </span>                :<span class="lineCov">     369979 : }</span></a>
<a name="1665"><span class="lineNum">    1665 </span>                :            : </a>
<a name="1666"><span class="lineNum">    1666 </span>                :            : static vec&lt;vn_reference_op_s&gt; shared_lookup_references;</a>
<a name="1667"><span class="lineNum">    1667 </span>                :            : </a>
<a name="1668"><span class="lineNum">    1668 </span>                :            : /* Create a vector of vn_reference_op_s structures from REF, a</a>
<a name="1669"><span class="lineNum">    1669 </span>                :            :    REFERENCE_CLASS_P tree.  The vector is shared among all callers of</a>
<a name="1670"><span class="lineNum">    1670 </span>                :            :    this function.  *VALUEIZED_ANYTHING will specify whether any</a>
<a name="1671"><span class="lineNum">    1671 </span>                :            :    operands were valueized.  */</a>
<a name="1672"><span class="lineNum">    1672 </span>                :            : </a>
<a name="1673"><span class="lineNum">    1673 </span>                :            : static vec&lt;vn_reference_op_s&gt; </a>
<a name="1674"><span class="lineNum">    1674 </span>                :<span class="lineCov">    4345120 : valueize_shared_reference_ops_from_ref (tree ref, bool *valueized_anything)</span></a>
<a name="1675"><span class="lineNum">    1675 </span>                :            : {</a>
<a name="1676"><span class="lineNum">    1676 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 4345120 times"> + </span>]:<span class="lineCov">    4345120 :   if (!ref)</span></a>
<a name="1677"><span class="lineNum">    1677 </span>                :<span class="lineNoCov">          0 :     return vNULL;</span></a>
<a name="1678"><span class="lineNum">    1678 </span>                :<span class="lineCov">    4345120 :   shared_lookup_references.truncate (0);</span></a>
<a name="1679"><span class="lineNum">    1679 </span>                :<span class="lineCov">    4345120 :   copy_reference_ops_from_ref (ref, &amp;shared_lookup_references);</span></a>
<a name="1680"><span class="lineNum">    1680 </span>                :<span class="lineCov">    4345120 :   valueize_refs_1 (&amp;shared_lookup_references, valueized_anything);</span></a>
<a name="1681"><span class="lineNum">    1681 </span>                :<span class="lineCov">    4345120 :   return shared_lookup_references;</span></a>
<a name="1682"><span class="lineNum">    1682 </span>                :            : }</a>
<a name="1683"><span class="lineNum">    1683 </span>                :            : </a>
<a name="1684"><span class="lineNum">    1684 </span>                :            : /* Create a vector of vn_reference_op_s structures from CALL, a</a>
<a name="1685"><span class="lineNum">    1685 </span>                :            :    call statement.  The vector is shared among all callers of</a>
<a name="1686"><span class="lineNum">    1686 </span>                :            :    this function.  */</a>
<a name="1687"><span class="lineNum">    1687 </span>                :            : </a>
<a name="1688"><span class="lineNum">    1688 </span>                :            : static vec&lt;vn_reference_op_s&gt; </a>
<a name="1689"><span class="lineNum">    1689 </span>                :<span class="lineCov">     275001 : valueize_shared_reference_ops_from_call (gcall *call)</span></a>
<a name="1690"><span class="lineNum">    1690 </span>                :            : {</a>
<a name="1691"><span class="lineNum">    1691 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 275001 times"> + </span>]:<span class="lineCov">     275001 :   if (!call)</span></a>
<a name="1692"><span class="lineNum">    1692 </span>                :<span class="lineNoCov">          0 :     return vNULL;</span></a>
<a name="1693"><span class="lineNum">    1693 </span>                :<span class="lineCov">     275001 :   shared_lookup_references.truncate (0);</span></a>
<a name="1694"><span class="lineNum">    1694 </span>                :<span class="lineCov">     275001 :   copy_reference_ops_from_call (call, &amp;shared_lookup_references);</span></a>
<a name="1695"><span class="lineNum">    1695 </span>                :<span class="lineCov">     275001 :   valueize_refs (&amp;shared_lookup_references);</span></a>
<a name="1696"><span class="lineNum">    1696 </span>                :<span class="lineCov">     275001 :   return shared_lookup_references;</span></a>
<a name="1697"><span class="lineNum">    1697 </span>                :            : }</a>
<a name="1698"><span class="lineNum">    1698 </span>                :            : </a>
<a name="1699"><span class="lineNum">    1699 </span>                :            : /* Lookup a SCCVN reference operation VR in the current hash table.</a>
<a name="1700"><span class="lineNum">    1700 </span>                :            :    Returns the resulting value number if it exists in the hash table,</a>
<a name="1701"><span class="lineNum">    1701 </span>                :            :    NULL_TREE otherwise.  VNRESULT will be filled in with the actual</a>
<a name="1702"><span class="lineNum">    1702 </span>                :            :    vn_reference_t stored in the hashtable if something is found.  */</a>
<a name="1703"><span class="lineNum">    1703 </span>                :            : </a>
<a name="1704"><span class="lineNum">    1704 </span>                :            : static tree</a>
<a name="1705"><span class="lineNum">    1705 </span>                :<span class="lineCov">    1416270 : vn_reference_lookup_1 (vn_reference_t vr, vn_reference_t *vnresult)</span></a>
<a name="1706"><span class="lineNum">    1706 </span>                :            : {</a>
<a name="1707"><span class="lineNum">    1707 </span>                :            :   vn_reference_s **slot;</a>
<a name="1708"><span class="lineNum">    1708 </span>                :            :   hashval_t hash;</a>
<a name="1709"><span class="lineNum">    1709 </span>                :            : </a>
<a name="1710"><span class="lineNum">    1710 </span>                :<span class="lineCov">    1416270 :   hash = vr-&gt;hashcode;</span></a>
<a name="1711"><span class="lineNum">    1711 </span>                :<span class="lineCov">    1416270 :   slot = valid_info-&gt;references-&gt;find_slot_with_hash (vr, hash, NO_INSERT);</span></a>
<a name="1712"><span class="lineNum">    1712 </span>        [<span class="branchCov" title="Branch 0 was taken 267737 times"> + </span><span class="branchCov" title="Branch 1 was taken 1148530 times"> + </span>]:<span class="lineCov">    1416270 :   if (slot)</span></a>
<a name="1713"><span class="lineNum">    1713 </span>                :            :     {</a>
<a name="1714"><span class="lineNum">    1714 </span>        [<span class="branchCov" title="Branch 0 was taken 267737 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     267737 :       if (vnresult)</span></a>
<a name="1715"><span class="lineNum">    1715 </span>                :<span class="lineCov">     267737 :         *vnresult = (vn_reference_t)*slot;</span></a>
<a name="1716"><span class="lineNum">    1716 </span>                :<span class="lineCov">     267737 :       return ((vn_reference_t)*slot)-&gt;result;</span></a>
<a name="1717"><span class="lineNum">    1717 </span>                :            :     }</a>
<a name="1718"><span class="lineNum">    1718 </span>                :            : </a>
<a name="1719"><span class="lineNum">    1719 </span>                :<span class="lineCov">    1148530 :   return NULL_TREE;</span></a>
<a name="1720"><span class="lineNum">    1720 </span>                :            : }</a>
<a name="1721"><span class="lineNum">    1721 </span>                :            : </a>
<a name="1722"><span class="lineNum">    1722 </span>                :            : </a>
<a name="1723"><span class="lineNum">    1723 </span>                :            : /* Partial definition tracking support.  */</a>
<a name="1724"><span class="lineNum">    1724 </span>                :            : </a>
<a name="1725"><span class="lineNum">    1725 </span>                :            : struct pd_range</a>
<a name="1726"><span class="lineNum">    1726 </span>                :            : {</a>
<a name="1727"><span class="lineNum">    1727 </span>                :            :   HOST_WIDE_INT offset;</a>
<a name="1728"><span class="lineNum">    1728 </span>                :            :   HOST_WIDE_INT size;</a>
<a name="1729"><span class="lineNum">    1729 </span>                :            : };</a>
<a name="1730"><span class="lineNum">    1730 </span>                :            : </a>
<a name="1731"><span class="lineNum">    1731 </span>                :            : struct pd_data</a>
<a name="1732"><span class="lineNum">    1732 </span>                :            : {</a>
<a name="1733"><span class="lineNum">    1733 </span>                :            :   tree rhs;</a>
<a name="1734"><span class="lineNum">    1734 </span>                :            :   HOST_WIDE_INT offset;</a>
<a name="1735"><span class="lineNum">    1735 </span>                :            :   HOST_WIDE_INT size;</a>
<a name="1736"><span class="lineNum">    1736 </span>                :            : };</a>
<a name="1737"><span class="lineNum">    1737 </span>                :            : </a>
<a name="1738"><span class="lineNum">    1738 </span>                :            : /* Context for alias walking.  */</a>
<a name="1739"><span class="lineNum">    1739 </span>                :            : </a>
<a name="1740"><span class="lineNum">    1740 </span>                :            : struct vn_walk_cb_data</a>
<a name="1741"><span class="lineNum">    1741 </span>                :            : {</a>
<a name="1742"><span class="lineNum">    1742 </span>                :<span class="lineCov">    1855520 :   vn_walk_cb_data (vn_reference_t vr_, tree orig_ref_, tree *last_vuse_ptr_,</span></a>
<a name="1743"><span class="lineNum">    1743 </span>                :            :                    vn_lookup_kind vn_walk_kind_, bool tbaa_p_, tree mask_)</a>
<a name="1744"><span class="lineNum">    1744 </span>                :<span class="lineCov">    1855520 :     : vr (vr_), last_vuse_ptr (last_vuse_ptr_), last_vuse (NULL_TREE),</span></a>
<a name="1745"><span class="lineNum">    1745 </span>                :            :       mask (mask_), masked_result (NULL_TREE), vn_walk_kind (vn_walk_kind_),</a>
<a name="1746"><span class="lineNum">    1746 </span>                :            :       tbaa_p (tbaa_p_), saved_operands (vNULL), first_set (-2),</a>
<a name="1747"><span class="lineNum">    1747 </span>                :<span class="lineCov">    1855520 :       first_base_set (-2), known_ranges (NULL)</span></a>
<a name="1748"><span class="lineNum">    1748 </span>                :            :   {</a>
<a name="1749"><span class="lineNum">    1749 </span>        [<span class="branchCov" title="Branch 0 was taken 646265 times"> + </span><span class="branchCov" title="Branch 1 was taken 1209250 times"> + </span>]:<span class="lineCov">    1855520 :     if (!last_vuse_ptr)</span></a>
<a name="1750"><span class="lineNum">    1750 </span>                :<span class="lineCov">     646265 :       last_vuse_ptr = &amp;last_vuse;</span></a>
<a name="1751"><span class="lineNum">    1751 </span>                :<span class="lineCov">    1855520 :     ao_ref_init (&amp;orig_ref, orig_ref_);</span></a>
<a name="1752"><span class="lineNum">    1752 </span>        [<span class="branchCov" title="Branch 0 was taken 21074 times"> + </span><span class="branchCov" title="Branch 1 was taken 1834440 times"> + </span>]:<span class="lineCov">    1855520 :     if (mask)</span></a>
<a name="1753"><span class="lineNum">    1753 </span>                :            :       {</a>
<a name="1754"><span class="lineNum">    1754 </span>                :<span class="lineCov">      21074 :         wide_int w = wi::to_wide (mask);</span></a>
<a name="1755"><span class="lineNum">    1755 </span>                :<span class="lineCov">      21074 :         unsigned int pos = 0, prec = w.get_precision ();</span></a>
<a name="1756"><span class="lineNum">    1756 </span>                :            :         pd_data pd;</a>
<a name="1757"><span class="lineNum">    1757 </span>                :<span class="lineCov">      21074 :         pd.rhs = build_constructor (NULL_TREE, NULL);</span></a>
<a name="1758"><span class="lineNum">    1758 </span>                :            :         /* When bitwise and with a constant is done on a memory load,</a>
<a name="1759"><span class="lineNum">    1759 </span>                :            :            we don't really need all the bits to be defined or defined</a>
<a name="1760"><span class="lineNum">    1760 </span>                :            :            to constants, we don't really care what is in the position</a>
<a name="1761"><span class="lineNum">    1761 </span>                :            :            corresponding to 0 bits in the mask.</a>
<a name="1762"><span class="lineNum">    1762 </span>                :            :            So, push the ranges of those 0 bits in the mask as artificial</a>
<a name="1763"><span class="lineNum">    1763 </span>                :            :            zero stores and let the partial def handling code do the</a>
<a name="1764"><span class="lineNum">    1764 </span>                :            :            rest.  */</a>
<a name="1765"><span class="lineNum">    1765 </span>        [<span class="branchCov" title="Branch 0 was taken 46436 times"> + </span><span class="branchCov" title="Branch 1 was taken 2016 times"> + </span>]:<span class="lineCov">      48452 :         while (pos &lt; prec)</span></a>
<a name="1766"><span class="lineNum">    1766 </span>                :            :           {</a>
<a name="1767"><span class="lineNum">    1767 </span>                :<span class="lineCov">      46436 :             int tz = wi::ctz (w);</span></a>
<a name="1768"><span class="lineNum">    1768 </span>        [<span class="branchCov" title="Branch 0 was taken 19058 times"> + </span><span class="branchCov" title="Branch 1 was taken 27378 times"> + </span>]:<span class="lineCov">      46436 :             if (pos + tz &gt; prec)</span></a>
<a name="1769"><span class="lineNum">    1769 </span>                :<span class="lineCov">      19058 :               tz = prec - pos;</span></a>
<a name="1770"><span class="lineNum">    1770 </span>        [<span class="branchCov" title="Branch 0 was taken 33408 times"> + </span><span class="branchCov" title="Branch 1 was taken 13028 times"> + </span>]:<span class="lineCov">      46436 :             if (tz)</span></a>
<a name="1771"><span class="lineNum">    1771 </span>                :            :               {</a>
<a name="1772"><span class="lineNum">    1772 </span>                :            :                 if (BYTES_BIG_ENDIAN)</a>
<a name="1773"><span class="lineNum">    1773 </span>                :            :                   pd.offset = prec - pos - tz;</a>
<a name="1774"><span class="lineNum">    1774 </span>                :            :                 else</a>
<a name="1775"><span class="lineNum">    1775 </span>                :<span class="lineCov">      33408 :                   pd.offset = pos;</span></a>
<a name="1776"><span class="lineNum">    1776 </span>                :<span class="lineCov">      33408 :                 pd.size = tz;</span></a>
<a name="1777"><span class="lineNum">    1777 </span>                :<span class="lineCov">      33408 :                 void *r = push_partial_def (pd, 0, 0, 0, prec);</span></a>
<a name="1778"><span class="lineNum">    1778 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 33408 times"> + </span>]:<span class="lineCov">      33408 :                 gcc_assert (r == NULL_TREE);</span></a>
<a name="1779"><span class="lineNum">    1779 </span>                :            :               }</a>
<a name="1780"><span class="lineNum">    1780 </span>                :<span class="lineCov">      46436 :             pos += tz;</span></a>
<a name="1781"><span class="lineNum">    1781 </span>        [<span class="branchCov" title="Branch 0 was taken 19058 times"> + </span><span class="branchCov" title="Branch 1 was taken 27378 times"> + </span>]:<span class="lineCov">      46436 :             if (pos == prec)</span></a>
<a name="1782"><span class="lineNum">    1782 </span>                :<span class="lineCov">      19058 :               break;</span></a>
<a name="1783"><span class="lineNum">    1783 </span>                :<span class="lineCov">      27378 :             w = wi::lrshift (w, tz);</span></a>
<a name="1784"><span class="lineNum">    1784 </span>                :<span class="lineCov">      27378 :             tz = wi::ctz (wi::bit_not (w));</span></a>
<a name="1785"><span class="lineNum">    1785 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 27378 times"> + </span>]:<span class="lineCov">      27378 :             if (pos + tz &gt; prec)</span></a>
<a name="1786"><span class="lineNum">    1786 </span>                :<span class="lineNoCov">          0 :               tz = prec - pos;</span></a>
<a name="1787"><span class="lineNum">    1787 </span>                :<span class="lineCov">      27378 :             pos += tz;</span></a>
<a name="1788"><span class="lineNum">    1788 </span>                :<span class="lineCov">      27378 :             w = wi::lrshift (w, tz);</span></a>
<a name="1789"><span class="lineNum">    1789 </span>                :            :           }</a>
<a name="1790"><span class="lineNum">    1790 </span>                :            :       }</a>
<a name="1791"><span class="lineNum">    1791 </span>                :<span class="lineCov">    1855520 :   }</span></a>
<a name="1792"><span class="lineNum">    1792 </span>                :            :   ~vn_walk_cb_data ();</a>
<a name="1793"><span class="lineNum">    1793 </span>                :            :   void *finish (alias_set_type, alias_set_type, tree);</a>
<a name="1794"><span class="lineNum">    1794 </span>                :            :   void *push_partial_def (pd_data pd,</a>
<a name="1795"><span class="lineNum">    1795 </span>                :            :                           alias_set_type, alias_set_type, HOST_WIDE_INT,</a>
<a name="1796"><span class="lineNum">    1796 </span>                :            :                           HOST_WIDE_INT);</a>
<a name="1797"><span class="lineNum">    1797 </span>                :            : </a>
<a name="1798"><span class="lineNum">    1798 </span>                :            :   vn_reference_t vr;</a>
<a name="1799"><span class="lineNum">    1799 </span>                :            :   ao_ref orig_ref;</a>
<a name="1800"><span class="lineNum">    1800 </span>                :            :   tree *last_vuse_ptr;</a>
<a name="1801"><span class="lineNum">    1801 </span>                :            :   tree last_vuse;</a>
<a name="1802"><span class="lineNum">    1802 </span>                :            :   tree mask;</a>
<a name="1803"><span class="lineNum">    1803 </span>                :            :   tree masked_result;</a>
<a name="1804"><span class="lineNum">    1804 </span>                :            :   vn_lookup_kind vn_walk_kind;</a>
<a name="1805"><span class="lineNum">    1805 </span>                :            :   bool tbaa_p;</a>
<a name="1806"><span class="lineNum">    1806 </span>                :            :   vec&lt;vn_reference_op_s&gt; saved_operands;</a>
<a name="1807"><span class="lineNum">    1807 </span>                :            : </a>
<a name="1808"><span class="lineNum">    1808 </span>                :            :   /* The VDEFs of partial defs we come along.  */</a>
<a name="1809"><span class="lineNum">    1809 </span>                :            :   auto_vec&lt;pd_data, 2&gt; partial_defs;</a>
<a name="1810"><span class="lineNum">    1810 </span>                :            :   /* The first defs range to avoid splay tree setup in most cases.  */</a>
<a name="1811"><span class="lineNum">    1811 </span>                :            :   pd_range first_range;</a>
<a name="1812"><span class="lineNum">    1812 </span>                :            :   alias_set_type first_set;</a>
<a name="1813"><span class="lineNum">    1813 </span>                :            :   alias_set_type first_base_set;</a>
<a name="1814"><span class="lineNum">    1814 </span>                :            :   splay_tree known_ranges;</a>
<a name="1815"><span class="lineNum">    1815 </span>                :            :   obstack ranges_obstack;</a>
<a name="1816"><span class="lineNum">    1816 </span>                :            : };</a>
<a name="1817"><span class="lineNum">    1817 </span>                :            : </a>
<a name="1818"><span class="lineNum">    1818 </span>                :<span class="lineCov">    1855520 : vn_walk_cb_data::~vn_walk_cb_data ()</span></a>
<a name="1819"><span class="lineNum">    1819 </span>                :            : {</a>
<a name="1820"><span class="lineNum">    1820 </span>        [<span class="branchCov" title="Branch 0 was taken 9567 times"> + </span><span class="branchCov" title="Branch 1 was taken 1845950 times"> + </span>]:<span class="lineCov">    1855520 :   if (known_ranges)</span></a>
<a name="1821"><span class="lineNum">    1821 </span>                :            :     {</a>
<a name="1822"><span class="lineNum">    1822 </span>                :<span class="lineCov">       9567 :       splay_tree_delete (known_ranges);</span></a>
<a name="1823"><span class="lineNum">    1823 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 9567 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">       9567 :       obstack_free (&amp;ranges_obstack, NULL);</span></a>
<a name="1824"><span class="lineNum">    1824 </span>                :            :     }</a>
<a name="1825"><span class="lineNum">    1825 </span>                :<span class="lineCov">    1855520 :   saved_operands.release ();</span></a>
<a name="1826"><span class="lineNum">    1826 </span>                :<span class="lineCov">    1855520 : }</span></a>
<a name="1827"><span class="lineNum">    1827 </span>                :            : </a>
<a name="1828"><span class="lineNum">    1828 </span>                :            : void *</a>
<a name="1829"><span class="lineNum">    1829 </span>                :<span class="lineCov">      10271 : vn_walk_cb_data::finish (alias_set_type set, alias_set_type base_set, tree val)</span></a>
<a name="1830"><span class="lineNum">    1830 </span>                :            : {</a>
<a name="1831"><span class="lineNum">    1831 </span>        [<span class="branchCov" title="Branch 0 was taken 4155 times"> + </span><span class="branchCov" title="Branch 1 was taken 6116 times"> + </span>]:<span class="lineCov">      10271 :   if (first_set != -2)</span></a>
<a name="1832"><span class="lineNum">    1832 </span>                :            :     {</a>
<a name="1833"><span class="lineNum">    1833 </span>                :<span class="lineCov">       4155 :       set = first_set;</span></a>
<a name="1834"><span class="lineNum">    1834 </span>                :<span class="lineCov">       4155 :       base_set = first_base_set;</span></a>
<a name="1835"><span class="lineNum">    1835 </span>                :            :     }</a>
<a name="1836"><span class="lineNum">    1836 </span>        [<span class="branchCov" title="Branch 0 was taken 39 times"> + </span><span class="branchCov" title="Branch 1 was taken 10232 times"> + </span>]:<span class="lineCov">      10271 :   if (mask)</span></a>
<a name="1837"><span class="lineNum">    1837 </span>                :            :     {</a>
<a name="1838"><span class="lineNum">    1838 </span>                :<span class="lineCov">         39 :       masked_result = val;</span></a>
<a name="1839"><span class="lineNum">    1839 </span>                :<span class="lineCov">         39 :       return (void *) -1;</span></a>
<a name="1840"><span class="lineNum">    1840 </span>                :            :     }</a>
<a name="1841"><span class="lineNum">    1841 </span>                :            :   vec&lt;vn_reference_op_s&gt; &amp;operands</a>
<a name="1842"><span class="lineNum">    1842 </span>        [<span class="branchCov" title="Branch 0 was taken 4702 times"> + </span><span class="branchCov" title="Branch 1 was taken 5530 times"> + </span>]:<span class="lineCov">      10232 :     = saved_operands.exists () ? saved_operands : vr-&gt;operands;</span></a>
<a name="1843"><span class="lineNum">    1843 </span>                :<span class="lineCov">      10232 :   return vn_reference_lookup_or_insert_for_pieces (last_vuse, set, base_set,</span></a>
<a name="1844"><span class="lineNum">    1844 </span>                :<span class="lineCov">      10232 :                                                    vr-&gt;type, operands, val);</span></a>
<a name="1845"><span class="lineNum">    1845 </span>                :            : }</a>
<a name="1846"><span class="lineNum">    1846 </span>                :            : </a>
<a name="1847"><span class="lineNum">    1847 </span>                :            : /* pd_range splay-tree helpers.  */</a>
<a name="1848"><span class="lineNum">    1848 </span>                :            : </a>
<a name="1849"><span class="lineNum">    1849 </span>                :            : static int</a>
<a name="1850"><span class="lineNum">    1850 </span>                :<span class="lineCov">      83428 : pd_range_compare (splay_tree_key offset1p, splay_tree_key offset2p)</span></a>
<a name="1851"><span class="lineNum">    1851 </span>                :            : {</a>
<a name="1852"><span class="lineNum">    1852 </span>                :<span class="lineCov">      83428 :   HOST_WIDE_INT offset1 = *(HOST_WIDE_INT *)offset1p;</span></a>
<a name="1853"><span class="lineNum">    1853 </span>                :<span class="lineCov">      83428 :   HOST_WIDE_INT offset2 = *(HOST_WIDE_INT *)offset2p;</span></a>
<a name="1854"><span class="lineNum">    1854 </span>        [<span class="branchCov" title="Branch 0 was taken 26371 times"> + </span><span class="branchCov" title="Branch 1 was taken 57057 times"> + </span>]:<span class="lineCov">      83428 :   if (offset1 &lt; offset2)</span></a>
<a name="1855"><span class="lineNum">    1855 </span>                :<span class="lineCov">      26371 :     return -1;</span></a>
<a name="1856"><span class="lineNum">    1856 </span>        [<span class="branchCov" title="Branch 0 was taken 26951 times"> + </span><span class="branchCov" title="Branch 1 was taken 30106 times"> + </span>]:<span class="lineCov">      57057 :   else if (offset1 &gt; offset2)</span></a>
<a name="1857"><span class="lineNum">    1857 </span>                :<span class="lineCov">      26951 :     return 1;</span></a>
<a name="1858"><span class="lineNum">    1858 </span>                :<span class="lineCov">      30106 :   return 0;</span></a>
<a name="1859"><span class="lineNum">    1859 </span>                :            : }</a>
<a name="1860"><span class="lineNum">    1860 </span>                :            : </a>
<a name="1861"><span class="lineNum">    1861 </span>                :            : static void *</a>
<a name="1862"><span class="lineNum">    1862 </span>                :<span class="lineCov">      32084 : pd_tree_alloc (int size, void *data_)</span></a>
<a name="1863"><span class="lineNum">    1863 </span>                :            : {</a>
<a name="1864"><span class="lineNum">    1864 </span>                :<span class="lineCov">      32084 :   vn_walk_cb_data *data = (vn_walk_cb_data *)data_;</span></a>
<a name="1865"><span class="lineNum">    1865 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 32084 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 32084 times"> + </span> :<span class="lineCov">      32084 :   return obstack_alloc (&amp;data-&gt;ranges_obstack, size);</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 32084 times"> + </span>]
<a name="1866"><span class="lineNum">    1866 </span>                :            : }</a>
<a name="1867"><span class="lineNum">    1867 </span>                :            : </a>
<a name="1868"><span class="lineNum">    1868 </span>                :            : static void</a>
<a name="1869"><span class="lineNum">    1869 </span>                :<span class="lineCov">      32084 : pd_tree_dealloc (void *, void *)</span></a>
<a name="1870"><span class="lineNum">    1870 </span>                :            : {</a>
<a name="1871"><span class="lineNum">    1871 </span>                :<span class="lineCov">      32084 : }</span></a>
<a name="1872"><span class="lineNum">    1872 </span>                :            : </a>
<a name="1873"><span class="lineNum">    1873 </span>                :            : /* Push PD to the vector of partial definitions returning a</a>
<a name="1874"><span class="lineNum">    1874 </span>                :            :    value when we are ready to combine things with VUSE, SET and MAXSIZEI,</a>
<a name="1875"><span class="lineNum">    1875 </span>                :            :    NULL when we want to continue looking for partial defs or -1</a>
<a name="1876"><span class="lineNum">    1876 </span>                :            :    on failure.  */</a>
<a name="1877"><span class="lineNum">    1877 </span>                :            : </a>
<a name="1878"><span class="lineNum">    1878 </span>                :            : void *</a>
<a name="1879"><span class="lineNum">    1879 </span>                :<span class="lineCov">      49320 : vn_walk_cb_data::push_partial_def (pd_data pd,</span></a>
<a name="1880"><span class="lineNum">    1880 </span>                :            :                                    alias_set_type set, alias_set_type base_set,</a>
<a name="1881"><span class="lineNum">    1881 </span>                :            :                                    HOST_WIDE_INT offseti,</a>
<a name="1882"><span class="lineNum">    1882 </span>                :            :                                    HOST_WIDE_INT maxsizei)</a>
<a name="1883"><span class="lineNum">    1883 </span>                :            : {</a>
<a name="1884"><span class="lineNum">    1884 </span>                :<span class="lineCov">      49320 :   const HOST_WIDE_INT bufsize = 64;</span></a>
<a name="1885"><span class="lineNum">    1885 </span>                :            :   /* We're using a fixed buffer for encoding so fail early if the object</a>
<a name="1886"><span class="lineNum">    1886 </span>                :            :      we want to interpret is bigger.  */</a>
<a name="1887"><span class="lineNum">    1887 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 49320 times"> + </span>]:<span class="lineCov">      49320 :   if (maxsizei &gt; bufsize * BITS_PER_UNIT</span></a>
<a name="1888"><span class="lineNum">    1888 </span>                :            :       || CHAR_BIT != 8</a>
<a name="1889"><span class="lineNum">    1889 </span>                :            :       || BITS_PER_UNIT != 8</a>
<a name="1890"><span class="lineNum">    1890 </span>                :            :       /* Not prepared to handle PDP endian.  */</a>
<a name="1891"><span class="lineNum">    1891 </span>                :            :       || BYTES_BIG_ENDIAN != WORDS_BIG_ENDIAN)</a>
<a name="1892"><span class="lineNum">    1892 </span>                :<span class="lineNoCov">          0 :     return (void *)-1;</span></a>
<a name="1893"><span class="lineNum">    1893 </span>                :            : </a>
<a name="1894"><span class="lineNum">    1894 </span>                :            :   /* Turn too large constant stores into non-constant stores.  */</a>
<a name="1895"><span class="lineNum">    1895 </span>  [<span class="branchCov" title="Branch 0 was taken 779 times"> + </span><span class="branchCov" title="Branch 1 was taken 48541 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 779 times"> + </span>]:<span class="lineCov">      49320 :   if (CONSTANT_CLASS_P (pd.rhs) &amp;&amp; pd.size &gt; bufsize * BITS_PER_UNIT)</span></a>
<a name="1896"><span class="lineNum">    1896 </span>                :<span class="lineNoCov">          0 :     pd.rhs = error_mark_node;</span></a>
<a name="1897"><span class="lineNum">    1897 </span>                :            : </a>
<a name="1898"><span class="lineNum">    1898 </span>                :            :   /* And for non-constant or CONSTRUCTOR stores shrink them to only keep at</a>
<a name="1899"><span class="lineNum">    1899 </span>                :            :      most a partial byte before and/or after the region.  */</a>
<a name="1900"><span class="lineNum">    1900 </span>        [<span class="branchCov" title="Branch 0 was taken 48541 times"> + </span><span class="branchCov" title="Branch 1 was taken 779 times"> + </span>]:<span class="lineCov">      49320 :   if (!CONSTANT_CLASS_P (pd.rhs))</span></a>
<a name="1901"><span class="lineNum">    1901 </span>                :            :     {</a>
<a name="1902"><span class="lineNum">    1902 </span>        [<span class="branchCov" title="Branch 0 was taken 1270 times"> + </span><span class="branchCov" title="Branch 1 was taken 47271 times"> + </span>]:<span class="lineCov">      48541 :       if (pd.offset &lt; offseti)</span></a>
<a name="1903"><span class="lineNum">    1903 </span>                :            :         {</a>
<a name="1904"><span class="lineNum">    1904 </span>                :<span class="lineCov">       1270 :           HOST_WIDE_INT o = ROUND_DOWN (offseti - pd.offset, BITS_PER_UNIT);</span></a>
<a name="1905"><span class="lineNum">    1905 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1270 times"> + </span>]:<span class="lineCov">       1270 :           gcc_assert (pd.size &gt; o);</span></a>
<a name="1906"><span class="lineNum">    1906 </span>                :<span class="lineCov">       1270 :           pd.size -= o;</span></a>
<a name="1907"><span class="lineNum">    1907 </span>                :<span class="lineCov">       1270 :           pd.offset += o;</span></a>
<a name="1908"><span class="lineNum">    1908 </span>                :            :         }</a>
<a name="1909"><span class="lineNum">    1909 </span>        [<span class="branchCov" title="Branch 0 was taken 2053 times"> + </span><span class="branchCov" title="Branch 1 was taken 46488 times"> + </span>]:<span class="lineCov">      48541 :       if (pd.size &gt; maxsizei)</span></a>
<a name="1910"><span class="lineNum">    1910 </span>                :<span class="lineCov">       2053 :         pd.size = maxsizei + ((pd.size - maxsizei) % BITS_PER_UNIT);</span></a>
<a name="1911"><span class="lineNum">    1911 </span>                :            :     }</a>
<a name="1912"><span class="lineNum">    1912 </span>                :            : </a>
<a name="1913"><span class="lineNum">    1913 </span>                :<span class="lineCov">      49320 :   pd.offset -= offseti;</span></a>
<a name="1914"><span class="lineNum">    1914 </span>                :            : </a>
<a name="1915"><span class="lineNum">    1915 </span>                :<span class="lineCov">      98640 :   bool pd_constant_p = (TREE_CODE (pd.rhs) == CONSTRUCTOR</span></a>
<a name="1916"><span class="lineNum">    1916 </span>  [<span class="branchCov" title="Branch 0 was taken 15912 times"> + </span><span class="branchCov" title="Branch 1 was taken 33408 times"> + </span><span class="branchCov" title="Branch 2 was taken 779 times"> + </span><span class="branchCov" title="Branch 3 was taken 15133 times"> + </span>]:<span class="lineCov">      49320 :                         || CONSTANT_CLASS_P (pd.rhs));</span></a>
<a name="1917"><span class="lineNum">    1917 </span>        [<span class="branchCov" title="Branch 0 was taken 35832 times"> + </span><span class="branchCov" title="Branch 1 was taken 13488 times"> + </span>]:<span class="lineCov">      49320 :   if (partial_defs.is_empty ())</span></a>
<a name="1918"><span class="lineNum">    1918 </span>                :            :     {</a>
<a name="1919"><span class="lineNum">    1919 </span>                :            :       /* If we get a clobber upfront, fail.  */</a>
<a name="1920"><span class="lineNum">    1920 </span>  [<span class="branchCov" title="Branch 0 was taken 21074 times"> + </span><span class="branchCov" title="Branch 1 was taken 14758 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 21074 times"> + </span>]:<span class="lineCov">      35832 :       if (TREE_CLOBBER_P (pd.rhs))</span></a>
<a name="1921"><span class="lineNum">    1921 </span>                :<span class="lineNoCov">          0 :         return (void *)-1;</span></a>
<a name="1922"><span class="lineNum">    1922 </span>        [<span class="branchCov" title="Branch 0 was taken 14267 times"> + </span><span class="branchCov" title="Branch 1 was taken 21565 times"> + </span>]:<span class="lineCov">      35832 :       if (!pd_constant_p)</span></a>
<a name="1923"><span class="lineNum">    1923 </span>                :<span class="lineCov">      14267 :         return (void *)-1;</span></a>
<a name="1924"><span class="lineNum">    1924 </span>                :<span class="lineCov">      21565 :       partial_defs.safe_push (pd);</span></a>
<a name="1925"><span class="lineNum">    1925 </span>                :<span class="lineCov">      21565 :       first_range.offset = pd.offset;</span></a>
<a name="1926"><span class="lineNum">    1926 </span>                :<span class="lineCov">      21565 :       first_range.size = pd.size;</span></a>
<a name="1927"><span class="lineNum">    1927 </span>                :<span class="lineCov">      21565 :       first_set = set;</span></a>
<a name="1928"><span class="lineNum">    1928 </span>                :<span class="lineCov">      21565 :       first_base_set = base_set;</span></a>
<a name="1929"><span class="lineNum">    1929 </span>                :<span class="lineCov">      21565 :       last_vuse_ptr = NULL;</span></a>
<a name="1930"><span class="lineNum">    1930 </span>                :            :       /* Continue looking for partial defs.  */</a>
<a name="1931"><span class="lineNum">    1931 </span>                :<span class="lineCov">      21565 :       return NULL;</span></a>
<a name="1932"><span class="lineNum">    1932 </span>                :            :     }</a>
<a name="1933"><span class="lineNum">    1933 </span>                :            : </a>
<a name="1934"><span class="lineNum">    1934 </span>        [<span class="branchCov" title="Branch 0 was taken 9567 times"> + </span><span class="branchCov" title="Branch 1 was taken 3921 times"> + </span>]:<span class="lineCov">      13488 :   if (!known_ranges)</span></a>
<a name="1935"><span class="lineNum">    1935 </span>                :            :     {</a>
<a name="1936"><span class="lineNum">    1936 </span>                :            :       /* ???  Optimize the case where the 2nd partial def completes things.  */</a>
<a name="1937"><span class="lineNum">    1937 </span>                :<span class="lineCov">       9567 :       gcc_obstack_init (&amp;ranges_obstack);</span></a>
<a name="1938"><span class="lineNum">    1938 </span>                :<span class="lineCov">       9567 :       known_ranges = splay_tree_new_with_allocator (pd_range_compare, 0, 0,</span></a>
<a name="1939"><span class="lineNum">    1939 </span>                :            :                                                     pd_tree_alloc,</a>
<a name="1940"><span class="lineNum">    1940 </span>                :            :                                                     pd_tree_dealloc, this);</a>
<a name="1941"><span class="lineNum">    1941 </span>                :<span class="lineCov">       9567 :       splay_tree_insert (known_ranges,</span></a>
<a name="1942"><span class="lineNum">    1942 </span>                :<span class="lineCov">       9567 :                          (splay_tree_key)&amp;first_range.offset,</span></a>
<a name="1943"><span class="lineNum">    1943 </span>                :<span class="lineCov">       9567 :                          (splay_tree_value)&amp;first_range);</span></a>
<a name="1944"><span class="lineNum">    1944 </span>                :            :     }</a>
<a name="1945"><span class="lineNum">    1945 </span>                :            : </a>
<a name="1946"><span class="lineNum">    1946 </span>                :<span class="lineCov">      13488 :   pd_range newr = { pd.offset, pd.size };</span></a>
<a name="1947"><span class="lineNum">    1947 </span>                :            :   splay_tree_node n;</a>
<a name="1948"><span class="lineNum">    1948 </span>                :            :   pd_range *r;</a>
<a name="1949"><span class="lineNum">    1949 </span>                :            :   /* Lookup the predecessor of offset + 1 and see if we need to merge.  */</a>
<a name="1950"><span class="lineNum">    1950 </span>                :<span class="lineCov">      13488 :   HOST_WIDE_INT loffset = newr.offset + 1;</span></a>
<a name="1951"><span class="lineNum">    1951 </span>                :<span class="lineCov">      13488 :   if ((n = splay_tree_predecessor (known_ranges, (splay_tree_key)&amp;loffset))</span></a>
<a name="1952"><span class="lineNum">    1952 </span>                :<span class="lineCov">      12904 :       &amp;&amp; ((r = (pd_range *)n-&gt;value), true)</span></a>
<a name="1953"><span class="lineNum">    1953 </span>  [<span class="branchCov" title="Branch 0 was taken 12904 times"> + </span><span class="branchCov" title="Branch 1 was taken 584 times"> + </span><span class="branchCov" title="Branch 2 was taken 538 times"> + </span><span class="branchCov" title="Branch 3 was taken 12366 times"> + </span> :<span class="lineCov">      26392 :       &amp;&amp; ranges_known_overlap_p (r-&gt;offset, r-&gt;size + 1,</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 538 times"> + </span><span class="branchCov" title="Branch 5 was taken 12950 times"> + </span>]
<a name="1954"><span class="lineNum">    1954 </span>                :            :                                  newr.offset, newr.size))</a>
<a name="1955"><span class="lineNum">    1955 </span>                :            :     {</a>
<a name="1956"><span class="lineNum">    1956 </span>                :            :       /* Ignore partial defs already covered.  Here we also drop shadowed</a>
<a name="1957"><span class="lineNum">    1957 </span>                :            :          clobbers arriving here at the floor.  */</a>
<a name="1958"><span class="lineNum">    1958 </span>        [<span class="branchCov" title="Branch 0 was taken 68 times"> + </span><span class="branchCov" title="Branch 1 was taken 470 times"> + </span>]:<span class="lineCov">        538 :       if (known_subrange_p (newr.offset, newr.size, r-&gt;offset, r-&gt;size))</span></a>
<a name="1959"><span class="lineNum">    1959 </span>                :<span class="lineCov">         68 :         return NULL;</span></a>
<a name="1960"><span class="lineNum">    1960 </span>                :<span class="lineCov">        470 :       r-&gt;size = MAX (r-&gt;offset + r-&gt;size, newr.offset + newr.size) - r-&gt;offset;</span></a>
<a name="1961"><span class="lineNum">    1961 </span>                :            :     }</a>
<a name="1962"><span class="lineNum">    1962 </span>                :            :   else</a>
<a name="1963"><span class="lineNum">    1963 </span>                :            :     {</a>
<a name="1964"><span class="lineNum">    1964 </span>                :            :       /* newr.offset wasn't covered yet, insert the range.  */</a>
<a name="1965"><span class="lineNum">    1965 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 12950 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 12950 times"> + </span> :<span class="lineCov">      12950 :       r = XOBNEW (&amp;ranges_obstack, pd_range);</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 12950 times"> + </span>]
<a name="1966"><span class="lineNum">    1966 </span>                :<span class="lineCov">      12950 :       *r = newr;</span></a>
<a name="1967"><span class="lineNum">    1967 </span>                :<span class="lineCov">      12950 :       splay_tree_insert (known_ranges, (splay_tree_key)&amp;r-&gt;offset,</span></a>
<a name="1968"><span class="lineNum">    1968 </span>                :            :                          (splay_tree_value)r);</a>
<a name="1969"><span class="lineNum">    1969 </span>                :            :     }</a>
<a name="1970"><span class="lineNum">    1970 </span>                :            :   /* Merge r which now contains newr and is a member of the splay tree with</a>
<a name="1971"><span class="lineNum">    1971 </span>                :            :      adjacent overlapping ranges.  */</a>
<a name="1972"><span class="lineNum">    1972 </span>                :            :   pd_range *rafter;</a>
<a name="1973"><span class="lineNum">    1973 </span>                :<span class="lineCov">      14134 :   while ((n = splay_tree_successor (known_ranges, (splay_tree_key)&amp;r-&gt;offset))</span></a>
<a name="1974"><span class="lineNum">    1974 </span>                :<span class="lineCov">        718 :          &amp;&amp; ((rafter = (pd_range *)n-&gt;value), true)</span></a>
<a name="1975"><span class="lineNum">    1975 </span>  [<span class="branchCov" title="Branch 0 was taken 718 times"> + </span><span class="branchCov" title="Branch 1 was taken 13416 times"> + </span><span class="branchCov" title="Branch 2 was taken 714 times"> + </span><span class="branchCov" title="Branch 3 was taken 4 times"> + </span> :<span class="lineCov">      14852 :          &amp;&amp; ranges_known_overlap_p (r-&gt;offset, r-&gt;size + 1,</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 714 times"> + </span><span class="branchCov" title="Branch 5 was taken 13420 times"> + </span>]
<a name="1976"><span class="lineNum">    1976 </span>                :<span class="lineCov">        718 :                                     rafter-&gt;offset, rafter-&gt;size))</span></a>
<a name="1977"><span class="lineNum">    1977 </span>                :            :     {</a>
<a name="1978"><span class="lineNum">    1978 </span>                :<span class="lineCov">        714 :       r-&gt;size = MAX (r-&gt;offset + r-&gt;size,</span></a>
<a name="1979"><span class="lineNum">    1979 </span>                :<span class="lineCov">        714 :                      rafter-&gt;offset + rafter-&gt;size) - r-&gt;offset;</span></a>
<a name="1980"><span class="lineNum">    1980 </span>                :<span class="lineCov">        714 :       splay_tree_remove (known_ranges, (splay_tree_key)&amp;rafter-&gt;offset);</span></a>
<a name="1981"><span class="lineNum">    1981 </span>                :            :     }</a>
<a name="1982"><span class="lineNum">    1982 </span>                :            :   /* If we get a clobber, fail.  */</a>
<a name="1983"><span class="lineNum">    1983 </span>  [<span class="branchCov" title="Branch 0 was taken 12334 times"> + </span><span class="branchCov" title="Branch 1 was taken 1086 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 12334 times"> + </span>]:<span class="lineCov">      13420 :   if (TREE_CLOBBER_P (pd.rhs))</span></a>
<a name="1984"><span class="lineNum">    1984 </span>                :<span class="lineNoCov">          0 :     return (void *)-1;</span></a>
<a name="1985"><span class="lineNum">    1985 </span>                :            :   /* Non-constants are OK as long as they are shadowed by a constant.  */</a>
<a name="1986"><span class="lineNum">    1986 </span>        [<span class="branchCov" title="Branch 0 was taken 810 times"> + </span><span class="branchCov" title="Branch 1 was taken 12610 times"> + </span>]:<span class="lineCov">      13420 :   if (!pd_constant_p)</span></a>
<a name="1987"><span class="lineNum">    1987 </span>                :<span class="lineCov">        810 :     return (void *)-1;</span></a>
<a name="1988"><span class="lineNum">    1988 </span>                :<span class="lineCov">      12610 :   partial_defs.safe_push (pd);</span></a>
<a name="1989"><span class="lineNum">    1989 </span>                :            : </a>
<a name="1990"><span class="lineNum">    1990 </span>                :            :   /* Now we have merged newr into the range tree.  When we have covered</a>
<a name="1991"><span class="lineNum">    1991 </span>                :            :      [offseti, sizei] then the tree will contain exactly one node which has</a>
<a name="1992"><span class="lineNum">    1992 </span>                :            :      the desired properties and it will be 'r'.  */</a>
<a name="1993"><span class="lineNum">    1993 </span>        [<span class="branchCov" title="Branch 0 was taken 12444 times"> + </span><span class="branchCov" title="Branch 1 was taken 166 times"> + </span>]:<span class="lineCov">      12610 :   if (!known_subrange_p (0, maxsizei, r-&gt;offset, r-&gt;size))</span></a>
<a name="1994"><span class="lineNum">    1994 </span>                :            :     /* Continue looking for partial defs.  */</a>
<a name="1995"><span class="lineNum">    1995 </span>                :<span class="lineCov">      12444 :     return NULL;</span></a>
<a name="1996"><span class="lineNum">    1996 </span>                :            : </a>
<a name="1997"><span class="lineNum">    1997 </span>                :            :   /* Now simply native encode all partial defs in reverse order.  */</a>
<a name="1998"><span class="lineNum">    1998 </span>                :<span class="lineCov">        166 :   unsigned ndefs = partial_defs.length ();</span></a>
<a name="1999"><span class="lineNum">    1999 </span>                :            :   /* We support up to 512-bit values (for V8DFmode).  */</a>
<a name="2000"><span class="lineNum">    2000 </span>                :            :   unsigned char buffer[bufsize + 1];</a>
<a name="2001"><span class="lineNum">    2001 </span>                :            :   unsigned char this_buffer[bufsize + 1];</a>
<a name="2002"><span class="lineNum">    2002 </span>                :            :   int len;</a>
<a name="2003"><span class="lineNum">    2003 </span>                :            : </a>
<a name="2004"><span class="lineNum">    2004 </span>                :<span class="lineCov">        166 :   memset (buffer, 0, bufsize + 1);</span></a>
<a name="2005"><span class="lineNum">    2005 </span>                :<span class="lineCov">        166 :   unsigned needed_len = ROUND_UP (maxsizei, BITS_PER_UNIT) / BITS_PER_UNIT;</span></a>
<a name="2006"><span class="lineNum">    2006 </span>        [<span class="branchCov" title="Branch 0 was taken 409 times"> + </span><span class="branchCov" title="Branch 1 was taken 166 times"> + </span>]:<span class="lineCov">        575 :   while (!partial_defs.is_empty ())</span></a>
<a name="2007"><span class="lineNum">    2007 </span>                :            :     {</a>
<a name="2008"><span class="lineNum">    2008 </span>                :<span class="lineCov">        409 :       pd_data pd = partial_defs.pop ();</span></a>
<a name="2009"><span class="lineNum">    2009 </span>                :            :       unsigned int amnt;</a>
<a name="2010"><span class="lineNum">    2010 </span>        [<span class="branchCov" title="Branch 0 was taken 44 times"> + </span><span class="branchCov" title="Branch 1 was taken 365 times"> + </span>]:<span class="lineCov">        409 :       if (TREE_CODE (pd.rhs) == CONSTRUCTOR)</span></a>
<a name="2011"><span class="lineNum">    2011 </span>                :            :         {</a>
<a name="2012"><span class="lineNum">    2012 </span>                :            :           /* Empty CONSTRUCTOR.  */</a>
<a name="2013"><span class="lineNum">    2013 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 44 times"> + </span>]:<span class="lineCov">         44 :           if (pd.size &gt;= needed_len * BITS_PER_UNIT)</span></a>
<a name="2014"><span class="lineNum">    2014 </span>                :<span class="lineNoCov">          0 :             len = needed_len;</span></a>
<a name="2015"><span class="lineNum">    2015 </span>                :            :           else</a>
<a name="2016"><span class="lineNum">    2016 </span>                :<span class="lineCov">         44 :             len = ROUND_UP (pd.size, BITS_PER_UNIT) / BITS_PER_UNIT;</span></a>
<a name="2017"><span class="lineNum">    2017 </span>                :<span class="lineCov">         44 :           memset (this_buffer, 0, len);</span></a>
<a name="2018"><span class="lineNum">    2018 </span>                :            :         }</a>
<a name="2019"><span class="lineNum">    2019 </span>                :            :       else</a>
<a name="2020"><span class="lineNum">    2020 </span>                :            :         {</a>
<a name="2021"><span class="lineNum">    2021 </span>                :<span class="lineCov">        365 :           len = native_encode_expr (pd.rhs, this_buffer, bufsize,</span></a>
<a name="2022"><span class="lineNum">    2022 </span>        [<span class="branchCov" title="Branch 0 was taken 231 times"> + </span><span class="branchCov" title="Branch 1 was taken 134 times"> + </span>]:<span class="lineCov">        365 :                                     MAX (0, -pd.offset) / BITS_PER_UNIT);</span></a>
<a name="2023"><span class="lineNum">    2023 </span>        [<span class="branchCov" title="Branch 0 was taken 365 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">        365 :           if (len &lt;= 0</span></a>
<a name="2024"><span class="lineNum">    2024 </span>                :<span class="lineCov">        730 :               || len &lt; (ROUND_UP (pd.size, BITS_PER_UNIT) / BITS_PER_UNIT</span></a>
<a name="2025"><span class="lineNum">    2025 </span>  [<span class="branchCov" title="Branch 0 was taken 231 times"> + </span><span class="branchCov" title="Branch 1 was taken 134 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 365 times"> + </span>]:<span class="lineCov">        365 :                         - MAX (0, -pd.offset) / BITS_PER_UNIT))</span></a>
<a name="2026"><span class="lineNum">    2026 </span>                :            :             {</a>
<a name="2027"><span class="lineNum">    2027 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :               if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="2028"><span class="lineNum">    2028 </span>                :<span class="lineNoCov">          0 :                 fprintf (dump_file, &quot;Failed to encode %u &quot;</span></a>
<a name="2029"><span class="lineNum">    2029 </span>                :            :                          &quot;partial definitions\n&quot;, ndefs);</a>
<a name="2030"><span class="lineNum">    2030 </span>                :<span class="lineNoCov">          0 :               return (void *)-1;</span></a>
<a name="2031"><span class="lineNum">    2031 </span>                :            :             }</a>
<a name="2032"><span class="lineNum">    2032 </span>                :            :         }</a>
<a name="2033"><span class="lineNum">    2033 </span>                :            : </a>
<a name="2034"><span class="lineNum">    2034 </span>                :<span class="lineCov">        409 :       unsigned char *p = buffer;</span></a>
<a name="2035"><span class="lineNum">    2035 </span>                :<span class="lineCov">        409 :       HOST_WIDE_INT size = pd.size;</span></a>
<a name="2036"><span class="lineNum">    2036 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 409 times"> + </span>]:<span class="lineCov">        409 :       if (pd.offset &lt; 0)</span></a>
<a name="2037"><span class="lineNum">    2037 </span>                :<span class="lineNoCov">          0 :         size -= ROUND_DOWN (-pd.offset, BITS_PER_UNIT);</span></a>
<a name="2038"><span class="lineNum">    2038 </span>                :<span class="lineCov">        409 :       this_buffer[len] = 0;</span></a>
<a name="2039"><span class="lineNum">    2039 </span>                :            :       if (BYTES_BIG_ENDIAN)</a>
<a name="2040"><span class="lineNum">    2040 </span>                :            :         {</a>
<a name="2041"><span class="lineNum">    2041 </span>                :            :           /* LSB of this_buffer[len - 1] byte should be at</a>
<a name="2042"><span class="lineNum">    2042 </span>                :            :              pd.offset + pd.size - 1 bits in buffer.  */</a>
<a name="2043"><span class="lineNum">    2043 </span>                :            :           amnt = ((unsigned HOST_WIDE_INT) pd.offset</a>
<a name="2044"><span class="lineNum">    2044 </span>                :            :                   + pd.size) % BITS_PER_UNIT;</a>
<a name="2045"><span class="lineNum">    2045 </span>                :            :           if (amnt)</a>
<a name="2046"><span class="lineNum">    2046 </span>                :            :             shift_bytes_in_array_right (this_buffer, len + 1, amnt);</a>
<a name="2047"><span class="lineNum">    2047 </span>                :            :           unsigned char *q = this_buffer;</a>
<a name="2048"><span class="lineNum">    2048 </span>                :            :           unsigned int off = 0;</a>
<a name="2049"><span class="lineNum">    2049 </span>                :            :           if (pd.offset &gt;= 0)</a>
<a name="2050"><span class="lineNum">    2050 </span>                :            :             {</a>
<a name="2051"><span class="lineNum">    2051 </span>                :            :               unsigned int msk;</a>
<a name="2052"><span class="lineNum">    2052 </span>                :            :               off = pd.offset / BITS_PER_UNIT;</a>
<a name="2053"><span class="lineNum">    2053 </span>                :            :               gcc_assert (off &lt; needed_len);</a>
<a name="2054"><span class="lineNum">    2054 </span>                :            :               p = buffer + off;</a>
<a name="2055"><span class="lineNum">    2055 </span>                :            :               if (size &lt;= amnt)</a>
<a name="2056"><span class="lineNum">    2056 </span>                :            :                 {</a>
<a name="2057"><span class="lineNum">    2057 </span>                :            :                   msk = ((1 &lt;&lt; size) - 1) &lt;&lt; (BITS_PER_UNIT - amnt);</a>
<a name="2058"><span class="lineNum">    2058 </span>                :            :                   *p = (*p &amp; ~msk) | (this_buffer[len] &amp; msk);</a>
<a name="2059"><span class="lineNum">    2059 </span>                :            :                   size = 0;</a>
<a name="2060"><span class="lineNum">    2060 </span>                :            :                 }</a>
<a name="2061"><span class="lineNum">    2061 </span>                :            :               else</a>
<a name="2062"><span class="lineNum">    2062 </span>                :            :                 {</a>
<a name="2063"><span class="lineNum">    2063 </span>                :            :                   if (TREE_CODE (pd.rhs) != CONSTRUCTOR)</a>
<a name="2064"><span class="lineNum">    2064 </span>                :            :                     q = (this_buffer + len</a>
<a name="2065"><span class="lineNum">    2065 </span>                :            :                          - (ROUND_UP (size - amnt, BITS_PER_UNIT)</a>
<a name="2066"><span class="lineNum">    2066 </span>                :            :                             / BITS_PER_UNIT));</a>
<a name="2067"><span class="lineNum">    2067 </span>                :            :                   if (pd.offset % BITS_PER_UNIT)</a>
<a name="2068"><span class="lineNum">    2068 </span>                :            :                     {</a>
<a name="2069"><span class="lineNum">    2069 </span>                :            :                       msk = -1U &lt;&lt; (BITS_PER_UNIT</a>
<a name="2070"><span class="lineNum">    2070 </span>                :            :                                     - (pd.offset % BITS_PER_UNIT));</a>
<a name="2071"><span class="lineNum">    2071 </span>                :            :                       *p = (*p &amp; msk) | (*q &amp; ~msk);</a>
<a name="2072"><span class="lineNum">    2072 </span>                :            :                       p++;</a>
<a name="2073"><span class="lineNum">    2073 </span>                :            :                       q++;</a>
<a name="2074"><span class="lineNum">    2074 </span>                :            :                       off++;</a>
<a name="2075"><span class="lineNum">    2075 </span>                :            :                       size -= BITS_PER_UNIT - (pd.offset % BITS_PER_UNIT);</a>
<a name="2076"><span class="lineNum">    2076 </span>                :            :                       gcc_assert (size &gt;= 0);</a>
<a name="2077"><span class="lineNum">    2077 </span>                :            :                     }</a>
<a name="2078"><span class="lineNum">    2078 </span>                :            :                 }</a>
<a name="2079"><span class="lineNum">    2079 </span>                :            :             }</a>
<a name="2080"><span class="lineNum">    2080 </span>                :            :           else if (TREE_CODE (pd.rhs) != CONSTRUCTOR)</a>
<a name="2081"><span class="lineNum">    2081 </span>                :            :             {</a>
<a name="2082"><span class="lineNum">    2082 </span>                :            :               q = (this_buffer + len</a>
<a name="2083"><span class="lineNum">    2083 </span>                :            :                    - (ROUND_UP (size - amnt, BITS_PER_UNIT)</a>
<a name="2084"><span class="lineNum">    2084 </span>                :            :                       / BITS_PER_UNIT));</a>
<a name="2085"><span class="lineNum">    2085 </span>                :            :               if (pd.offset % BITS_PER_UNIT)</a>
<a name="2086"><span class="lineNum">    2086 </span>                :            :                 {</a>
<a name="2087"><span class="lineNum">    2087 </span>                :            :                   q++;</a>
<a name="2088"><span class="lineNum">    2088 </span>                :            :                   size -= BITS_PER_UNIT - ((unsigned HOST_WIDE_INT) pd.offset</a>
<a name="2089"><span class="lineNum">    2089 </span>                :            :                                            % BITS_PER_UNIT);</a>
<a name="2090"><span class="lineNum">    2090 </span>                :            :                   gcc_assert (size &gt;= 0);</a>
<a name="2091"><span class="lineNum">    2091 </span>                :            :                 }</a>
<a name="2092"><span class="lineNum">    2092 </span>                :            :             }</a>
<a name="2093"><span class="lineNum">    2093 </span>                :            :           if ((unsigned HOST_WIDE_INT) size / BITS_PER_UNIT + off</a>
<a name="2094"><span class="lineNum">    2094 </span>                :            :               &gt; needed_len)</a>
<a name="2095"><span class="lineNum">    2095 </span>                :            :             size = (needed_len - off) * BITS_PER_UNIT;</a>
<a name="2096"><span class="lineNum">    2096 </span>                :            :           memcpy (p, q, size / BITS_PER_UNIT);</a>
<a name="2097"><span class="lineNum">    2097 </span>                :            :           if (size % BITS_PER_UNIT)</a>
<a name="2098"><span class="lineNum">    2098 </span>                :            :             {</a>
<a name="2099"><span class="lineNum">    2099 </span>                :            :               unsigned int msk</a>
<a name="2100"><span class="lineNum">    2100 </span>                :            :                 = -1U &lt;&lt; (BITS_PER_UNIT - (size % BITS_PER_UNIT));</a>
<a name="2101"><span class="lineNum">    2101 </span>                :            :               p += size / BITS_PER_UNIT;</a>
<a name="2102"><span class="lineNum">    2102 </span>                :            :               q += size / BITS_PER_UNIT;</a>
<a name="2103"><span class="lineNum">    2103 </span>                :            :               *p = (*q &amp; msk) | (*p &amp; ~msk);</a>
<a name="2104"><span class="lineNum">    2104 </span>                :            :             }</a>
<a name="2105"><span class="lineNum">    2105 </span>                :            :         }</a>
<a name="2106"><span class="lineNum">    2106 </span>                :            :       else</a>
<a name="2107"><span class="lineNum">    2107 </span>                :            :         {</a>
<a name="2108"><span class="lineNum">    2108 </span>        [<span class="branchCov" title="Branch 0 was taken 409 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">        409 :           if (pd.offset &gt;= 0)</span></a>
<a name="2109"><span class="lineNum">    2109 </span>                :            :             {</a>
<a name="2110"><span class="lineNum">    2110 </span>                :            :               /* LSB of this_buffer[0] byte should be at pd.offset bits</a>
<a name="2111"><span class="lineNum">    2111 </span>                :            :                  in buffer.  */</a>
<a name="2112"><span class="lineNum">    2112 </span>                :            :               unsigned int msk;</a>
<a name="2113"><span class="lineNum">    2113 </span>                :<span class="lineCov">        409 :               size = MIN (size, (HOST_WIDE_INT) needed_len * BITS_PER_UNIT);</span></a>
<a name="2114"><span class="lineNum">    2114 </span>                :<span class="lineCov">        409 :               amnt = pd.offset % BITS_PER_UNIT;</span></a>
<a name="2115"><span class="lineNum">    2115 </span>        [<span class="branchCov" title="Branch 0 was taken 58 times"> + </span><span class="branchCov" title="Branch 1 was taken 351 times"> + </span>]:<span class="lineCov">        409 :               if (amnt)</span></a>
<a name="2116"><span class="lineNum">    2116 </span>                :<span class="lineCov">         58 :                 shift_bytes_in_array_left (this_buffer, len + 1, amnt);</span></a>
<a name="2117"><span class="lineNum">    2117 </span>                :<span class="lineCov">        409 :               unsigned int off = pd.offset / BITS_PER_UNIT;</span></a>
<a name="2118"><span class="lineNum">    2118 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 409 times"> + </span>]:<span class="lineCov">        409 :               gcc_assert (off &lt; needed_len);</span></a>
<a name="2119"><span class="lineNum">    2119 </span>                :<span class="lineCov">        409 :               size = MIN (size,</span></a>
<a name="2120"><span class="lineNum">    2120 </span>                :            :                           (HOST_WIDE_INT) (needed_len - off) * BITS_PER_UNIT);</a>
<a name="2121"><span class="lineNum">    2121 </span>                :<span class="lineCov">        409 :               p = buffer + off;</span></a>
<a name="2122"><span class="lineNum">    2122 </span>        [<span class="branchCov" title="Branch 0 was taken 92 times"> + </span><span class="branchCov" title="Branch 1 was taken 317 times"> + </span>]:<span class="lineCov">        409 :               if (amnt + size &lt; BITS_PER_UNIT)</span></a>
<a name="2123"><span class="lineNum">    2123 </span>                :            :                 {</a>
<a name="2124"><span class="lineNum">    2124 </span>                :            :                   /* Low amnt bits come from *p, then size bits</a>
<a name="2125"><span class="lineNum">    2125 </span>                :            :                      from this_buffer[0] and the remaining again from</a>
<a name="2126"><span class="lineNum">    2126 </span>                :            :                      *p.  */</a>
<a name="2127"><span class="lineNum">    2127 </span>                :<span class="lineCov">         92 :                   msk = ((1 &lt;&lt; size) - 1) &lt;&lt; amnt;</span></a>
<a name="2128"><span class="lineNum">    2128 </span>                :<span class="lineCov">         92 :                   *p = (*p &amp; ~msk) | (this_buffer[0] &amp; msk);</span></a>
<a name="2129"><span class="lineNum">    2129 </span>                :<span class="lineCov">         92 :                   size = 0;</span></a>
<a name="2130"><span class="lineNum">    2130 </span>                :            :                 }</a>
<a name="2131"><span class="lineNum">    2131 </span>        [<span class="branchCov" title="Branch 0 was taken 53 times"> + </span><span class="branchCov" title="Branch 1 was taken 264 times"> + </span>]:<span class="lineCov">        317 :               else if (amnt)</span></a>
<a name="2132"><span class="lineNum">    2132 </span>                :            :                 {</a>
<a name="2133"><span class="lineNum">    2133 </span>                :<span class="lineCov">         53 :                   msk = -1U &lt;&lt; amnt;</span></a>
<a name="2134"><span class="lineNum">    2134 </span>                :<span class="lineCov">         53 :                   *p = (*p &amp; ~msk) | (this_buffer[0] &amp; msk);</span></a>
<a name="2135"><span class="lineNum">    2135 </span>                :<span class="lineCov">         53 :                   p++;</span></a>
<a name="2136"><span class="lineNum">    2136 </span>                :<span class="lineCov">         53 :                   size -= (BITS_PER_UNIT - amnt);</span></a>
<a name="2137"><span class="lineNum">    2137 </span>                :            :                 }</a>
<a name="2138"><span class="lineNum">    2138 </span>                :            :             }</a>
<a name="2139"><span class="lineNum">    2139 </span>                :            :           else</a>
<a name="2140"><span class="lineNum">    2140 </span>                :            :             {</a>
<a name="2141"><span class="lineNum">    2141 </span>                :<span class="lineNoCov">          0 :               amnt = (unsigned HOST_WIDE_INT) pd.offset % BITS_PER_UNIT;</span></a>
<a name="2142"><span class="lineNum">    2142 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :               if (amnt)</span></a>
<a name="2143"><span class="lineNum">    2143 </span>                :<span class="lineNoCov">          0 :                 size -= BITS_PER_UNIT - amnt;</span></a>
<a name="2144"><span class="lineNum">    2144 </span>                :<span class="lineNoCov">          0 :               size = MIN (size, (HOST_WIDE_INT) needed_len * BITS_PER_UNIT);</span></a>
<a name="2145"><span class="lineNum">    2145 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :               if (amnt)</span></a>
<a name="2146"><span class="lineNum">    2146 </span>                :<span class="lineNoCov">          0 :                 shift_bytes_in_array_left (this_buffer, len + 1, amnt);</span></a>
<a name="2147"><span class="lineNum">    2147 </span>                :            :             }</a>
<a name="2148"><span class="lineNum">    2148 </span>                :<span class="lineCov">        409 :           memcpy (p, this_buffer + (amnt != 0), size / BITS_PER_UNIT);</span></a>
<a name="2149"><span class="lineNum">    2149 </span>                :<span class="lineCov">        409 :           p += size / BITS_PER_UNIT;</span></a>
<a name="2150"><span class="lineNum">    2150 </span>        [<span class="branchCov" title="Branch 0 was taken 33 times"> + </span><span class="branchCov" title="Branch 1 was taken 376 times"> + </span>]:<span class="lineCov">        409 :           if (size % BITS_PER_UNIT)</span></a>
<a name="2151"><span class="lineNum">    2151 </span>                :            :             {</a>
<a name="2152"><span class="lineNum">    2152 </span>                :<span class="lineCov">         33 :               unsigned int msk = -1U &lt;&lt; (size % BITS_PER_UNIT);</span></a>
<a name="2153"><span class="lineNum">    2153 </span>                :<span class="lineCov">         33 :               *p = (this_buffer[(amnt != 0) + size / BITS_PER_UNIT]</span></a>
<a name="2154"><span class="lineNum">    2154 </span>                :<span class="lineCov">         33 :                     &amp; ~msk) | (*p &amp; msk);</span></a>
<a name="2155"><span class="lineNum">    2155 </span>                :            :             }</a>
<a name="2156"><span class="lineNum">    2156 </span>                :            :         }</a>
<a name="2157"><span class="lineNum">    2157 </span>                :            :     }</a>
<a name="2158"><span class="lineNum">    2158 </span>                :            : </a>
<a name="2159"><span class="lineNum">    2159 </span>                :<span class="lineCov">        166 :   tree type = vr-&gt;type;</span></a>
<a name="2160"><span class="lineNum">    2160 </span>                :            :   /* Make sure to interpret in a type that has a range covering the whole</a>
<a name="2161"><span class="lineNum">    2161 </span>                :            :      access size.  */</a>
<a name="2162"><span class="lineNum">    2162 </span>  [<span class="branchCov" title="Branch 0 was taken 166 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 166 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        166 :   if (INTEGRAL_TYPE_P (vr-&gt;type) &amp;&amp; maxsizei != TYPE_PRECISION (vr-&gt;type))</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 142 times"> + </span><span class="branchCov" title="Branch 5 was taken 24 times"> + </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchCov" title="Branch 7 was taken 142 times"> + </span>]
<a name="2163"><span class="lineNum">    2163 </span>                :<span class="lineNoCov">          0 :     type = build_nonstandard_integer_type (maxsizei, TYPE_UNSIGNED (type));</span></a>
<a name="2164"><span class="lineNum">    2164 </span>                :            :   tree val;</a>
<a name="2165"><span class="lineNum">    2165 </span>                :            :   if (BYTES_BIG_ENDIAN)</a>
<a name="2166"><span class="lineNum">    2166 </span>                :            :     {</a>
<a name="2167"><span class="lineNum">    2167 </span>                :            :       unsigned sz = needed_len;</a>
<a name="2168"><span class="lineNum">    2168 </span>                :            :       if (maxsizei % BITS_PER_UNIT)</a>
<a name="2169"><span class="lineNum">    2169 </span>                :            :         shift_bytes_in_array_right (buffer, needed_len,</a>
<a name="2170"><span class="lineNum">    2170 </span>                :            :                                     BITS_PER_UNIT</a>
<a name="2171"><span class="lineNum">    2171 </span>                :            :                                     - (maxsizei % BITS_PER_UNIT));</a>
<a name="2172"><span class="lineNum">    2172 </span>                :            :       if (INTEGRAL_TYPE_P (type))</a>
<a name="2173"><span class="lineNum">    2173 </span>                :            :         sz = GET_MODE_SIZE (SCALAR_INT_TYPE_MODE (type));</a>
<a name="2174"><span class="lineNum">    2174 </span>                :            :       if (sz &gt; needed_len)</a>
<a name="2175"><span class="lineNum">    2175 </span>                :            :         {</a>
<a name="2176"><span class="lineNum">    2176 </span>                :            :           memcpy (this_buffer + (sz - needed_len), buffer, needed_len);</a>
<a name="2177"><span class="lineNum">    2177 </span>                :            :           val = native_interpret_expr (type, this_buffer, sz);</a>
<a name="2178"><span class="lineNum">    2178 </span>                :            :         }</a>
<a name="2179"><span class="lineNum">    2179 </span>                :            :       else</a>
<a name="2180"><span class="lineNum">    2180 </span>                :            :         val = native_interpret_expr (type, buffer, needed_len);</a>
<a name="2181"><span class="lineNum">    2181 </span>                :            :     }</a>
<a name="2182"><span class="lineNum">    2182 </span>                :            :   else</a>
<a name="2183"><span class="lineNum">    2183 </span>                :<span class="lineCov">        166 :     val = native_interpret_expr (type, buffer, bufsize);</span></a>
<a name="2184"><span class="lineNum">    2184 </span>                :            :   /* If we chop off bits because the types precision doesn't match the memory</a>
<a name="2185"><span class="lineNum">    2185 </span>                :            :      access size this is ok when optimizing reads but not when called from</a>
<a name="2186"><span class="lineNum">    2186 </span>                :            :      the DSE code during elimination.  */</a>
<a name="2187"><span class="lineNum">    2187 </span>  [<span class="branchCov" title="Branch 0 was taken 166 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 166 times"> + </span>]:<span class="lineCov">        166 :   if (val &amp;&amp; type != vr-&gt;type)</span></a>
<a name="2188"><span class="lineNum">    2188 </span>                :            :     {</a>
<a name="2189"><span class="lineNum">    2189 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :       if (! int_fits_type_p (val, vr-&gt;type))</span></a>
<a name="2190"><span class="lineNum">    2190 </span>                :<span class="lineNoCov">          0 :         val = NULL_TREE;</span></a>
<a name="2191"><span class="lineNum">    2191 </span>                :            :       else</a>
<a name="2192"><span class="lineNum">    2192 </span>                :<span class="lineNoCov">          0 :         val = fold_convert (vr-&gt;type, val);</span></a>
<a name="2193"><span class="lineNum">    2193 </span>                :            :     }</a>
<a name="2194"><span class="lineNum">    2194 </span>                :            : </a>
<a name="2195"><span class="lineNum">    2195 </span>        [<span class="branchCov" title="Branch 0 was taken 166 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">        166 :   if (val)</span></a>
<a name="2196"><span class="lineNum">    2196 </span>                :            :     {</a>
<a name="2197"><span class="lineNum">    2197 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 166 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        166 :       if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 166 times"> + </span>]
<a name="2198"><span class="lineNum">    2198 </span>                :<span class="lineNoCov">          0 :         fprintf (dump_file,</span></a>
<a name="2199"><span class="lineNum">    2199 </span>                :            :                  &quot;Successfully combined %u partial definitions\n&quot;, ndefs);</a>
<a name="2200"><span class="lineNum">    2200 </span>                :            :       /* We are using the alias-set of the first store we encounter which</a>
<a name="2201"><span class="lineNum">    2201 </span>                :            :          should be appropriate here.  */</a>
<a name="2202"><span class="lineNum">    2202 </span>                :<span class="lineCov">        166 :       return finish (first_set, first_base_set, val);</span></a>
<a name="2203"><span class="lineNum">    2203 </span>                :            :     }</a>
<a name="2204"><span class="lineNum">    2204 </span>                :            :   else</a>
<a name="2205"><span class="lineNum">    2205 </span>                :            :     {</a>
<a name="2206"><span class="lineNum">    2206 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :       if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="2207"><span class="lineNum">    2207 </span>                :<span class="lineNoCov">          0 :         fprintf (dump_file,</span></a>
<a name="2208"><span class="lineNum">    2208 </span>                :            :                  &quot;Failed to interpret %u encoded partial definitions\n&quot;, ndefs);</a>
<a name="2209"><span class="lineNum">    2209 </span>                :<span class="lineNoCov">          0 :       return (void *)-1;</span></a>
<a name="2210"><span class="lineNum">    2210 </span>                :            :     }</a>
<a name="2211"><span class="lineNum">    2211 </span>                :            : }</a>
<a name="2212"><span class="lineNum">    2212 </span>                :            : </a>
<a name="2213"><span class="lineNum">    2213 </span>                :            : /* Callback for walk_non_aliased_vuses.  Adjusts the vn_reference_t VR_</a>
<a name="2214"><span class="lineNum">    2214 </span>                :            :    with the current VUSE and performs the expression lookup.  */</a>
<a name="2215"><span class="lineNum">    2215 </span>                :            : </a>
<a name="2216"><span class="lineNum">    2216 </span>                :            : static void *</a>
<a name="2217"><span class="lineNum">    2217 </span>                :<span class="lineCov">    6116960 : vn_reference_lookup_2 (ao_ref *op ATTRIBUTE_UNUSED, tree vuse, void *data_)</span></a>
<a name="2218"><span class="lineNum">    2218 </span>                :            : {</a>
<a name="2219"><span class="lineNum">    2219 </span>                :<span class="lineCov">    6116960 :   vn_walk_cb_data *data = (vn_walk_cb_data *)data_;</span></a>
<a name="2220"><span class="lineNum">    2220 </span>                :<span class="lineCov">    6116960 :   vn_reference_t vr = data-&gt;vr;</span></a>
<a name="2221"><span class="lineNum">    2221 </span>                :            :   vn_reference_s **slot;</a>
<a name="2222"><span class="lineNum">    2222 </span>                :            :   hashval_t hash;</a>
<a name="2223"><span class="lineNum">    2223 </span>                :            : </a>
<a name="2224"><span class="lineNum">    2224 </span>                :            :   /* If we have partial definitions recorded we have to go through</a>
<a name="2225"><span class="lineNum">    2225 </span>                :            :      vn_reference_lookup_3.  */</a>
<a name="2226"><span class="lineNum">    2226 </span>        [<span class="branchCov" title="Branch 0 was taken 39033 times"> + </span><span class="branchCov" title="Branch 1 was taken 6077920 times"> + </span>]:<span class="lineCov">    6116960 :   if (!data-&gt;partial_defs.is_empty ())</span></a>
<a name="2227"><span class="lineNum">    2227 </span>                :<span class="lineCov">      39033 :     return NULL;</span></a>
<a name="2228"><span class="lineNum">    2228 </span>                :            : </a>
<a name="2229"><span class="lineNum">    2229 </span>        [<span class="branchCov" title="Branch 0 was taken 5914330 times"> + </span><span class="branchCov" title="Branch 1 was taken 163598 times"> + </span>]:<span class="lineCov">    6077920 :   if (data-&gt;last_vuse_ptr)</span></a>
<a name="2230"><span class="lineNum">    2230 </span>                :            :     {</a>
<a name="2231"><span class="lineNum">    2231 </span>                :<span class="lineCov">    5914330 :       *data-&gt;last_vuse_ptr = vuse;</span></a>
<a name="2232"><span class="lineNum">    2232 </span>                :<span class="lineCov">    5914330 :       data-&gt;last_vuse = vuse;</span></a>
<a name="2233"><span class="lineNum">    2233 </span>                :            :     }</a>
<a name="2234"><span class="lineNum">    2234 </span>                :            : </a>
<a name="2235"><span class="lineNum">    2235 </span>                :            :   /* Fixup vuse and hash.  */</a>
<a name="2236"><span class="lineNum">    2236 </span>        [<span class="branchCov" title="Branch 0 was taken 6077920 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">    6077920 :   if (vr-&gt;vuse)</span></a>
<a name="2237"><span class="lineNum">    2237 </span>                :<span class="lineCov">    6077920 :     vr-&gt;hashcode = vr-&gt;hashcode - SSA_NAME_VERSION (vr-&gt;vuse);</span></a>
<a name="2238"><span class="lineNum">    2238 </span>                :<span class="lineCov">    6077920 :   vr-&gt;vuse = vuse_ssa_val (vuse);</span></a>
<a name="2239"><span class="lineNum">    2239 </span>        [<span class="branchCov" title="Branch 0 was taken 6077920 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">    6077920 :   if (vr-&gt;vuse)</span></a>
<a name="2240"><span class="lineNum">    2240 </span>                :<span class="lineCov">    6077920 :     vr-&gt;hashcode = vr-&gt;hashcode + SSA_NAME_VERSION (vr-&gt;vuse);</span></a>
<a name="2241"><span class="lineNum">    2241 </span>                :            : </a>
<a name="2242"><span class="lineNum">    2242 </span>                :<span class="lineCov">    6077920 :   hash = vr-&gt;hashcode;</span></a>
<a name="2243"><span class="lineNum">    2243 </span>                :<span class="lineCov">    6077920 :   slot = valid_info-&gt;references-&gt;find_slot_with_hash (vr, hash, NO_INSERT);</span></a>
<a name="2244"><span class="lineNum">    2244 </span>        [<span class="branchCov" title="Branch 0 was taken 598936 times"> + </span><span class="branchCov" title="Branch 1 was taken 5478990 times"> + </span>]:<span class="lineCov">    6077920 :   if (slot)</span></a>
<a name="2245"><span class="lineNum">    2245 </span>                :            :     {</a>
<a name="2246"><span class="lineNum">    2246 </span>  [<span class="branchCov" title="Branch 0 was taken 598009 times"> + </span><span class="branchCov" title="Branch 1 was taken 927 times"> + </span><span class="branchCov" title="Branch 2 was taken 3949 times"> + </span><span class="branchCov" title="Branch 3 was taken 594060 times"> + </span> :<span class="lineCov">     598936 :       if ((*slot)-&gt;result &amp;&amp; data-&gt;saved_operands.exists ())</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 3949 times"> + </span><span class="branchCov" title="Branch 5 was taken 594987 times"> + </span>]
<a name="2247"><span class="lineNum">    2247 </span>                :<span class="lineCov">       3949 :         return data-&gt;finish (vr-&gt;set, vr-&gt;base_set, (*slot)-&gt;result);</span></a>
<a name="2248"><span class="lineNum">    2248 </span>                :<span class="lineCov">     594987 :       return *slot;</span></a>
<a name="2249"><span class="lineNum">    2249 </span>                :            :     }</a>
<a name="2250"><span class="lineNum">    2250 </span>                :            : </a>
<a name="2251"><span class="lineNum">    2251 </span>                :<span class="lineCov">    5478990 :   return NULL;</span></a>
<a name="2252"><span class="lineNum">    2252 </span>                :            : }</a>
<a name="2253"><span class="lineNum">    2253 </span>                :            : </a>
<a name="2254"><span class="lineNum">    2254 </span>                :            : /* Lookup an existing or insert a new vn_reference entry into the</a>
<a name="2255"><span class="lineNum">    2255 </span>                :            :    value table for the VUSE, SET, TYPE, OPERANDS reference which</a>
<a name="2256"><span class="lineNum">    2256 </span>                :            :    has the value VALUE which is either a constant or an SSA name.  */</a>
<a name="2257"><span class="lineNum">    2257 </span>                :            : </a>
<a name="2258"><span class="lineNum">    2258 </span>                :            : static vn_reference_t</a>
<a name="2259"><span class="lineNum">    2259 </span>                :<span class="lineCov">      10232 : vn_reference_lookup_or_insert_for_pieces (tree vuse,</span></a>
<a name="2260"><span class="lineNum">    2260 </span>                :            :                                           alias_set_type set,</a>
<a name="2261"><span class="lineNum">    2261 </span>                :            :                                           alias_set_type base_set,</a>
<a name="2262"><span class="lineNum">    2262 </span>                :            :                                           tree type,</a>
<a name="2263"><span class="lineNum">    2263 </span>                :            :                                           vec&lt;vn_reference_op_s,</a>
<a name="2264"><span class="lineNum">    2264 </span>                :            :                                                 va_heap&gt; operands,</a>
<a name="2265"><span class="lineNum">    2265 </span>                :            :                                           tree value)</a>
<a name="2266"><span class="lineNum">    2266 </span>                :            : {</a>
<a name="2267"><span class="lineNum">    2267 </span>                :            :   vn_reference_s vr1;</a>
<a name="2268"><span class="lineNum">    2268 </span>                :            :   vn_reference_t result;</a>
<a name="2269"><span class="lineNum">    2269 </span>                :            :   unsigned value_id;</a>
<a name="2270"><span class="lineNum">    2270 </span>        [<span class="branchCov" title="Branch 0 was taken 10232 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      10232 :   vr1.vuse = vuse ? SSA_VAL (vuse) : NULL_TREE;</span></a>
<a name="2271"><span class="lineNum">    2271 </span>                :<span class="lineCov">      10232 :   vr1.operands = operands;</span></a>
<a name="2272"><span class="lineNum">    2272 </span>                :<span class="lineCov">      10232 :   vr1.type = type;</span></a>
<a name="2273"><span class="lineNum">    2273 </span>                :<span class="lineCov">      10232 :   vr1.set = set;</span></a>
<a name="2274"><span class="lineNum">    2274 </span>                :<span class="lineCov">      10232 :   vr1.base_set = base_set;</span></a>
<a name="2275"><span class="lineNum">    2275 </span>                :<span class="lineCov">      10232 :   vr1.hashcode = vn_reference_compute_hash (&amp;vr1);</span></a>
<a name="2276"><span class="lineNum">    2276 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 10232 times"> + </span>]:<span class="lineCov">      10232 :   if (vn_reference_lookup_1 (&amp;vr1, &amp;result))</span></a>
<a name="2277"><span class="lineNum">    2277 </span>                :<span class="lineNoCov">          0 :     return result;</span></a>
<a name="2278"><span class="lineNum">    2278 </span>        [<span class="branchCov" title="Branch 0 was taken 5492 times"> + </span><span class="branchCov" title="Branch 1 was taken 4740 times"> + </span>]:<span class="lineCov">      10232 :   if (TREE_CODE (value) == SSA_NAME)</span></a>
<a name="2279"><span class="lineNum">    2279 </span>                :<span class="lineCov">       5492 :     value_id = VN_INFO (value)-&gt;value_id;</span></a>
<a name="2280"><span class="lineNum">    2280 </span>                :            :   else</a>
<a name="2281"><span class="lineNum">    2281 </span>                :<span class="lineCov">       4740 :     value_id = get_or_alloc_constant_value_id (value);</span></a>
<a name="2282"><span class="lineNum">    2282 </span>                :<span class="lineCov">      10232 :   return vn_reference_insert_pieces (vuse, set, base_set, type,</span></a>
<a name="2283"><span class="lineNum">    2283 </span>                :<span class="lineCov">      10232 :                                      operands.copy (), value, value_id);</span></a>
<a name="2284"><span class="lineNum">    2284 </span>                :            : }</a>
<a name="2285"><span class="lineNum">    2285 </span>                :            : </a>
<a name="2286"><span class="lineNum">    2286 </span>                :            : /* Return a value-number for RCODE OPS... either by looking up an existing</a>
<a name="2287"><span class="lineNum">    2287 </span>                :            :    value-number for the simplified result or by inserting the operation if</a>
<a name="2288"><span class="lineNum">    2288 </span>                :            :    INSERT is true.  */</a>
<a name="2289"><span class="lineNum">    2289 </span>                :            : </a>
<a name="2290"><span class="lineNum">    2290 </span>                :            : static tree</a>
<a name="2291"><span class="lineNum">    2291 </span>                :<span class="lineCov">     477345 : vn_nary_build_or_lookup_1 (gimple_match_op *res_op, bool insert)</span></a>
<a name="2292"><span class="lineNum">    2292 </span>                :            : {</a>
<a name="2293"><span class="lineNum">    2293 </span>                :<span class="lineCov">     477345 :   tree result = NULL_TREE;</span></a>
<a name="2294"><span class="lineNum">    2294 </span>                :            :   /* We will be creating a value number for</a>
<a name="2295"><span class="lineNum">    2295 </span>                :            :        RCODE (OPS...).</a>
<a name="2296"><span class="lineNum">    2296 </span>                :            :      So first simplify and lookup this expression to see if it</a>
<a name="2297"><span class="lineNum">    2297 </span>                :            :      is already available.  */</a>
<a name="2298"><span class="lineNum">    2298 </span>                :            :   /* For simplification valueize.  */</a>
<a name="2299"><span class="lineNum">    2299 </span>                :            :   unsigned i;</a>
<a name="2300"><span class="lineNum">    2300 </span>        [<span class="branchCov" title="Branch 0 was taken 658372 times"> + </span><span class="branchCov" title="Branch 1 was taken 477345 times"> + </span>]:<span class="lineCov">    1135720 :   for (i = 0; i &lt; res_op-&gt;num_ops; ++i)</span></a>
<a name="2301"><span class="lineNum">    2301 </span>        [<span class="branchCov" title="Branch 0 was taken 446266 times"> + </span><span class="branchCov" title="Branch 1 was taken 212106 times"> + </span>]:<span class="lineCov">     658372 :     if (TREE_CODE (res_op-&gt;ops[i]) == SSA_NAME)</span></a>
<a name="2302"><span class="lineNum">    2302 </span>                :            :       {</a>
<a name="2303"><span class="lineNum">    2303 </span>                :<span class="lineCov">     446266 :         tree tem = vn_valueize (res_op-&gt;ops[i]);</span></a>
<a name="2304"><span class="lineNum">    2304 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 446266 times"> + </span>]:<span class="lineCov">     446266 :         if (!tem)</span></a>
<a name="2305"><span class="lineNum">    2305 </span>                :<span class="lineNoCov">          0 :           break;</span></a>
<a name="2306"><span class="lineNum">    2306 </span>                :<span class="lineCov">     446266 :         res_op-&gt;ops[i] = tem;</span></a>
<a name="2307"><span class="lineNum">    2307 </span>                :            :       }</a>
<a name="2308"><span class="lineNum">    2308 </span>                :            :   /* If valueization of an operand fails (it is not available), skip</a>
<a name="2309"><span class="lineNum">    2309 </span>                :            :      simplification.  */</a>
<a name="2310"><span class="lineNum">    2310 </span>                :<span class="lineCov">     477345 :   bool res = false;</span></a>
<a name="2311"><span class="lineNum">    2311 </span>        [<span class="branchCov" title="Branch 0 was taken 477345 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     477345 :   if (i == res_op-&gt;num_ops)</span></a>
<a name="2312"><span class="lineNum">    2312 </span>                :            :     {</a>
<a name="2313"><span class="lineNum">    2313 </span>                :<span class="lineCov">     477345 :       mprts_hook = vn_lookup_simplify_result;</span></a>
<a name="2314"><span class="lineNum">    2314 </span>                :<span class="lineCov">     477345 :       res = res_op-&gt;resimplify (NULL, vn_valueize);</span></a>
<a name="2315"><span class="lineNum">    2315 </span>                :<span class="lineCov">     477345 :       mprts_hook = NULL;</span></a>
<a name="2316"><span class="lineNum">    2316 </span>                :            :     }</a>
<a name="2317"><span class="lineNum">    2317 </span>                :<span class="lineCov">     477345 :   gimple *new_stmt = NULL;</span></a>
<a name="2318"><span class="lineNum">    2318 </span>                :<span class="lineCov">     477345 :   if (res</span></a>
<a name="2319"><span class="lineNum">    2319 </span>  [<span class="branchCov" title="Branch 0 was taken 154414 times"> + </span><span class="branchCov" title="Branch 1 was taken 322931 times"> + </span><span class="branchCov" title="Branch 2 was taken 104041 times"> + </span><span class="branchCov" title="Branch 3 was taken 50373 times"> + </span> :<span class="lineCov">     477345 :       &amp;&amp; gimple_simplified_result_is_gimple_val (res_op))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 104041 times"> + </span><span class="branchCov" title="Branch 5 was taken 373304 times"> + </span>]
<a name="2320"><span class="lineNum">    2320 </span>                :            :     {</a>
<a name="2321"><span class="lineNum">    2321 </span>                :            :       /* The expression is already available.  */</a>
<a name="2322"><span class="lineNum">    2322 </span>                :<span class="lineCov">     104041 :       result = res_op-&gt;ops[0];</span></a>
<a name="2323"><span class="lineNum">    2323 </span>                :            :       /* Valueize it, simplification returns sth in AVAIL only.  */</a>
<a name="2324"><span class="lineNum">    2324 </span>        [<span class="branchCov" title="Branch 0 was taken 5409 times"> + </span><span class="branchCov" title="Branch 1 was taken 98632 times"> + </span>]:<span class="lineCov">     104041 :       if (TREE_CODE (result) == SSA_NAME)</span></a>
<a name="2325"><span class="lineNum">    2325 </span>                :<span class="lineCov">       5409 :         result = SSA_VAL (result);</span></a>
<a name="2326"><span class="lineNum">    2326 </span>                :            :     }</a>
<a name="2327"><span class="lineNum">    2327 </span>                :            :   else</a>
<a name="2328"><span class="lineNum">    2328 </span>                :            :     {</a>
<a name="2329"><span class="lineNum">    2329 </span>                :<span class="lineCov">     373304 :       tree val = vn_lookup_simplify_result (res_op);</span></a>
<a name="2330"><span class="lineNum">    2330 </span>  [<span class="branchCov" title="Branch 0 was taken 365767 times"> + </span><span class="branchCov" title="Branch 1 was taken 7537 times"> + </span><span class="branchCov" title="Branch 2 was taken 2085 times"> + </span><span class="branchCov" title="Branch 3 was taken 363682 times"> + </span>]:<span class="lineCov">     373304 :       if (!val &amp;&amp; insert)</span></a>
<a name="2331"><span class="lineNum">    2331 </span>                :            :         {</a>
<a name="2332"><span class="lineNum">    2332 </span>                :<span class="lineCov">       2085 :           gimple_seq stmts = NULL;</span></a>
<a name="2333"><span class="lineNum">    2333 </span>                :<span class="lineCov">       2085 :           result = maybe_push_res_to_seq (res_op, &amp;stmts);</span></a>
<a name="2334"><span class="lineNum">    2334 </span>        [<span class="branchCov" title="Branch 0 was taken 2085 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       2085 :           if (result)</span></a>
<a name="2335"><span class="lineNum">    2335 </span>                :            :             {</a>
<a name="2336"><span class="lineNum">    2336 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 2085 times"> + </span>]:<span class="lineCov">       2085 :               gcc_assert (gimple_seq_singleton_p (stmts));</span></a>
<a name="2337"><span class="lineNum">    2337 </span>                :<span class="lineCov">       2085 :               new_stmt = gimple_seq_first_stmt (stmts);</span></a>
<a name="2338"><span class="lineNum">    2338 </span>                :<span class="lineCov">       2085 :             }</span></a>
<a name="2339"><span class="lineNum">    2339 </span>                :            :         }</a>
<a name="2340"><span class="lineNum">    2340 </span>                :            :       else</a>
<a name="2341"><span class="lineNum">    2341 </span>                :            :         /* The expression is already available.  */</a>
<a name="2342"><span class="lineNum">    2342 </span>                :<span class="lineCov">     371219 :         result = val;</span></a>
<a name="2343"><span class="lineNum">    2343 </span>                :            :     }</a>
<a name="2344"><span class="lineNum">    2344 </span>        [<span class="branchCov" title="Branch 0 was taken 2085 times"> + </span><span class="branchCov" title="Branch 1 was taken 475260 times"> + </span>]:<span class="lineCov">     477345 :   if (new_stmt)</span></a>
<a name="2345"><span class="lineNum">    2345 </span>                :            :     {</a>
<a name="2346"><span class="lineNum">    2346 </span>                :            :       /* The expression is not yet available, value-number lhs to</a>
<a name="2347"><span class="lineNum">    2347 </span>                :            :          the new SSA_NAME we created.  */</a>
<a name="2348"><span class="lineNum">    2348 </span>                :            :       /* Initialize value-number information properly.  */</a>
<a name="2349"><span class="lineNum">    2349 </span>                :<span class="lineCov">       2085 :       vn_ssa_aux_t result_info = VN_INFO (result);</span></a>
<a name="2350"><span class="lineNum">    2350 </span>                :<span class="lineCov">       2085 :       result_info-&gt;valnum = result;</span></a>
<a name="2351"><span class="lineNum">    2351 </span>                :<span class="lineCov">       2085 :       result_info-&gt;value_id = get_next_value_id ();</span></a>
<a name="2352"><span class="lineNum">    2352 </span>                :<span class="lineCov">       2085 :       result_info-&gt;visited = 1;</span></a>
<a name="2353"><span class="lineNum">    2353 </span>                :<span class="lineCov">       2085 :       gimple_seq_add_stmt_without_update (&amp;VN_INFO (result)-&gt;expr,</span></a>
<a name="2354"><span class="lineNum">    2354 </span>                :            :                                           new_stmt);</a>
<a name="2355"><span class="lineNum">    2355 </span>                :<span class="lineCov">       2085 :       result_info-&gt;needs_insertion = true;</span></a>
<a name="2356"><span class="lineNum">    2356 </span>                :            :       /* ???  PRE phi-translation inserts NARYs without corresponding</a>
<a name="2357"><span class="lineNum">    2357 </span>                :            :          SSA name result.  Re-use those but set their result according</a>
<a name="2358"><span class="lineNum">    2358 </span>                :            :          to the stmt we just built.  */</a>
<a name="2359"><span class="lineNum">    2359 </span>                :<span class="lineCov">       2085 :       vn_nary_op_t nary = NULL;</span></a>
<a name="2360"><span class="lineNum">    2360 </span>                :<span class="lineCov">       2085 :       vn_nary_op_lookup_stmt (new_stmt, &amp;nary);</span></a>
<a name="2361"><span class="lineNum">    2361 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 2085 times"> + </span>]:<span class="lineCov">       2085 :       if (nary)</span></a>
<a name="2362"><span class="lineNum">    2362 </span>                :            :         {</a>
<a name="2363"><span class="lineNum">    2363 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span>]:<span class="lineNoCov">          0 :           gcc_assert (! nary-&gt;predicated_values &amp;&amp; nary-&gt;u.result == NULL_TREE);</span></a>
<a name="2364"><span class="lineNum">    2364 </span>                :<span class="lineNoCov">          0 :           nary-&gt;u.result = gimple_assign_lhs (new_stmt);</span></a>
<a name="2365"><span class="lineNum">    2365 </span>                :            :         }</a>
<a name="2366"><span class="lineNum">    2366 </span>                :            :       /* As all &quot;inserted&quot; statements are singleton SCCs, insert</a>
<a name="2367"><span class="lineNum">    2367 </span>                :            :          to the valid table.  This is strictly needed to</a>
<a name="2368"><span class="lineNum">    2368 </span>                :            :          avoid re-generating new value SSA_NAMEs for the same</a>
<a name="2369"><span class="lineNum">    2369 </span>                :            :          expression during SCC iteration over and over (the</a>
<a name="2370"><span class="lineNum">    2370 </span>                :            :          optimistic table gets cleared after each iteration).</a>
<a name="2371"><span class="lineNum">    2371 </span>                :            :          We do not need to insert into the optimistic table, as</a>
<a name="2372"><span class="lineNum">    2372 </span>                :            :          lookups there will fall back to the valid table.  */</a>
<a name="2373"><span class="lineNum">    2373 </span>                :            :       else</a>
<a name="2374"><span class="lineNum">    2374 </span>                :            :         {</a>
<a name="2375"><span class="lineNum">    2375 </span>                :<span class="lineCov">       2085 :           unsigned int length = vn_nary_length_from_stmt (new_stmt);</span></a>
<a name="2376"><span class="lineNum">    2376 </span>                :            :           vn_nary_op_t vno1</a>
<a name="2377"><span class="lineNum">    2377 </span>                :<span class="lineCov">       2085 :             = alloc_vn_nary_op_noinit (length, &amp;vn_tables_insert_obstack);</span></a>
<a name="2378"><span class="lineNum">    2378 </span>                :<span class="lineCov">       2085 :           vno1-&gt;value_id = result_info-&gt;value_id;</span></a>
<a name="2379"><span class="lineNum">    2379 </span>                :<span class="lineCov">       2085 :           vno1-&gt;length = length;</span></a>
<a name="2380"><span class="lineNum">    2380 </span>                :<span class="lineCov">       2085 :           vno1-&gt;predicated_values = 0;</span></a>
<a name="2381"><span class="lineNum">    2381 </span>                :<span class="lineCov">       2085 :           vno1-&gt;u.result = result;</span></a>
<a name="2382"><span class="lineNum">    2382 </span>                :<span class="lineCov">       2085 :           init_vn_nary_op_from_stmt (vno1, new_stmt);</span></a>
<a name="2383"><span class="lineNum">    2383 </span>                :<span class="lineCov">       2085 :           vn_nary_op_insert_into (vno1, valid_info-&gt;nary, true);</span></a>
<a name="2384"><span class="lineNum">    2384 </span>                :            :           /* Also do not link it into the undo chain.  */</a>
<a name="2385"><span class="lineNum">    2385 </span>                :<span class="lineCov">       2085 :           last_inserted_nary = vno1-&gt;next;</span></a>
<a name="2386"><span class="lineNum">    2386 </span>                :<span class="lineCov">       2085 :           vno1-&gt;next = (vn_nary_op_t)(void *)-1;</span></a>
<a name="2387"><span class="lineNum">    2387 </span>                :            :         }</a>
<a name="2388"><span class="lineNum">    2388 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 2085 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">       2085 :       if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 2085 times"> + </span>]
<a name="2389"><span class="lineNum">    2389 </span>                :            :         {</a>
<a name="2390"><span class="lineNum">    2390 </span>                :<span class="lineNoCov">          0 :           fprintf (dump_file, &quot;Inserting name &quot;);</span></a>
<a name="2391"><span class="lineNum">    2391 </span>                :<span class="lineNoCov">          0 :           print_generic_expr (dump_file, result);</span></a>
<a name="2392"><span class="lineNum">    2392 </span>                :<span class="lineNoCov">          0 :           fprintf (dump_file, &quot; for expression &quot;);</span></a>
<a name="2393"><span class="lineNum">    2393 </span>                :<span class="lineNoCov">          0 :           print_gimple_expr (dump_file, new_stmt, 0, TDF_SLIM);</span></a>
<a name="2394"><span class="lineNum">    2394 </span>                :<span class="lineNoCov">          0 :           fprintf (dump_file, &quot;\n&quot;);</span></a>
<a name="2395"><span class="lineNum">    2395 </span>                :            :         }</a>
<a name="2396"><span class="lineNum">    2396 </span>                :            :     }</a>
<a name="2397"><span class="lineNum">    2397 </span>                :<span class="lineCov">     477345 :   return result;</span></a>
<a name="2398"><span class="lineNum">    2398 </span>                :            : }</a>
<a name="2399"><span class="lineNum">    2399 </span>                :            : </a>
<a name="2400"><span class="lineNum">    2400 </span>                :            : /* Return a value-number for RCODE OPS... either by looking up an existing</a>
<a name="2401"><span class="lineNum">    2401 </span>                :            :    value-number for the simplified result or by inserting the operation.  */</a>
<a name="2402"><span class="lineNum">    2402 </span>                :            : </a>
<a name="2403"><span class="lineNum">    2403 </span>                :            : static tree</a>
<a name="2404"><span class="lineNum">    2404 </span>                :<span class="lineCov">       2816 : vn_nary_build_or_lookup (gimple_match_op *res_op)</span></a>
<a name="2405"><span class="lineNum">    2405 </span>                :            : {</a>
<a name="2406"><span class="lineNum">    2406 </span>                :<span class="lineCov">       2816 :   return vn_nary_build_or_lookup_1 (res_op, true);</span></a>
<a name="2407"><span class="lineNum">    2407 </span>                :            : }</a>
<a name="2408"><span class="lineNum">    2408 </span>                :            : </a>
<a name="2409"><span class="lineNum">    2409 </span>                :            : /* Try to simplify the expression RCODE OPS... of type TYPE and return</a>
<a name="2410"><span class="lineNum">    2410 </span>                :            :    its value if present.  */</a>
<a name="2411"><span class="lineNum">    2411 </span>                :            : </a>
<a name="2412"><span class="lineNum">    2412 </span>                :            : tree</a>
<a name="2413"><span class="lineNum">    2413 </span>                :<span class="lineCov">     228578 : vn_nary_simplify (vn_nary_op_t nary)</span></a>
<a name="2414"><span class="lineNum">    2414 </span>                :            : {</a>
<a name="2415"><span class="lineNum">    2415 </span>        [<span class="branchCov" title="Branch 0 was taken 2 times"> + </span><span class="branchCov" title="Branch 1 was taken 228576 times"> + </span>]:<span class="lineCov">     228578 :   if (nary-&gt;length &gt; gimple_match_op::MAX_NUM_OPS)</span></a>
<a name="2416"><span class="lineNum">    2416 </span>                :<span class="lineCov">          2 :     return NULL_TREE;</span></a>
<a name="2417"><span class="lineNum">    2417 </span>                :<span class="lineCov">     228576 :   gimple_match_op op (gimple_match_cond::UNCOND, nary-&gt;opcode,</span></a>
<a name="2418"><span class="lineNum">    2418 </span>                :<span class="lineCov">     228576 :                       nary-&gt;type, nary-&gt;length);</span></a>
<a name="2419"><span class="lineNum">    2419 </span>                :<span class="lineCov">     228576 :   memcpy (op.ops, nary-&gt;op, sizeof (tree) * nary-&gt;length);</span></a>
<a name="2420"><span class="lineNum">    2420 </span>                :<span class="lineCov">     228576 :   return vn_nary_build_or_lookup_1 (&amp;op, false);</span></a>
<a name="2421"><span class="lineNum">    2421 </span>                :            : }</a>
<a name="2422"><span class="lineNum">    2422 </span>                :            : </a>
<a name="2423"><span class="lineNum">    2423 </span>                :            : /* Elimination engine.  */</a>
<a name="2424"><span class="lineNum">    2424 </span>                :            : </a>
<a name="2425"><span class="lineNum">    2425 </span>                :            : class eliminate_dom_walker : public dom_walker</a>
<a name="2426"><span class="lineNum">    2426 </span>                :            : {</a>
<a name="2427"><span class="lineNum">    2427 </span>                :            : public:</a>
<a name="2428"><span class="lineNum">    2428 </span>                :            :   eliminate_dom_walker (cdi_direction, bitmap);</a>
<a name="2429"><span class="lineNum">    2429 </span>                :            :   ~eliminate_dom_walker ();</a>
<a name="2430"><span class="lineNum">    2430 </span>                :            : </a>
<a name="2431"><span class="lineNum">    2431 </span>                :            :   virtual edge before_dom_children (basic_block);</a>
<a name="2432"><span class="lineNum">    2432 </span>                :            :   virtual void after_dom_children (basic_block);</a>
<a name="2433"><span class="lineNum">    2433 </span>                :            : </a>
<a name="2434"><span class="lineNum">    2434 </span>                :            :   virtual tree eliminate_avail (basic_block, tree op);</a>
<a name="2435"><span class="lineNum">    2435 </span>                :            :   virtual void eliminate_push_avail (basic_block, tree op);</a>
<a name="2436"><span class="lineNum">    2436 </span>                :            :   tree eliminate_insert (basic_block, gimple_stmt_iterator *gsi, tree val);</a>
<a name="2437"><span class="lineNum">    2437 </span>                :            : </a>
<a name="2438"><span class="lineNum">    2438 </span>                :            :   void eliminate_stmt (basic_block, gimple_stmt_iterator *);</a>
<a name="2439"><span class="lineNum">    2439 </span>                :            : </a>
<a name="2440"><span class="lineNum">    2440 </span>                :            :   unsigned eliminate_cleanup (bool region_p = false);</a>
<a name="2441"><span class="lineNum">    2441 </span>                :            : </a>
<a name="2442"><span class="lineNum">    2442 </span>                :            :   bool do_pre;</a>
<a name="2443"><span class="lineNum">    2443 </span>                :            :   unsigned int el_todo;</a>
<a name="2444"><span class="lineNum">    2444 </span>                :            :   unsigned int eliminations;</a>
<a name="2445"><span class="lineNum">    2445 </span>                :            :   unsigned int insertions;</a>
<a name="2446"><span class="lineNum">    2446 </span>                :            : </a>
<a name="2447"><span class="lineNum">    2447 </span>                :            :   /* SSA names that had their defs inserted by PRE if do_pre.  */</a>
<a name="2448"><span class="lineNum">    2448 </span>                :            :   bitmap inserted_exprs;</a>
<a name="2449"><span class="lineNum">    2449 </span>                :            : </a>
<a name="2450"><span class="lineNum">    2450 </span>                :            :   /* Blocks with statements that have had their EH properties changed.  */</a>
<a name="2451"><span class="lineNum">    2451 </span>                :            :   bitmap need_eh_cleanup;</a>
<a name="2452"><span class="lineNum">    2452 </span>                :            : </a>
<a name="2453"><span class="lineNum">    2453 </span>                :            :   /* Blocks with statements that have had their AB properties changed.  */</a>
<a name="2454"><span class="lineNum">    2454 </span>                :            :   bitmap need_ab_cleanup;</a>
<a name="2455"><span class="lineNum">    2455 </span>                :            : </a>
<a name="2456"><span class="lineNum">    2456 </span>                :            :   /* Local state for the eliminate domwalk.  */</a>
<a name="2457"><span class="lineNum">    2457 </span>                :            :   auto_vec&lt;gimple *&gt; to_remove;</a>
<a name="2458"><span class="lineNum">    2458 </span>                :            :   auto_vec&lt;gimple *&gt; to_fixup;</a>
<a name="2459"><span class="lineNum">    2459 </span>                :            :   auto_vec&lt;tree&gt; avail;</a>
<a name="2460"><span class="lineNum">    2460 </span>                :            :   auto_vec&lt;tree&gt; avail_stack;</a>
<a name="2461"><span class="lineNum">    2461 </span>                :            : };</a>
<a name="2462"><span class="lineNum">    2462 </span>                :            : </a>
<a name="2463"><span class="lineNum">    2463 </span>                :            : /* Adaptor to the elimination engine using RPO availability.  */</a>
<a name="2464"><span class="lineNum">    2464 </span>                :            : </a>
<a name="2465"><span class="lineNum">    2465 </span>                :            : class rpo_elim : public eliminate_dom_walker</a>
<a name="2466"><span class="lineNum">    2466 </span>                :            : {</a>
<a name="2467"><span class="lineNum">    2467 </span>                :            : public:</a>
<a name="2468"><span class="lineNum">    2468 </span>                :<span class="lineCov">     264650 :   rpo_elim(basic_block entry_)</span></a>
<a name="2469"><span class="lineNum">    2469 </span>                :<span class="lineCov">     264650 :     : eliminate_dom_walker (CDI_DOMINATORS, NULL), entry (entry_),</span></a>
<a name="2470"><span class="lineNum">    2470 </span>                :<span class="lineCov">     264650 :       m_avail_freelist (NULL) {}</span></a>
<a name="2471"><span class="lineNum">    2471 </span>                :            : </a>
<a name="2472"><span class="lineNum">    2472 </span>                :            :   virtual tree eliminate_avail (basic_block, tree op);</a>
<a name="2473"><span class="lineNum">    2473 </span>                :            : </a>
<a name="2474"><span class="lineNum">    2474 </span>                :            :   virtual void eliminate_push_avail (basic_block, tree);</a>
<a name="2475"><span class="lineNum">    2475 </span>                :            : </a>
<a name="2476"><span class="lineNum">    2476 </span>                :            :   basic_block entry;</a>
<a name="2477"><span class="lineNum">    2477 </span>                :            :   /* Freelist of avail entries which are allocated from the vn_ssa_aux</a>
<a name="2478"><span class="lineNum">    2478 </span>                :            :      obstack.  */</a>
<a name="2479"><span class="lineNum">    2479 </span>                :            :   vn_avail *m_avail_freelist;</a>
<a name="2480"><span class="lineNum">    2480 </span>                :            : };</a>
<a name="2481"><span class="lineNum">    2481 </span>                :            : </a>
<a name="2482"><span class="lineNum">    2482 </span>                :            : /* Global RPO state for access from hooks.  */</a>
<a name="2483"><span class="lineNum">    2483 </span>                :            : static eliminate_dom_walker *rpo_avail;</a>
<a name="2484"><span class="lineNum">    2484 </span>                :            : basic_block vn_context_bb;</a>
<a name="2485"><span class="lineNum">    2485 </span>                :            : </a>
<a name="2486"><span class="lineNum">    2486 </span>                :            : /* Return true if BASE1 and BASE2 can be adjusted so they have the</a>
<a name="2487"><span class="lineNum">    2487 </span>                :            :    same address and adjust *OFFSET1 and *OFFSET2 accordingly.</a>
<a name="2488"><span class="lineNum">    2488 </span>                :            :    Otherwise return false.  */</a>
<a name="2489"><span class="lineNum">    2489 </span>                :            : </a>
<a name="2490"><span class="lineNum">    2490 </span>                :            : static bool</a>
<a name="2491"><span class="lineNum">    2491 </span>                :<span class="lineCov">     197594 : adjust_offsets_for_equal_base_address (tree base1, poly_int64 *offset1,</span></a>
<a name="2492"><span class="lineNum">    2492 </span>                :            :                                        tree base2, poly_int64 *offset2)</a>
<a name="2493"><span class="lineNum">    2493 </span>                :            : {</a>
<a name="2494"><span class="lineNum">    2494 </span>                :<span class="lineCov">     197594 :   poly_int64 soff;</span></a>
<a name="2495"><span class="lineNum">    2495 </span>        [<span class="branchCov" title="Branch 0 was taken 86427 times"> + </span><span class="branchCov" title="Branch 1 was taken 111167 times"> + </span>]:<span class="lineCov">     197594 :   if (TREE_CODE (base1) == MEM_REF</span></a>
<a name="2496"><span class="lineNum">    2496 </span>        [<span class="branchCov" title="Branch 0 was taken 78608 times"> + </span><span class="branchCov" title="Branch 1 was taken 7819 times"> + </span>]:<span class="lineCov">      86427 :       &amp;&amp; TREE_CODE (base2) == MEM_REF)</span></a>
<a name="2497"><span class="lineNum">    2497 </span>                :            :     {</a>
<a name="2498"><span class="lineNum">    2498 </span>        [<span class="branchCov" title="Branch 0 was taken 78608 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      78608 :       if (mem_ref_offset (base1).to_shwi (&amp;soff))</span></a>
<a name="2499"><span class="lineNum">    2499 </span>                :            :         {</a>
<a name="2500"><span class="lineNum">    2500 </span>                :<span class="lineCov">      78608 :           base1 = TREE_OPERAND (base1, 0);</span></a>
<a name="2501"><span class="lineNum">    2501 </span>                :<span class="lineCov">      78608 :           *offset1 += soff * BITS_PER_UNIT;</span></a>
<a name="2502"><span class="lineNum">    2502 </span>                :            :         }</a>
<a name="2503"><span class="lineNum">    2503 </span>        [<span class="branchCov" title="Branch 0 was taken 78608 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      78608 :       if (mem_ref_offset (base2).to_shwi (&amp;soff))</span></a>
<a name="2504"><span class="lineNum">    2504 </span>                :            :         {</a>
<a name="2505"><span class="lineNum">    2505 </span>                :<span class="lineCov">      78608 :           base2 = TREE_OPERAND (base2, 0);</span></a>
<a name="2506"><span class="lineNum">    2506 </span>                :<span class="lineCov">      78608 :           *offset2 += soff * BITS_PER_UNIT;</span></a>
<a name="2507"><span class="lineNum">    2507 </span>                :            :         }</a>
<a name="2508"><span class="lineNum">    2508 </span>                :<span class="lineCov">      78608 :       return operand_equal_p (base1, base2, 0);</span></a>
<a name="2509"><span class="lineNum">    2509 </span>                :            :     }</a>
<a name="2510"><span class="lineNum">    2510 </span>                :<span class="lineCov">     118986 :   return operand_equal_p (base1, base2, OEP_ADDRESS_OF);</span></a>
<a name="2511"><span class="lineNum">    2511 </span>                :            : }</a>
<a name="2512"><span class="lineNum">    2512 </span>                :            : </a>
<a name="2513"><span class="lineNum">    2513 </span>                :            : /* Callback for walk_non_aliased_vuses.  Tries to perform a lookup</a>
<a name="2514"><span class="lineNum">    2514 </span>                :            :    from the statement defining VUSE and if not successful tries to</a>
<a name="2515"><span class="lineNum">    2515 </span>                :            :    translate *REFP and VR_ through an aggregate copy at the definition</a>
<a name="2516"><span class="lineNum">    2516 </span>                :            :    of VUSE.  If *DISAMBIGUATE_ONLY is true then do not perform translation</a>
<a name="2517"><span class="lineNum">    2517 </span>                :            :    of *REF and *VR.  If only disambiguation was performed then</a>
<a name="2518"><span class="lineNum">    2518 </span>                :            :    *DISAMBIGUATE_ONLY is set to true.  */</a>
<a name="2519"><span class="lineNum">    2519 </span>                :            : </a>
<a name="2520"><span class="lineNum">    2520 </span>                :            : static void *</a>
<a name="2521"><span class="lineNum">    2521 </span>                :<span class="lineCov">     955308 : vn_reference_lookup_3 (ao_ref *ref, tree vuse, void *data_,</span></a>
<a name="2522"><span class="lineNum">    2522 </span>                :            :                        translate_flags *disambiguate_only)</a>
<a name="2523"><span class="lineNum">    2523 </span>                :            : {</a>
<a name="2524"><span class="lineNum">    2524 </span>                :<span class="lineCov">     955308 :   vn_walk_cb_data *data = (vn_walk_cb_data *)data_;</span></a>
<a name="2525"><span class="lineNum">    2525 </span>                :<span class="lineCov">     955308 :   vn_reference_t vr = data-&gt;vr;</span></a>
<a name="2526"><span class="lineNum">    2526 </span>                :<span class="lineCov">     955308 :   gimple *def_stmt = SSA_NAME_DEF_STMT (vuse);</span></a>
<a name="2527"><span class="lineNum">    2527 </span>                :<span class="lineCov">     955308 :   tree base = ao_ref_base (ref);</span></a>
<a name="2528"><span class="lineNum">    2528 </span>                :<span class="lineCov">     955308 :   HOST_WIDE_INT offseti = 0, maxsizei, sizei = 0;</span></a>
<a name="2529"><span class="lineNum">    2529 </span>                :            :   static vec&lt;vn_reference_op_s&gt; lhs_ops;</a>
<a name="2530"><span class="lineNum">    2530 </span>                :<span class="lineCov">     955308 :   ao_ref lhs_ref;</span></a>
<a name="2531"><span class="lineNum">    2531 </span>                :<span class="lineCov">     955308 :   bool lhs_ref_ok = false;</span></a>
<a name="2532"><span class="lineNum">    2532 </span>                :<span class="lineCov">     955308 :   poly_int64 copy_size;</span></a>
<a name="2533"><span class="lineNum">    2533 </span>                :            : </a>
<a name="2534"><span class="lineNum">    2534 </span>                :            :   /* First try to disambiguate after value-replacing in the definitions LHS.  */</a>
<a name="2535"><span class="lineNum">    2535 </span>        [<span class="branchCov" title="Branch 0 was taken 408950 times"> + </span><span class="branchCov" title="Branch 1 was taken 546358 times"> + </span>]:<span class="lineCov">     955308 :   if (is_gimple_assign (def_stmt))</span></a>
<a name="2536"><span class="lineNum">    2536 </span>                :            :     {</a>
<a name="2537"><span class="lineNum">    2537 </span>                :<span class="lineCov">     408950 :       tree lhs = gimple_assign_lhs (def_stmt);</span></a>
<a name="2538"><span class="lineNum">    2538 </span>                :<span class="lineCov">     408950 :       bool valueized_anything = false;</span></a>
<a name="2539"><span class="lineNum">    2539 </span>                :            :       /* Avoid re-allocation overhead.  */</a>
<a name="2540"><span class="lineNum">    2540 </span>                :<span class="lineCov">     408950 :       lhs_ops.truncate (0);</span></a>
<a name="2541"><span class="lineNum">    2541 </span>                :<span class="lineCov">     408950 :       basic_block saved_rpo_bb = vn_context_bb;</span></a>
<a name="2542"><span class="lineNum">    2542 </span>                :<span class="lineCov">     408950 :       vn_context_bb = gimple_bb (def_stmt);</span></a>
<a name="2543"><span class="lineNum">    2543 </span>        [<span class="branchCov" title="Branch 0 was taken 337743 times"> + </span><span class="branchCov" title="Branch 1 was taken 71207 times"> + </span>]:<span class="lineCov">     408950 :       if (*disambiguate_only &lt;= TR_VALUEIZE_AND_DISAMBIGUATE)</span></a>
<a name="2544"><span class="lineNum">    2544 </span>                :            :         {</a>
<a name="2545"><span class="lineNum">    2545 </span>                :<span class="lineCov">     337743 :           copy_reference_ops_from_ref (lhs, &amp;lhs_ops);</span></a>
<a name="2546"><span class="lineNum">    2546 </span>                :<span class="lineCov">     337743 :           valueize_refs_1 (&amp;lhs_ops, &amp;valueized_anything, true);</span></a>
<a name="2547"><span class="lineNum">    2547 </span>                :            :         }</a>
<a name="2548"><span class="lineNum">    2548 </span>                :<span class="lineCov">     408950 :       vn_context_bb = saved_rpo_bb;</span></a>
<a name="2549"><span class="lineNum">    2549 </span>                :<span class="lineCov">     408950 :       ao_ref_init (&amp;lhs_ref, lhs);</span></a>
<a name="2550"><span class="lineNum">    2550 </span>                :<span class="lineCov">     408950 :       lhs_ref_ok = true;</span></a>
<a name="2551"><span class="lineNum">    2551 </span>                :<span class="lineCov">     408950 :       if (valueized_anything</span></a>
<a name="2552"><span class="lineNum">    2552 </span>        [<span class="branchCov" title="Branch 0 was taken 31310 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      31310 :           &amp;&amp; ao_ref_init_from_vn_reference</span></a>
<a name="2553"><span class="lineNum">    2553 </span>                :<span class="lineCov">      31310 :                (&amp;lhs_ref, ao_ref_alias_set (&amp;lhs_ref),</span></a>
<a name="2554"><span class="lineNum">    2554 </span>                :            :                 ao_ref_base_alias_set (&amp;lhs_ref), TREE_TYPE (lhs), lhs_ops)</a>
<a name="2555"><span class="lineNum">    2555 </span>  [<span class="branchCov" title="Branch 0 was taken 31310 times"> + </span><span class="branchCov" title="Branch 1 was taken 377640 times"> + </span><span class="branchCov" title="Branch 2 was taken 22258 times"> + </span><span class="branchCov" title="Branch 3 was taken 9052 times"> + </span> :<span class="lineCov">     440260 :           &amp;&amp; !refs_may_alias_p_1 (ref, &amp;lhs_ref, data-&gt;tbaa_p))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 22258 times"> + </span><span class="branchCov" title="Branch 5 was taken 386692 times"> + </span>]
<a name="2556"><span class="lineNum">    2556 </span>                :            :         {</a>
<a name="2557"><span class="lineNum">    2557 </span>                :<span class="lineCov">      22258 :           *disambiguate_only = TR_VALUEIZE_AND_DISAMBIGUATE;</span></a>
<a name="2558"><span class="lineNum">    2558 </span>                :<span class="lineCov">      39425 :           return NULL;</span></a>
<a name="2559"><span class="lineNum">    2559 </span>                :            :         }</a>
<a name="2560"><span class="lineNum">    2560 </span>                :            : </a>
<a name="2561"><span class="lineNum">    2561 </span>                :            :       /* Besides valueizing the LHS we can also use access-path based</a>
<a name="2562"><span class="lineNum">    2562 </span>                :            :          disambiguation on the original non-valueized ref.  */</a>
<a name="2563"><span class="lineNum">    2563 </span>        [<span class="branchCov" title="Branch 0 was taken 66169 times"> + </span><span class="branchCov" title="Branch 1 was taken 320523 times"> + </span>]:<span class="lineCov">     386692 :       if (!ref-&gt;ref</span></a>
<a name="2564"><span class="lineNum">    2564 </span>        [<span class="branchCov" title="Branch 0 was taken 66169 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      66169 :           &amp;&amp; lhs_ref_ok</span></a>
<a name="2565"><span class="lineNum">    2565 </span>        [<span class="branchCov" title="Branch 0 was taken 47285 times"> + </span><span class="branchCov" title="Branch 1 was taken 18884 times"> + </span>]:<span class="lineCov">      66169 :           &amp;&amp; data-&gt;orig_ref.ref)</span></a>
<a name="2566"><span class="lineNum">    2566 </span>                :            :         {</a>
<a name="2567"><span class="lineNum">    2567 </span>                :            :           /* We want to use the non-valueized LHS for this, but avoid redundant</a>
<a name="2568"><span class="lineNum">    2568 </span>                :            :              work.  */</a>
<a name="2569"><span class="lineNum">    2569 </span>                :<span class="lineCov">      47285 :           ao_ref *lref = &amp;lhs_ref;</span></a>
<a name="2570"><span class="lineNum">    2570 </span>                :<span class="lineCov">      47285 :           ao_ref lref_alt;</span></a>
<a name="2571"><span class="lineNum">    2571 </span>        [<span class="branchCov" title="Branch 0 was taken 3587 times"> + </span><span class="branchCov" title="Branch 1 was taken 43698 times"> + </span>]:<span class="lineCov">      47285 :           if (valueized_anything)</span></a>
<a name="2572"><span class="lineNum">    2572 </span>                :            :             {</a>
<a name="2573"><span class="lineNum">    2573 </span>                :<span class="lineCov">       3587 :               ao_ref_init (&amp;lref_alt, lhs);</span></a>
<a name="2574"><span class="lineNum">    2574 </span>                :<span class="lineCov">       3587 :               lref = &amp;lref_alt;</span></a>
<a name="2575"><span class="lineNum">    2575 </span>                :            :             }</a>
<a name="2576"><span class="lineNum">    2576 </span>        [<span class="branchCov" title="Branch 0 was taken 15874 times"> + </span><span class="branchCov" title="Branch 1 was taken 31411 times"> + </span>]:<span class="lineCov">      47285 :           if (!refs_may_alias_p_1 (&amp;data-&gt;orig_ref, lref, data-&gt;tbaa_p))</span></a>
<a name="2577"><span class="lineNum">    2577 </span>                :            :             {</a>
<a name="2578"><span class="lineNum">    2578 </span>                :<span class="lineCov">      15874 :               *disambiguate_only = (valueized_anything</span></a>
<a name="2579"><span class="lineNum">    2579 </span>        [<span class="branchCov" title="Branch 0 was taken 169 times"> + </span><span class="branchCov" title="Branch 1 was taken 15705 times"> + </span>]:<span class="lineCov">      15874 :                                     ? TR_VALUEIZE_AND_DISAMBIGUATE</span></a>
<a name="2580"><span class="lineNum">    2580 </span>                :            :                                     : TR_DISAMBIGUATE);</a>
<a name="2581"><span class="lineNum">    2581 </span>                :<span class="lineCov">      15874 :               return NULL;</span></a>
<a name="2582"><span class="lineNum">    2582 </span>                :            :             }</a>
<a name="2583"><span class="lineNum">    2583 </span>                :            :         }</a>
<a name="2584"><span class="lineNum">    2584 </span>                :            : </a>
<a name="2585"><span class="lineNum">    2585 </span>                :            :       /* If we reach a clobbering statement try to skip it and see if</a>
<a name="2586"><span class="lineNum">    2586 </span>                :            :          we find a VN result with exactly the same value as the</a>
<a name="2587"><span class="lineNum">    2587 </span>                :            :          possible clobber.  In this case we can ignore the clobber</a>
<a name="2588"><span class="lineNum">    2588 </span>                :            :          and return the found value.  */</a>
<a name="2589"><span class="lineNum">    2589 </span>                :<span class="lineCov">     370818 :       if (is_gimple_reg_type (TREE_TYPE (lhs))</span></a>
<a name="2590"><span class="lineNum">    2590 </span>        [<span class="branchCov" title="Branch 0 was taken 140831 times"> + </span><span class="branchCov" title="Branch 1 was taken 96070 times"> + </span>]:<span class="lineCov">     236901 :           &amp;&amp; types_compatible_p (TREE_TYPE (lhs), vr-&gt;type)</span></a>
<a name="2591"><span class="lineNum">    2591 </span>  [<span class="branchCov" title="Branch 0 was taken 236901 times"> + </span><span class="branchCov" title="Branch 1 was taken 133917 times"> + </span><span class="branchCov" title="Branch 2 was taken 20378 times"> + </span><span class="branchCov" title="Branch 3 was taken 120453 times"> + </span> :<span class="lineCov">     607719 :           &amp;&amp; (ref-&gt;ref || data-&gt;orig_ref.ref))</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 13768 times"> + </span><span class="branchCov" title="Branch 5 was taken 6610 times"> + </span><span class="branchCov" title="Branch 6 was taken 134221 times"> + </span><span class="branchCov" title="Branch 7 was taken 236597 times"> + </span>]
<a name="2592"><span class="lineNum">    2592 </span>                :            :         {</a>
<a name="2593"><span class="lineNum">    2593 </span>                :<span class="lineCov">     134221 :           tree *saved_last_vuse_ptr = data-&gt;last_vuse_ptr;</span></a>
<a name="2594"><span class="lineNum">    2594 </span>                :            :           /* Do not update last_vuse_ptr in vn_reference_lookup_2.  */</a>
<a name="2595"><span class="lineNum">    2595 </span>                :<span class="lineCov">     134221 :           data-&gt;last_vuse_ptr = NULL;</span></a>
<a name="2596"><span class="lineNum">    2596 </span>                :<span class="lineCov">     134221 :           tree saved_vuse = vr-&gt;vuse;</span></a>
<a name="2597"><span class="lineNum">    2597 </span>                :<span class="lineCov">     134221 :           hashval_t saved_hashcode = vr-&gt;hashcode;</span></a>
<a name="2598"><span class="lineNum">    2598 </span>                :<span class="lineCov">     134221 :           void *res = vn_reference_lookup_2 (ref, gimple_vuse (def_stmt), data);</span></a>
<a name="2599"><span class="lineNum">    2599 </span>                :            :           /* Need to restore vr-&gt;vuse and vr-&gt;hashcode.  */</a>
<a name="2600"><span class="lineNum">    2600 </span>                :<span class="lineCov">     134221 :           vr-&gt;vuse = saved_vuse;</span></a>
<a name="2601"><span class="lineNum">    2601 </span>                :<span class="lineCov">     134221 :           vr-&gt;hashcode = saved_hashcode;</span></a>
<a name="2602"><span class="lineNum">    2602 </span>                :<span class="lineCov">     134221 :           data-&gt;last_vuse_ptr = saved_last_vuse_ptr;</span></a>
<a name="2603"><span class="lineNum">    2603 </span>  [<span class="branchCov" title="Branch 0 was taken 11152 times"> + </span><span class="branchCov" title="Branch 1 was taken 123069 times"> + </span><span class="branchCov" title="Branch 2 was taken 11152 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">     134221 :           if (res &amp;&amp; res != (void *)-1)</span></a>
<a name="2604"><span class="lineNum">    2604 </span>                :            :             {</a>
<a name="2605"><span class="lineNum">    2605 </span>                :<span class="lineCov">      11152 :               vn_reference_t vnresult = (vn_reference_t) res;</span></a>
<a name="2606"><span class="lineNum">    2606 </span>                :<span class="lineCov">      11152 :               tree rhs = gimple_assign_rhs1 (def_stmt);</span></a>
<a name="2607"><span class="lineNum">    2607 </span>        [<span class="branchCov" title="Branch 0 was taken 6583 times"> + </span><span class="branchCov" title="Branch 1 was taken 4569 times"> + </span>]:<span class="lineCov">      11152 :               if (TREE_CODE (rhs) == SSA_NAME)</span></a>
<a name="2608"><span class="lineNum">    2608 </span>                :<span class="lineCov">       6583 :                 rhs = SSA_VAL (rhs);</span></a>
<a name="2609"><span class="lineNum">    2609 </span>                :<span class="lineCov">      22304 :               if (vnresult-&gt;result</span></a>
<a name="2610"><span class="lineNum">    2610 </span>        [<span class="branchCov" title="Branch 0 was taken 1309 times"> + </span><span class="branchCov" title="Branch 1 was taken 9840 times"> + </span>]:<span class="lineCov">      11149 :                   &amp;&amp; operand_equal_p (vnresult-&gt;result, rhs, 0)</span></a>
<a name="2611"><span class="lineNum">    2611 </span>                :            :                   /* We have to honor our promise about union type punning</a>
<a name="2612"><span class="lineNum">    2612 </span>                :            :                      and also support arbitrary overlaps with</a>
<a name="2613"><span class="lineNum">    2613 </span>                :            :                      -fno-strict-aliasing.  So simply resort to alignment to</a>
<a name="2614"><span class="lineNum">    2614 </span>                :            :                      rule out overlaps.  Do this check last because it is</a>
<a name="2615"><span class="lineNum">    2615 </span>                :            :                      quite expensive compared to the hash-lookup above.  */</a>
<a name="2616"><span class="lineNum">    2616 </span>        [<span class="branchCov" title="Branch 0 was taken 1305 times"> + </span><span class="branchCov" title="Branch 1 was taken 4 times"> + </span>]:<span class="lineCov">       1309 :                   &amp;&amp; multiple_p (get_object_alignment</span></a>
<a name="2617"><span class="lineNum">    2617 </span>        [<span class="branchCov" title="Branch 0 was taken 1224 times"> + </span><span class="branchCov" title="Branch 1 was taken 85 times"> + </span>]:<span class="lineCov">       1309 :                                    (ref-&gt;ref ? ref-&gt;ref : data-&gt;orig_ref.ref),</span></a>
<a name="2618"><span class="lineNum">    2618 </span>                :            :                                  ref-&gt;size)</a>
<a name="2619"><span class="lineNum">    2619 </span>  [<span class="branchCov" title="Branch 0 was taken 11149 times"> + </span><span class="branchCov" title="Branch 1 was taken 3 times"> + </span><span class="branchCov" title="Branch 2 was taken 1293 times"> + </span><span class="branchCov" title="Branch 3 was taken 12 times"> + </span> :<span class="lineCov">      22301 :                   &amp;&amp; multiple_p (get_object_alignment (lhs), ref-&gt;size))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1293 times"> + </span><span class="branchCov" title="Branch 5 was taken 9859 times"> + </span>]
<a name="2620"><span class="lineNum">    2620 </span>                :<span class="lineCov">       1293 :                 return res;</span></a>
<a name="2621"><span class="lineNum">    2621 </span>                :            :             }</a>
<a name="2622"><span class="lineNum">    2622 </span>                :            :         }</a>
<a name="2623"><span class="lineNum">    2623 </span>                :            :     }</a>
<a name="2624"><span class="lineNum">    2624 </span>                :<span class="lineCov">    1092720 :   else if (*disambiguate_only &lt;= TR_VALUEIZE_AND_DISAMBIGUATE</span></a>
<a name="2625"><span class="lineNum">    2625 </span>        [<span class="branchCov" title="Branch 0 was taken 58698 times"> + </span><span class="branchCov" title="Branch 1 was taken 432919 times"> + </span>]:<span class="lineCov">     491617 :            &amp;&amp; gimple_call_builtin_p (def_stmt, BUILT_IN_NORMAL)</span></a>
<a name="2626"><span class="lineNum">    2626 </span>  [<span class="branchCov" title="Branch 0 was taken 491617 times"> + </span><span class="branchCov" title="Branch 1 was taken 54741 times"> + </span><span class="branchCov" title="Branch 2 was taken 57017 times"> + </span><span class="branchCov" title="Branch 3 was taken 1681 times"> + </span> :<span class="lineCov">    1037980 :            &amp;&amp; gimple_call_num_args (def_stmt) &lt;= 4)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 57017 times"> + </span><span class="branchCov" title="Branch 5 was taken 489341 times"> + </span>]
<a name="2627"><span class="lineNum">    2627 </span>                :            :     {</a>
<a name="2628"><span class="lineNum">    2628 </span>                :            :       /* For builtin calls valueize its arguments and call the</a>
<a name="2629"><span class="lineNum">    2629 </span>                :            :          alias oracle again.  Valueization may improve points-to</a>
<a name="2630"><span class="lineNum">    2630 </span>                :            :          info of pointers and constify size and position arguments.</a>
<a name="2631"><span class="lineNum">    2631 </span>                :            :          Originally this was motivated by PR61034 which has</a>
<a name="2632"><span class="lineNum">    2632 </span>                :            :          conditional calls to free falsely clobbering ref because</a>
<a name="2633"><span class="lineNum">    2633 </span>                :            :          of imprecise points-to info of the argument.  */</a>
<a name="2634"><span class="lineNum">    2634 </span>                :            :       tree oldargs[4];</a>
<a name="2635"><span class="lineNum">    2635 </span>                :<span class="lineCov">      57017 :       bool valueized_anything = false;</span></a>
<a name="2636"><span class="lineNum">    2636 </span>        [<span class="branchCov" title="Branch 0 was taken 130908 times"> + </span><span class="branchCov" title="Branch 1 was taken 57017 times"> + </span>]:<span class="lineCov">     187925 :       for (unsigned i = 0; i &lt; gimple_call_num_args (def_stmt); ++i)</span></a>
<a name="2637"><span class="lineNum">    2637 </span>                :            :         {</a>
<a name="2638"><span class="lineNum">    2638 </span>                :<span class="lineCov">     130908 :           oldargs[i] = gimple_call_arg (def_stmt, i);</span></a>
<a name="2639"><span class="lineNum">    2639 </span>                :<span class="lineCov">     130908 :           tree val = vn_valueize (oldargs[i]);</span></a>
<a name="2640"><span class="lineNum">    2640 </span>        [<span class="branchCov" title="Branch 0 was taken 4772 times"> + </span><span class="branchCov" title="Branch 1 was taken 126136 times"> + </span>]:<span class="lineCov">     130908 :           if (val != oldargs[i])</span></a>
<a name="2641"><span class="lineNum">    2641 </span>                :            :             {</a>
<a name="2642"><span class="lineNum">    2642 </span>                :<span class="lineCov">       4772 :               gimple_call_set_arg (def_stmt, i, val);</span></a>
<a name="2643"><span class="lineNum">    2643 </span>                :<span class="lineCov">       4772 :               valueized_anything = true;</span></a>
<a name="2644"><span class="lineNum">    2644 </span>                :            :             }</a>
<a name="2645"><span class="lineNum">    2645 </span>                :            :         }</a>
<a name="2646"><span class="lineNum">    2646 </span>        [<span class="branchCov" title="Branch 0 was taken 2767 times"> + </span><span class="branchCov" title="Branch 1 was taken 54250 times"> + </span>]:<span class="lineCov">      57017 :       if (valueized_anything)</span></a>
<a name="2647"><span class="lineNum">    2647 </span>                :            :         {</a>
<a name="2648"><span class="lineNum">    2648 </span>                :<span class="lineCov">       2767 :           bool res = call_may_clobber_ref_p_1 (as_a &lt;gcall *&gt; (def_stmt),</span></a>
<a name="2649"><span class="lineNum">    2649 </span>                :<span class="lineCov">       2767 :                                                ref, data-&gt;tbaa_p);</span></a>
<a name="2650"><span class="lineNum">    2650 </span>        [<span class="branchCov" title="Branch 0 was taken 8013 times"> + </span><span class="branchCov" title="Branch 1 was taken 2767 times"> + </span>]:<span class="lineCov">      10780 :           for (unsigned i = 0; i &lt; gimple_call_num_args (def_stmt); ++i)</span></a>
<a name="2651"><span class="lineNum">    2651 </span>                :<span class="lineCov">       8013 :             gimple_call_set_arg (def_stmt, i, oldargs[i]);</span></a>
<a name="2652"><span class="lineNum">    2652 </span>        [<span class="branchCov" title="Branch 0 was taken 323 times"> + </span><span class="branchCov" title="Branch 1 was taken 2444 times"> + </span>]:<span class="lineCov">       2767 :           if (!res)</span></a>
<a name="2653"><span class="lineNum">    2653 </span>                :            :             {</a>
<a name="2654"><span class="lineNum">    2654 </span>                :<span class="lineCov">        323 :               *disambiguate_only = TR_VALUEIZE_AND_DISAMBIGUATE;</span></a>
<a name="2655"><span class="lineNum">    2655 </span>                :<span class="lineCov">        323 :               return NULL;</span></a>
<a name="2656"><span class="lineNum">    2656 </span>                :            :             }</a>
<a name="2657"><span class="lineNum">    2657 </span>                :            :         }</a>
<a name="2658"><span class="lineNum">    2658 </span>                :            :     }</a>
<a name="2659"><span class="lineNum">    2659 </span>                :            : </a>
<a name="2660"><span class="lineNum">    2660 </span>        [<span class="branchCov" title="Branch 0 was taken 343799 times"> + </span><span class="branchCov" title="Branch 1 was taken 571761 times"> + </span>]:<span class="lineCov">     915560 :   if (*disambiguate_only &gt; TR_TRANSLATE)</span></a>
<a name="2661"><span class="lineNum">    2661 </span>                :<span class="lineCov">     343799 :     return (void *)-1;</span></a>
<a name="2662"><span class="lineNum">    2662 </span>                :            : </a>
<a name="2663"><span class="lineNum">    2663 </span>                :            :   /* If we cannot constrain the size of the reference we cannot</a>
<a name="2664"><span class="lineNum">    2664 </span>                :            :      test if anything kills it.  */</a>
<a name="2665"><span class="lineNum">    2665 </span>        [<span class="branchCov" title="Branch 0 was taken 6192 times"> + </span><span class="branchCov" title="Branch 1 was taken 565569 times"> + </span>]:<span class="lineCov">     571761 :   if (!ref-&gt;max_size_known_p ())</span></a>
<a name="2666"><span class="lineNum">    2666 </span>                :<span class="lineCov">       6192 :     return (void *)-1;</span></a>
<a name="2667"><span class="lineNum">    2667 </span>                :            : </a>
<a name="2668"><span class="lineNum">    2668 </span>                :<span class="lineCov">     565569 :   poly_int64 offset = ref-&gt;offset;</span></a>
<a name="2669"><span class="lineNum">    2669 </span>                :<span class="lineCov">     565569 :   poly_int64 maxsize = ref-&gt;max_size;</span></a>
<a name="2670"><span class="lineNum">    2670 </span>                :            : </a>
<a name="2671"><span class="lineNum">    2671 </span>                :            :   /* def_stmt may-defs *ref.  See if we can derive a value for *ref</a>
<a name="2672"><span class="lineNum">    2672 </span>                :            :      from that definition.</a>
<a name="2673"><span class="lineNum">    2673 </span>                :            :      1) Memset.  */</a>
<a name="2674"><span class="lineNum">    2674 </span>                :<span class="lineCov">     565569 :   if (is_gimple_reg_type (vr-&gt;type)</span></a>
<a name="2675"><span class="lineNum">    2675 </span>        [<span class="branchCov" title="Branch 0 was taken 560204 times"> + </span><span class="branchCov" title="Branch 1 was taken 3329 times"> + </span>]:<span class="lineCov">     563533 :       &amp;&amp; (gimple_call_builtin_p (def_stmt, BUILT_IN_MEMSET)</span></a>
<a name="2676"><span class="lineNum">    2676 </span>        [<span class="branchCov" title="Branch 0 was taken 349 times"> + </span><span class="branchCov" title="Branch 1 was taken 559855 times"> + </span>]:<span class="lineCov">     560204 :           || gimple_call_builtin_p (def_stmt, BUILT_IN_MEMSET_CHK))</span></a>
<a name="2677"><span class="lineNum">    2677 </span>        [<span class="branchCov" title="Branch 0 was taken 1646 times"> + </span><span class="branchCov" title="Branch 1 was taken 2032 times"> + </span>]:<span class="lineCov">       3678 :       &amp;&amp; (integer_zerop (gimple_call_arg (def_stmt, 1))</span></a>
<a name="2678"><span class="lineNum">    2678 </span>        [<span class="branchCov" title="Branch 0 was taken 385 times"> + </span><span class="branchCov" title="Branch 1 was taken 1261 times"> + </span>]:<span class="lineCov">       1646 :           || ((TREE_CODE (gimple_call_arg (def_stmt, 1)) == INTEGER_CST</span></a>
<a name="2679"><span class="lineNum">    2679 </span>  [<span class="branchCov" title="Branch 0 was taken 385 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 385 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        385 :                || (INTEGRAL_TYPE_P (vr-&gt;type) &amp;&amp; known_eq (ref-&gt;size, 8)))</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 376 times"> + </span><span class="branchCov" title="Branch 5 was taken 9 times"> + </span><span class="branchCov" title="Branch 6 was taken 374 times"> + </span><span class="branchCov" title="Branch 7 was taken 2 times"> + </span>]
<a name="2680"><span class="lineNum">    2680 </span>                :            :               &amp;&amp; CHAR_BIT == 8</a>
<a name="2681"><span class="lineNum">    2681 </span>                :            :               &amp;&amp; BITS_PER_UNIT == 8</a>
<a name="2682"><span class="lineNum">    2682 </span>                :            :               &amp;&amp; BYTES_BIG_ENDIAN == WORDS_BIG_ENDIAN</a>
<a name="2683"><span class="lineNum">    2683 </span>        [<span class="branchCov" title="Branch 0 was taken 1635 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       1635 :               &amp;&amp; offset.is_constant (&amp;offseti)</span></a>
<a name="2684"><span class="lineNum">    2684 </span>        [<span class="branchCov" title="Branch 0 was taken 1635 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       1635 :               &amp;&amp; ref-&gt;size.is_constant (&amp;sizei)</span></a>
<a name="2685"><span class="lineNum">    2685 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1635 times"> + </span>]:<span class="lineCov">       1635 :               &amp;&amp; (offseti % BITS_PER_UNIT == 0</span></a>
<a name="2686"><span class="lineNum">    2686 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                   || TREE_CODE (gimple_call_arg (def_stmt, 1)) == INTEGER_CST)))</span></a>
<a name="2687"><span class="lineNum">    2687 </span>        [<span class="branchCov" title="Branch 0 was taken 1649 times"> + </span><span class="branchCov" title="Branch 1 was taken 2018 times"> + </span>]:<span class="lineCov">       3667 :       &amp;&amp; (poly_int_tree_p (gimple_call_arg (def_stmt, 2))</span></a>
<a name="2688"><span class="lineNum">    2688 </span>        [<span class="branchCov" title="Branch 0 was taken 1649 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       1649 :           || (TREE_CODE (gimple_call_arg (def_stmt, 2)) == SSA_NAME</span></a>
<a name="2689"><span class="lineNum">    2689 </span>        [<span class="branchCov" title="Branch 0 was taken 145 times"> + </span><span class="branchCov" title="Branch 1 was taken 1504 times"> + </span>]:<span class="lineCov">       1649 :               &amp;&amp; poly_int_tree_p (SSA_VAL (gimple_call_arg (def_stmt, 2)))))</span></a>
<a name="2690"><span class="lineNum">    2690 </span>  [<span class="branchCov" title="Branch 0 was taken 563533 times"> + </span><span class="branchCov" title="Branch 1 was taken 2036 times"> + </span><span class="branchCov" title="Branch 2 was taken 629 times"> + </span><span class="branchCov" title="Branch 3 was taken 1536 times"> + </span> :<span class="lineCov">    1129730 :       &amp;&amp; (TREE_CODE (gimple_call_arg (def_stmt, 0)) == ADDR_EXPR</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 2165 times"> + </span><span class="branchCov" title="Branch 5 was taken 563406 times"> + </span>]
<a name="2691"><span class="lineNum">    2691 </span>        [<span class="branchCov" title="Branch 0 was taken 629 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">        629 :           || TREE_CODE (gimple_call_arg (def_stmt, 0)) == SSA_NAME))</span></a>
<a name="2692"><span class="lineNum">    2692 </span>                :            :     {</a>
<a name="2693"><span class="lineNum">    2693 </span>                :            :       tree base2;</a>
<a name="2694"><span class="lineNum">    2694 </span>                :<span class="lineCov">       2165 :       poly_int64 offset2, size2, maxsize2;</span></a>
<a name="2695"><span class="lineNum">    2695 </span>                :            :       bool reverse;</a>
<a name="2696"><span class="lineNum">    2696 </span>                :<span class="lineCov">       2165 :       tree ref2 = gimple_call_arg (def_stmt, 0);</span></a>
<a name="2697"><span class="lineNum">    2697 </span>        [<span class="branchCov" title="Branch 0 was taken 629 times"> + </span><span class="branchCov" title="Branch 1 was taken 1536 times"> + </span>]:<span class="lineCov">       2165 :       if (TREE_CODE (ref2) == SSA_NAME)</span></a>
<a name="2698"><span class="lineNum">    2698 </span>                :            :         {</a>
<a name="2699"><span class="lineNum">    2699 </span>                :<span class="lineCov">        629 :           ref2 = SSA_VAL (ref2);</span></a>
<a name="2700"><span class="lineNum">    2700 </span>        [<span class="branchCov" title="Branch 0 was taken 482 times"> + </span><span class="branchCov" title="Branch 1 was taken 147 times"> + </span>]:<span class="lineCov">        629 :           if (TREE_CODE (ref2) == SSA_NAME</span></a>
<a name="2701"><span class="lineNum">    2701 </span>        [<span class="branchCov" title="Branch 0 was taken 347 times"> + </span><span class="branchCov" title="Branch 1 was taken 135 times"> + </span>]:<span class="lineCov">        482 :               &amp;&amp; (TREE_CODE (base) != MEM_REF</span></a>
<a name="2702"><span class="lineNum">    2702 </span>        [<span class="branchCov" title="Branch 0 was taken 115 times"> + </span><span class="branchCov" title="Branch 1 was taken 232 times"> + </span>]:<span class="lineCov">        347 :                   || TREE_OPERAND (base, 0) != ref2))</span></a>
<a name="2703"><span class="lineNum">    2703 </span>                :            :             {</a>
<a name="2704"><span class="lineNum">    2704 </span>                :<span class="lineCov">        250 :               gimple *def_stmt = SSA_NAME_DEF_STMT (ref2);</span></a>
<a name="2705"><span class="lineNum">    2705 </span>                :<span class="lineCov">        250 :               if (gimple_assign_single_p (def_stmt)</span></a>
<a name="2706"><span class="lineNum">    2706 </span>  [<span class="branchCov" title="Branch 0 was taken 172 times"> + </span><span class="branchCov" title="Branch 1 was taken 78 times"> + </span><span class="branchCov" title="Branch 2 was taken 19 times"> + </span><span class="branchCov" title="Branch 3 was taken 153 times"> + </span> :<span class="lineCov">        250 :                   &amp;&amp; gimple_assign_rhs_code (def_stmt) == ADDR_EXPR)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 19 times"> + </span><span class="branchCov" title="Branch 5 was taken 231 times"> + </span>]
<a name="2707"><span class="lineNum">    2707 </span>                :<span class="lineCov">         19 :                 ref2 = gimple_assign_rhs1 (def_stmt);</span></a>
<a name="2708"><span class="lineNum">    2708 </span>                :            :             }</a>
<a name="2709"><span class="lineNum">    2709 </span>                :            :         }</a>
<a name="2710"><span class="lineNum">    2710 </span>        [<span class="branchCov" title="Branch 0 was taken 1702 times"> + </span><span class="branchCov" title="Branch 1 was taken 463 times"> + </span>]:<span class="lineCov">       2165 :       if (TREE_CODE (ref2) == ADDR_EXPR)</span></a>
<a name="2711"><span class="lineNum">    2711 </span>                :            :         {</a>
<a name="2712"><span class="lineNum">    2712 </span>                :<span class="lineCov">       1702 :           ref2 = TREE_OPERAND (ref2, 0);</span></a>
<a name="2713"><span class="lineNum">    2713 </span>                :<span class="lineCov">       1702 :           base2 = get_ref_base_and_extent (ref2, &amp;offset2, &amp;size2, &amp;maxsize2,</span></a>
<a name="2714"><span class="lineNum">    2714 </span>                :            :                                            &amp;reverse);</a>
<a name="2715"><span class="lineNum">    2715 </span>                :<span class="lineCov">       1702 :           if (!known_size_p (maxsize2)</span></a>
<a name="2716"><span class="lineNum">    2716 </span>        [<span class="branchCov" title="Branch 0 was taken 1683 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       1683 :               || !known_eq (maxsize2, size2)</span></a>
<a name="2717"><span class="lineNum">    2717 </span>  [<span class="branchCov" title="Branch 0 was taken 1683 times"> + </span><span class="branchCov" title="Branch 1 was taken 19 times"> + </span><span class="branchCov" title="Branch 2 was taken 246 times"> + </span><span class="branchCov" title="Branch 3 was taken 1437 times"> + </span> :<span class="lineCov">       3385 :               || !operand_equal_p (base, base2, OEP_ADDRESS_OF))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 265 times"> + </span><span class="branchCov" title="Branch 5 was taken 1437 times"> + </span>]
<a name="2718"><span class="lineNum">    2718 </span>                :<span class="lineCov">       2160 :             return (void *)-1;</span></a>
<a name="2719"><span class="lineNum">    2719 </span>                :            :         }</a>
<a name="2720"><span class="lineNum">    2720 </span>        [<span class="branchCov" title="Branch 0 was taken 463 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">        463 :       else if (TREE_CODE (ref2) == SSA_NAME)</span></a>
<a name="2721"><span class="lineNum">    2721 </span>                :            :         {</a>
<a name="2722"><span class="lineNum">    2722 </span>                :<span class="lineCov">        463 :           poly_int64 soff;</span></a>
<a name="2723"><span class="lineNum">    2723 </span>                :<span class="lineCov">        926 :           if (TREE_CODE (base) != MEM_REF</span></a>
<a name="2724"><span class="lineNum">    2724 </span>  [<span class="branchCov" title="Branch 0 was taken 328 times"> + </span><span class="branchCov" title="Branch 1 was taken 135 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 328 times"> + </span>]:<span class="lineCov">        791 :               || !(mem_ref_offset (base)</span></a>
<a name="2725"><span class="lineNum">    2725 </span>        [<span class="branchCov" title="Branch 0 was taken 135 times"> + </span><span class="branchCov" title="Branch 1 was taken 328 times"> + </span>]:<span class="lineCov">        791 :                    &lt;&lt; LOG2_BITS_PER_UNIT).to_shwi (&amp;soff))</span></a>
<a name="2726"><span class="lineNum">    2726 </span>                :<span class="lineCov">        231 :             return (void *)-1;</span></a>
<a name="2727"><span class="lineNum">    2727 </span>                :<span class="lineCov">        328 :           offset += soff;</span></a>
<a name="2728"><span class="lineNum">    2728 </span>                :<span class="lineCov">        328 :           offset2 = 0;</span></a>
<a name="2729"><span class="lineNum">    2729 </span>        [<span class="branchCov" title="Branch 0 was taken 96 times"> + </span><span class="branchCov" title="Branch 1 was taken 232 times"> + </span>]:<span class="lineCov">        328 :           if (TREE_OPERAND (base, 0) != ref2)</span></a>
<a name="2730"><span class="lineNum">    2730 </span>                :            :             {</a>
<a name="2731"><span class="lineNum">    2731 </span>                :<span class="lineCov">         96 :               gimple *def = SSA_NAME_DEF_STMT (ref2);</span></a>
<a name="2732"><span class="lineNum">    2732 </span>                :<span class="lineCov">         96 :               if (is_gimple_assign (def)</span></a>
<a name="2733"><span class="lineNum">    2733 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 64 times"> + </span>]:<span class="lineCov">         64 :                   &amp;&amp; gimple_assign_rhs_code (def) == POINTER_PLUS_EXPR</span></a>
<a name="2734"><span class="lineNum">    2734 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                   &amp;&amp; gimple_assign_rhs1 (def) == TREE_OPERAND (base, 0)</span></a>
<a name="2735"><span class="lineNum">    2735 </span>  [<span class="branchCov" title="Branch 0 was taken 64 times"> + </span><span class="branchCov" title="Branch 1 was taken 32 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        160 :                   &amp;&amp; poly_int_tree_p (gimple_assign_rhs2 (def)))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 96 times"> + </span>]
<a name="2736"><span class="lineNum">    2736 </span>                :            :                 {</a>
<a name="2737"><span class="lineNum">    2737 </span>                :<span class="lineNoCov">          0 :                   tree rhs2 = gimple_assign_rhs2 (def);</span></a>
<a name="2738"><span class="lineNum">    2738 </span>                :<span class="lineNoCov">          0 :                   if (!(poly_offset_int::from (wi::to_poly_wide (rhs2),</span></a>
<a name="2739"><span class="lineNum">    2739 </span>                :<span class="lineNoCov">          0 :                                                SIGNED)</span></a>
<a name="2740"><span class="lineNum">    2740 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                         &lt;&lt; LOG2_BITS_PER_UNIT).to_shwi (&amp;offset2))</span></a>
<a name="2741"><span class="lineNum">    2741 </span>                :<span class="lineNoCov">          0 :                     return (void *)-1;</span></a>
<a name="2742"><span class="lineNum">    2742 </span>                :<span class="lineNoCov">          0 :                   ref2 = gimple_assign_rhs1 (def);</span></a>
<a name="2743"><span class="lineNum">    2743 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                   if (TREE_CODE (ref2) == SSA_NAME)</span></a>
<a name="2744"><span class="lineNum">    2744 </span>                :<span class="lineNoCov">          0 :                     ref2 = SSA_VAL (ref2);</span></a>
<a name="2745"><span class="lineNum">    2745 </span>                :            :                 }</a>
<a name="2746"><span class="lineNum">    2746 </span>                :            :               else</a>
<a name="2747"><span class="lineNum">    2747 </span>                :<span class="lineCov">         96 :                 return (void *)-1;</span></a>
<a name="2748"><span class="lineNum">    2748 </span>                :            :             }</a>
<a name="2749"><span class="lineNum">    2749 </span>                :            :         }</a>
<a name="2750"><span class="lineNum">    2750 </span>                :            :       else</a>
<a name="2751"><span class="lineNum">    2751 </span>                :<span class="lineNoCov">          0 :         return (void *)-1;</span></a>
<a name="2752"><span class="lineNum">    2752 </span>                :<span class="lineCov">       1669 :       tree len = gimple_call_arg (def_stmt, 2);</span></a>
<a name="2753"><span class="lineNum">    2753 </span>                :            :       HOST_WIDE_INT leni, offset2i;</a>
<a name="2754"><span class="lineNum">    2754 </span>        [<span class="branchCov" title="Branch 0 was taken 60 times"> + </span><span class="branchCov" title="Branch 1 was taken 1609 times"> + </span>]:<span class="lineCov">       1669 :       if (TREE_CODE (len) == SSA_NAME)</span></a>
<a name="2755"><span class="lineNum">    2755 </span>                :<span class="lineCov">         60 :         len = SSA_VAL (len);</span></a>
<a name="2756"><span class="lineNum">    2756 </span>                :            :       /* Sometimes the above trickery is smarter than alias analysis.  Take</a>
<a name="2757"><span class="lineNum">    2757 </span>                :            :          advantage of that.  */</a>
<a name="2758"><span class="lineNum">    2758 </span>                :<span class="lineCov">       1669 :       if (!ranges_maybe_overlap_p (offset, maxsize, offset2,</span></a>
<a name="2759"><span class="lineNum">    2759 </span>                :<span class="lineCov">       1669 :                                    (wi::to_poly_offset (len)</span></a>
<a name="2760"><span class="lineNum">    2760 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1669 times"> + </span>]:<span class="lineCov">       3338 :                                     &lt;&lt; LOG2_BITS_PER_UNIT)))</span></a>
<a name="2761"><span class="lineNum">    2761 </span>                :<span class="lineNoCov">          0 :         return NULL;</span></a>
<a name="2762"><span class="lineNum">    2762 </span>                :<span class="lineCov">       1669 :       if (data-&gt;partial_defs.is_empty ()</span></a>
<a name="2763"><span class="lineNum">    2763 </span>  [<span class="branchCov" title="Branch 0 was taken 1669 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 1664 times"> + </span><span class="branchCov" title="Branch 3 was taken 5 times"> + </span>]:<span class="lineCov">       3338 :           &amp;&amp; known_subrange_p (offset, maxsize, offset2,</span></a>
<a name="2764"><span class="lineNum">    2764 </span>        [<span class="branchCov" title="Branch 0 was taken 1664 times"> + </span><span class="branchCov" title="Branch 1 was taken 5 times"> + </span>]:<span class="lineCov">       3338 :                                wi::to_poly_offset (len) &lt;&lt; LOG2_BITS_PER_UNIT))</span></a>
<a name="2765"><span class="lineNum">    2765 </span>                :            :         {</a>
<a name="2766"><span class="lineNum">    2766 </span>                :            :           tree val;</a>
<a name="2767"><span class="lineNum">    2767 </span>        [<span class="branchCov" title="Branch 0 was taken 1151 times"> + </span><span class="branchCov" title="Branch 1 was taken 513 times"> + </span>]:<span class="lineCov">       1664 :           if (integer_zerop (gimple_call_arg (def_stmt, 1)))</span></a>
<a name="2768"><span class="lineNum">    2768 </span>                :<span class="lineCov">       1151 :             val = build_zero_cst (vr-&gt;type);</span></a>
<a name="2769"><span class="lineNum">    2769 </span>  [<span class="branchCov" title="Branch 0 was taken 513 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 443 times"> + </span><span class="branchCov" title="Branch 3 was taken 70 times"> + </span>]:<span class="lineCov">        513 :           else if (INTEGRAL_TYPE_P (vr-&gt;type)</span></a>
<a name="2770"><span class="lineNum">    2770 </span>        [<span class="branchCov" title="Branch 0 was taken 148 times"> + </span><span class="branchCov" title="Branch 1 was taken 295 times"> + </span>]:<span class="lineCov">        443 :                    &amp;&amp; known_eq (ref-&gt;size, 8)</span></a>
<a name="2771"><span class="lineNum">    2771 </span>  [<span class="branchCov" title="Branch 0 was taken 513 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 148 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">       1026 :                    &amp;&amp; offseti % BITS_PER_UNIT == 0)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 148 times"> + </span><span class="branchCov" title="Branch 5 was taken 365 times"> + </span>]
<a name="2772"><span class="lineNum">    2772 </span>                :            :             {</a>
<a name="2773"><span class="lineNum">    2773 </span>                :            :               gimple_match_op res_op (gimple_match_cond::UNCOND, NOP_EXPR,</a>
<a name="2774"><span class="lineNum">    2774 </span>                :<span class="lineCov">        148 :                                       vr-&gt;type, gimple_call_arg (def_stmt, 1));</span></a>
<a name="2775"><span class="lineNum">    2775 </span>                :<span class="lineCov">        148 :               val = vn_nary_build_or_lookup (&amp;res_op);</span></a>
<a name="2776"><span class="lineNum">    2776 </span>        [<span class="branchCov" title="Branch 0 was taken 148 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">        148 :               if (!val</span></a>
<a name="2777"><span class="lineNum">    2777 </span>        [<span class="branchCov" title="Branch 0 was taken 18 times"> + </span><span class="branchCov" title="Branch 1 was taken 130 times"> + </span>]:<span class="lineCov">        148 :                   || (TREE_CODE (val) == SSA_NAME</span></a>
<a name="2778"><span class="lineNum">    2778 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 18 times"> + </span>]:<span class="lineCov">         18 :                       &amp;&amp; SSA_NAME_OCCURS_IN_ABNORMAL_PHI (val)))</span></a>
<a name="2779"><span class="lineNum">    2779 </span>                :<span class="lineNoCov">          0 :                 return (void *)-1;</span></a>
<a name="2780"><span class="lineNum">    2780 </span>                :            :             }</a>
<a name="2781"><span class="lineNum">    2781 </span>                :            :           else</a>
<a name="2782"><span class="lineNum">    2782 </span>                :            :             {</a>
<a name="2783"><span class="lineNum">    2783 </span>                :<span class="lineCov">        365 :               unsigned buflen = TREE_INT_CST_LOW (TYPE_SIZE_UNIT (vr-&gt;type)) + 1;</span></a>
<a name="2784"><span class="lineNum">    2784 </span>  [<span class="branchCov" title="Branch 0 was taken 365 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 365 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        365 :               if (INTEGRAL_TYPE_P (vr-&gt;type))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 295 times"> + </span><span class="branchCov" title="Branch 5 was taken 70 times"> + </span>]
<a name="2785"><span class="lineNum">    2785 </span>                :<span class="lineCov">        590 :                 buflen = GET_MODE_SIZE (SCALAR_INT_TYPE_MODE (vr-&gt;type)) + 1;</span></a>
<a name="2786"><span class="lineNum">    2786 </span>                :<span class="lineCov">        365 :               unsigned char *buf = XALLOCAVEC (unsigned char, buflen);</span></a>
<a name="2787"><span class="lineNum">    2787 </span>                :<span class="lineCov">        365 :               memset (buf, TREE_INT_CST_LOW (gimple_call_arg (def_stmt, 1)),</span></a>
<a name="2788"><span class="lineNum">    2788 </span>                :            :                       buflen);</a>
<a name="2789"><span class="lineNum">    2789 </span>                :            :               if (BYTES_BIG_ENDIAN)</a>
<a name="2790"><span class="lineNum">    2790 </span>                :            :                 {</a>
<a name="2791"><span class="lineNum">    2791 </span>                :            :                   unsigned int amnt</a>
<a name="2792"><span class="lineNum">    2792 </span>                :            :                     = (((unsigned HOST_WIDE_INT) offseti + sizei)</a>
<a name="2793"><span class="lineNum">    2793 </span>                :            :                        % BITS_PER_UNIT);</a>
<a name="2794"><span class="lineNum">    2794 </span>                :            :                   if (amnt)</a>
<a name="2795"><span class="lineNum">    2795 </span>                :            :                     {</a>
<a name="2796"><span class="lineNum">    2796 </span>                :            :                       shift_bytes_in_array_right (buf, buflen,</a>
<a name="2797"><span class="lineNum">    2797 </span>                :            :                                                   BITS_PER_UNIT - amnt);</a>
<a name="2798"><span class="lineNum">    2798 </span>                :            :                       buf++;</a>
<a name="2799"><span class="lineNum">    2799 </span>                :            :                       buflen--;</a>
<a name="2800"><span class="lineNum">    2800 </span>                :            :                     }</a>
<a name="2801"><span class="lineNum">    2801 </span>                :            :                 }</a>
<a name="2802"><span class="lineNum">    2802 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 365 times"> + </span>]:<span class="lineCov">        365 :               else if (offseti % BITS_PER_UNIT != 0)</span></a>
<a name="2803"><span class="lineNum">    2803 </span>                :            :                 {</a>
<a name="2804"><span class="lineNum">    2804 </span>                :<span class="lineNoCov">          0 :                   unsigned int amnt</span></a>
<a name="2805"><span class="lineNum">    2805 </span>                :            :                     = BITS_PER_UNIT - ((unsigned HOST_WIDE_INT) offseti</a>
<a name="2806"><span class="lineNum">    2806 </span>                :<span class="lineNoCov">          0 :                                        % BITS_PER_UNIT);</span></a>
<a name="2807"><span class="lineNum">    2807 </span>                :<span class="lineNoCov">          0 :                   shift_bytes_in_array_left (buf, buflen, amnt);</span></a>
<a name="2808"><span class="lineNum">    2808 </span>                :<span class="lineNoCov">          0 :                   buf++;</span></a>
<a name="2809"><span class="lineNum">    2809 </span>                :<span class="lineNoCov">          0 :                   buflen--;</span></a>
<a name="2810"><span class="lineNum">    2810 </span>                :            :                 }</a>
<a name="2811"><span class="lineNum">    2811 </span>                :<span class="lineCov">        365 :               val = native_interpret_expr (vr-&gt;type, buf, buflen);</span></a>
<a name="2812"><span class="lineNum">    2812 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 365 times"> + </span>]:<span class="lineCov">        365 :               if (!val)</span></a>
<a name="2813"><span class="lineNum">    2813 </span>                :<span class="lineNoCov">          0 :                 return (void *)-1;</span></a>
<a name="2814"><span class="lineNum">    2814 </span>                :            :             }</a>
<a name="2815"><span class="lineNum">    2815 </span>                :<span class="lineCov">       1664 :           return data-&gt;finish (0, 0, val);</span></a>
<a name="2816"><span class="lineNum">    2816 </span>                :            :         }</a>
<a name="2817"><span class="lineNum">    2817 </span>                :            :       /* For now handle clearing memory with partial defs.  */</a>
<a name="2818"><span class="lineNum">    2818 </span>                :<span class="lineCov">          5 :       else if (known_eq (ref-&gt;size, maxsize)</span></a>
<a name="2819"><span class="lineNum">    2819 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                &amp;&amp; integer_zerop (gimple_call_arg (def_stmt, 1))</span></a>
<a name="2820"><span class="lineNum">    2820 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                &amp;&amp; tree_fits_poly_int64_p (len)</span></a>
<a name="2821"><span class="lineNum">    2821 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                &amp;&amp; tree_to_poly_int64 (len).is_constant (&amp;leni)</span></a>
<a name="2822"><span class="lineNum">    2822 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                &amp;&amp; leni &lt;= INTTYPE_MAXIMUM (HOST_WIDE_INT) / BITS_PER_UNIT</span></a>
<a name="2823"><span class="lineNum">    2823 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                &amp;&amp; offset.is_constant (&amp;offseti)</span></a>
<a name="2824"><span class="lineNum">    2824 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                &amp;&amp; offset2.is_constant (&amp;offset2i)</span></a>
<a name="2825"><span class="lineNum">    2825 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                &amp;&amp; maxsize.is_constant (&amp;maxsizei)</span></a>
<a name="2826"><span class="lineNum">    2826 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 5 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">          5 :                &amp;&amp; ranges_known_overlap_p (offseti, maxsizei, offset2i,</span></a>
<a name="2827"><span class="lineNum">    2827 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 5 times"> + </span>]:<span class="lineCov">          5 :                                           leni &lt;&lt; LOG2_BITS_PER_UNIT))</span></a>
<a name="2828"><span class="lineNum">    2828 </span>                :            :         {</a>
<a name="2829"><span class="lineNum">    2829 </span>                :            :           pd_data pd;</a>
<a name="2830"><span class="lineNum">    2830 </span>                :<span class="lineNoCov">          0 :           pd.rhs = build_constructor (NULL_TREE, NULL);</span></a>
<a name="2831"><span class="lineNum">    2831 </span>                :<span class="lineNoCov">          0 :           pd.offset = offset2i;</span></a>
<a name="2832"><span class="lineNum">    2832 </span>                :<span class="lineNoCov">          0 :           pd.size = leni &lt;&lt; LOG2_BITS_PER_UNIT;</span></a>
<a name="2833"><span class="lineNum">    2833 </span>                :<span class="lineNoCov">          0 :           return data-&gt;push_partial_def (pd, 0, 0, offseti, maxsizei);</span></a>
<a name="2834"><span class="lineNum">    2834 </span>                :            :         }</a>
<a name="2835"><span class="lineNum">    2835 </span>                :            :     }</a>
<a name="2836"><span class="lineNum">    2836 </span>                :            : </a>
<a name="2837"><span class="lineNum">    2837 </span>                :            :   /* 2) Assignment from an empty CONSTRUCTOR.  */</a>
<a name="2838"><span class="lineNum">    2838 </span>                :<span class="lineCov">     563406 :   else if (is_gimple_reg_type (vr-&gt;type)</span></a>
<a name="2839"><span class="lineNum">    2839 </span>        [<span class="branchCov" title="Branch 0 was taken 222568 times"> + </span><span class="branchCov" title="Branch 1 was taken 338802 times"> + </span>]:<span class="lineCov">     561370 :            &amp;&amp; gimple_assign_single_p (def_stmt)</span></a>
<a name="2840"><span class="lineNum">    2840 </span>        [<span class="branchCov" title="Branch 0 was taken 110335 times"> + </span><span class="branchCov" title="Branch 1 was taken 112233 times"> + </span>]:<span class="lineCov">     222568 :            &amp;&amp; gimple_assign_rhs_code (def_stmt) == CONSTRUCTOR</span></a>
<a name="2841"><span class="lineNum">    2841 </span>  [<span class="branchCov" title="Branch 0 was taken 561370 times"> + </span><span class="branchCov" title="Branch 1 was taken 2036 times"> + </span><span class="branchCov" title="Branch 2 was taken 110335 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">    1124780 :            &amp;&amp; CONSTRUCTOR_NELTS (gimple_assign_rhs1 (def_stmt)) == 0)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 110335 times"> + </span><span class="branchCov" title="Branch 5 was taken 453071 times"> + </span>]
<a name="2842"><span class="lineNum">    2842 </span>                :            :     {</a>
<a name="2843"><span class="lineNum">    2843 </span>                :            :       tree base2;</a>
<a name="2844"><span class="lineNum">    2844 </span>                :<span class="lineCov">     110335 :       poly_int64 offset2, size2, maxsize2;</span></a>
<a name="2845"><span class="lineNum">    2845 </span>                :            :       HOST_WIDE_INT offset2i, size2i;</a>
<a name="2846"><span class="lineNum">    2846 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 110335 times"> + </span>]:<span class="lineCov">     110335 :       gcc_assert (lhs_ref_ok);</span></a>
<a name="2847"><span class="lineNum">    2847 </span>                :<span class="lineCov">     110335 :       base2 = ao_ref_base (&amp;lhs_ref);</span></a>
<a name="2848"><span class="lineNum">    2848 </span>                :<span class="lineCov">     110335 :       offset2 = lhs_ref.offset;</span></a>
<a name="2849"><span class="lineNum">    2849 </span>                :<span class="lineCov">     110335 :       size2 = lhs_ref.size;</span></a>
<a name="2850"><span class="lineNum">    2850 </span>                :<span class="lineCov">     110335 :       maxsize2 = lhs_ref.max_size;</span></a>
<a name="2851"><span class="lineNum">    2851 </span>                :<span class="lineCov">     110335 :       if (known_size_p (maxsize2)</span></a>
<a name="2852"><span class="lineNum">    2852 </span>        [<span class="branchCov" title="Branch 0 was taken 110335 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     110335 :           &amp;&amp; known_eq (maxsize2, size2)</span></a>
<a name="2853"><span class="lineNum">    2853 </span>  [<span class="branchCov" title="Branch 0 was taken 110335 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 107576 times"> + </span><span class="branchCov" title="Branch 3 was taken 2759 times"> + </span> :<span class="lineCov">     220670 :           &amp;&amp; adjust_offsets_for_equal_base_address (base, &amp;offset,</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 107576 times"> + </span><span class="branchCov" title="Branch 5 was taken 2759 times"> + </span>]
<a name="2854"><span class="lineNum">    2854 </span>                :            :                                                     base2, &amp;offset2))</a>
<a name="2855"><span class="lineNum">    2855 </span>                :            :         {</a>
<a name="2856"><span class="lineNum">    2856 </span>                :<span class="lineCov">     107576 :           if (data-&gt;partial_defs.is_empty ()</span></a>
<a name="2857"><span class="lineNum">    2857 </span>  [<span class="branchCov" title="Branch 0 was taken 107576 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 107576 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     107576 :               &amp;&amp; known_subrange_p (offset, maxsize, offset2, size2))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 107576 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span>]
<a name="2858"><span class="lineNum">    2858 </span>                :            :             {</a>
<a name="2859"><span class="lineNum">    2859 </span>                :            :               /* While technically undefined behavior do not optimize</a>
<a name="2860"><span class="lineNum">    2860 </span>                :            :                  a full read from a clobber.  */</a>
<a name="2861"><span class="lineNum">    2861 </span>        [<span class="branchCov" title="Branch 0 was taken 106417 times"> + </span><span class="branchCov" title="Branch 1 was taken 1159 times"> + </span>]:<span class="lineCov">     107576 :               if (gimple_clobber_p (def_stmt))</span></a>
<a name="2862"><span class="lineNum">    2862 </span>                :<span class="lineCov">     107576 :                 return (void *)-1;</span></a>
<a name="2863"><span class="lineNum">    2863 </span>                :<span class="lineCov">       1159 :               tree val = build_zero_cst (vr-&gt;type);</span></a>
<a name="2864"><span class="lineNum">    2864 </span>                :<span class="lineCov">       1159 :               return data-&gt;finish (ao_ref_alias_set (&amp;lhs_ref),</span></a>
<a name="2865"><span class="lineNum">    2865 </span>                :<span class="lineCov">       1159 :                                    ao_ref_base_alias_set (&amp;lhs_ref), val);</span></a>
<a name="2866"><span class="lineNum">    2866 </span>                :            :             }</a>
<a name="2867"><span class="lineNum">    2867 </span>                :<span class="lineNoCov">          0 :           else if (known_eq (ref-&gt;size, maxsize)</span></a>
<a name="2868"><span class="lineNum">    2868 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                    &amp;&amp; maxsize.is_constant (&amp;maxsizei)</span></a>
<a name="2869"><span class="lineNum">    2869 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                    &amp;&amp; offset.is_constant (&amp;offseti)</span></a>
<a name="2870"><span class="lineNum">    2870 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                    &amp;&amp; offset2.is_constant (&amp;offset2i)</span></a>
<a name="2871"><span class="lineNum">    2871 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                    &amp;&amp; size2.is_constant (&amp;size2i)</span></a>
<a name="2872"><span class="lineNum">    2872 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :                    &amp;&amp; ranges_known_overlap_p (offseti, maxsizei,</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="2873"><span class="lineNum">    2873 </span>                :            :                                               offset2i, size2i))</a>
<a name="2874"><span class="lineNum">    2874 </span>                :            :             {</a>
<a name="2875"><span class="lineNum">    2875 </span>                :            :               /* Let clobbers be consumed by the partial-def tracker</a>
<a name="2876"><span class="lineNum">    2876 </span>                :            :                  which can choose to ignore them if they are shadowed</a>
<a name="2877"><span class="lineNum">    2877 </span>                :            :                  by a later def.  */</a>
<a name="2878"><span class="lineNum">    2878 </span>                :            :               pd_data pd;</a>
<a name="2879"><span class="lineNum">    2879 </span>                :<span class="lineNoCov">          0 :               pd.rhs = gimple_assign_rhs1 (def_stmt);</span></a>
<a name="2880"><span class="lineNum">    2880 </span>                :<span class="lineNoCov">          0 :               pd.offset = offset2i;</span></a>
<a name="2881"><span class="lineNum">    2881 </span>                :<span class="lineNoCov">          0 :               pd.size = size2i;</span></a>
<a name="2882"><span class="lineNum">    2882 </span>                :<span class="lineNoCov">          0 :               return data-&gt;push_partial_def (pd, ao_ref_alias_set (&amp;lhs_ref),</span></a>
<a name="2883"><span class="lineNum">    2883 </span>                :            :                                              ao_ref_base_alias_set (&amp;lhs_ref),</a>
<a name="2884"><span class="lineNum">    2884 </span>                :<span class="lineNoCov">          0 :                                              offseti, maxsizei);</span></a>
<a name="2885"><span class="lineNum">    2885 </span>                :            :             }</a>
<a name="2886"><span class="lineNum">    2886 </span>                :            :         }</a>
<a name="2887"><span class="lineNum">    2887 </span>                :            :     }</a>
<a name="2888"><span class="lineNum">    2888 </span>                :            : </a>
<a name="2889"><span class="lineNum">    2889 </span>                :            :   /* 3) Assignment from a constant.  We can use folds native encode/interpret</a>
<a name="2890"><span class="lineNum">    2890 </span>                :            :      routines to extract the assigned bits.  */</a>
<a name="2891"><span class="lineNum">    2891 </span>                :<span class="lineCov">     453071 :   else if (known_eq (ref-&gt;size, maxsize)</span></a>
<a name="2892"><span class="lineNum">    2892 </span>        [<span class="branchCov" title="Branch 0 was taken 442560 times"> + </span><span class="branchCov" title="Branch 1 was taken 2036 times"> + </span>]:<span class="lineCov">     444596 :            &amp;&amp; is_gimple_reg_type (vr-&gt;type)</span></a>
<a name="2893"><span class="lineNum">    2893 </span>        [<span class="branchCov" title="Branch 0 was taken 442560 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     442560 :            &amp;&amp; !contains_storage_order_barrier_p (vr-&gt;operands)</span></a>
<a name="2894"><span class="lineNum">    2894 </span>        [<span class="branchCov" title="Branch 0 was taken 106122 times"> + </span><span class="branchCov" title="Branch 1 was taken 336438 times"> + </span>]:<span class="lineCov">     442560 :            &amp;&amp; gimple_assign_single_p (def_stmt)</span></a>
<a name="2895"><span class="lineNum">    2895 </span>                :            :            &amp;&amp; CHAR_BIT == 8</a>
<a name="2896"><span class="lineNum">    2896 </span>                :            :            &amp;&amp; BITS_PER_UNIT == 8</a>
<a name="2897"><span class="lineNum">    2897 </span>                :            :            &amp;&amp; BYTES_BIG_ENDIAN == WORDS_BIG_ENDIAN</a>
<a name="2898"><span class="lineNum">    2898 </span>                :            :            /* native_encode and native_decode operate on arrays of bytes</a>
<a name="2899"><span class="lineNum">    2899 </span>                :            :               and so fundamentally need a compile-time size and offset.  */</a>
<a name="2900"><span class="lineNum">    2900 </span>        [<span class="branchCov" title="Branch 0 was taken 106122 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     106122 :            &amp;&amp; maxsize.is_constant (&amp;maxsizei)</span></a>
<a name="2901"><span class="lineNum">    2901 </span>        [<span class="branchCov" title="Branch 0 was taken 106122 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     106122 :            &amp;&amp; offset.is_constant (&amp;offseti)</span></a>
<a name="2902"><span class="lineNum">    2902 </span>  [<span class="branchCov" title="Branch 0 was taken 444596 times"> + </span><span class="branchCov" title="Branch 1 was taken 8475 times"> + </span><span class="branchCov" title="Branch 2 was taken 87710 times"> + </span><span class="branchCov" title="Branch 3 was taken 18412 times"> + </span> :<span class="lineCov">     985377 :            &amp;&amp; (is_gimple_min_invariant (gimple_assign_rhs1 (def_stmt))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 18590 times"> + </span><span class="branchCov" title="Branch 5 was taken 434481 times"> + </span>]
<a name="2903"><span class="lineNum">    2903 </span>        [<span class="branchCov" title="Branch 0 was taken 71655 times"> + </span><span class="branchCov" title="Branch 1 was taken 16055 times"> + </span>]:<span class="lineCov">      87710 :                || (TREE_CODE (gimple_assign_rhs1 (def_stmt)) == SSA_NAME</span></a>
<a name="2904"><span class="lineNum">    2904 </span>        [<span class="branchCov" title="Branch 0 was taken 178 times"> + </span><span class="branchCov" title="Branch 1 was taken 71477 times"> + </span>]:<span class="lineCov">      71655 :                    &amp;&amp; is_gimple_min_invariant (SSA_VAL (gimple_assign_rhs1 (def_stmt))))))</span></a>
<a name="2905"><span class="lineNum">    2905 </span>                :            :     {</a>
<a name="2906"><span class="lineNum">    2906 </span>                :<span class="lineCov">      18590 :       tree lhs = gimple_assign_lhs (def_stmt);</span></a>
<a name="2907"><span class="lineNum">    2907 </span>                :            :       tree base2;</a>
<a name="2908"><span class="lineNum">    2908 </span>                :<span class="lineCov">      18590 :       poly_int64 offset2, size2, maxsize2;</span></a>
<a name="2909"><span class="lineNum">    2909 </span>                :            :       HOST_WIDE_INT offset2i, size2i;</a>
<a name="2910"><span class="lineNum">    2910 </span>                :            :       bool reverse;</a>
<a name="2911"><span class="lineNum">    2911 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 18590 times"> + </span>]:<span class="lineCov">      18590 :       gcc_assert (lhs_ref_ok);</span></a>
<a name="2912"><span class="lineNum">    2912 </span>                :<span class="lineCov">      18590 :       base2 = ao_ref_base (&amp;lhs_ref);</span></a>
<a name="2913"><span class="lineNum">    2913 </span>                :<span class="lineCov">      18590 :       offset2 = lhs_ref.offset;</span></a>
<a name="2914"><span class="lineNum">    2914 </span>                :<span class="lineCov">      18590 :       size2 = lhs_ref.size;</span></a>
<a name="2915"><span class="lineNum">    2915 </span>                :<span class="lineCov">      18590 :       maxsize2 = lhs_ref.max_size;</span></a>
<a name="2916"><span class="lineNum">    2916 </span>                :<span class="lineCov">      18590 :       reverse = reverse_storage_order_for_component_p (lhs);</span></a>
<a name="2917"><span class="lineNum">    2917 </span>                :<span class="lineCov">      18590 :       if (base2</span></a>
<a name="2918"><span class="lineNum">    2918 </span>        [<span class="branchCov" title="Branch 0 was taken 18590 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      18590 :           &amp;&amp; !reverse</span></a>
<a name="2919"><span class="lineNum">    2919 </span>        [<span class="branchCov" title="Branch 0 was taken 18590 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      18590 :           &amp;&amp; !storage_order_barrier_p (lhs)</span></a>
<a name="2920"><span class="lineNum">    2920 </span>        [<span class="branchCov" title="Branch 0 was taken 18041 times"> + </span><span class="branchCov" title="Branch 1 was taken 549 times"> + </span>]:<span class="lineCov">      18590 :           &amp;&amp; known_eq (maxsize2, size2)</span></a>
<a name="2921"><span class="lineNum">    2921 </span>        [<span class="branchCov" title="Branch 0 was taken 1563 times"> + </span><span class="branchCov" title="Branch 1 was taken 16478 times"> + </span>]:<span class="lineCov">      18041 :           &amp;&amp; adjust_offsets_for_equal_base_address (base, &amp;offset,</span></a>
<a name="2922"><span class="lineNum">    2922 </span>                :            :                                                     base2, &amp;offset2)</a>
<a name="2923"><span class="lineNum">    2923 </span>        [<span class="branchCov" title="Branch 0 was taken 1563 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       1563 :           &amp;&amp; offset.is_constant (&amp;offseti)</span></a>
<a name="2924"><span class="lineNum">    2924 </span>        [<span class="branchCov" title="Branch 0 was taken 1563 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       1563 :           &amp;&amp; offset2.is_constant (&amp;offset2i)</span></a>
<a name="2925"><span class="lineNum">    2925 </span>  [<span class="branchCov" title="Branch 0 was taken 18590 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 1563 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">      37180 :           &amp;&amp; size2.is_constant (&amp;size2i))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1563 times"> + </span><span class="branchCov" title="Branch 5 was taken 17027 times"> + </span>]
<a name="2926"><span class="lineNum">    2926 </span>                :            :         {</a>
<a name="2927"><span class="lineNum">    2927 </span>                :<span class="lineCov">       1563 :           if (data-&gt;partial_defs.is_empty ()</span></a>
<a name="2928"><span class="lineNum">    2928 </span>  [<span class="branchCov" title="Branch 0 was taken 1275 times"> + </span><span class="branchCov" title="Branch 1 was taken 288 times"> + </span><span class="branchCov" title="Branch 2 was taken 784 times"> + </span><span class="branchCov" title="Branch 3 was taken 491 times"> + </span> :<span class="lineCov">       1563 :               &amp;&amp; known_subrange_p (offseti, maxsizei, offset2, size2))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 784 times"> + </span><span class="branchCov" title="Branch 5 was taken 779 times"> + </span>]
<a name="2929"><span class="lineNum">    2929 </span>                :            :             {</a>
<a name="2930"><span class="lineNum">    2930 </span>                :            :               /* We support up to 512-bit values (for V8DFmode).  */</a>
<a name="2931"><span class="lineNum">    2931 </span>                :            :               unsigned char buffer[65];</a>
<a name="2932"><span class="lineNum">    2932 </span>                :            :               int len;</a>
<a name="2933"><span class="lineNum">    2933 </span>                :            : </a>
<a name="2934"><span class="lineNum">    2934 </span>                :<span class="lineCov">        784 :               tree rhs = gimple_assign_rhs1 (def_stmt);</span></a>
<a name="2935"><span class="lineNum">    2935 </span>        [<span class="branchCov" title="Branch 0 was taken 40 times"> + </span><span class="branchCov" title="Branch 1 was taken 744 times"> + </span>]:<span class="lineCov">        784 :               if (TREE_CODE (rhs) == SSA_NAME)</span></a>
<a name="2936"><span class="lineNum">    2936 </span>                :<span class="lineCov">         40 :                 rhs = SSA_VAL (rhs);</span></a>
<a name="2937"><span class="lineNum">    2937 </span>                :<span class="lineCov">        784 :               len = native_encode_expr (rhs,</span></a>
<a name="2938"><span class="lineNum">    2938 </span>                :            :                                         buffer, sizeof (buffer) - 1,</a>
<a name="2939"><span class="lineNum">    2939 </span>                :<span class="lineCov">        784 :                                         (offseti - offset2i) / BITS_PER_UNIT);</span></a>
<a name="2940"><span class="lineNum">    2940 </span>  [<span class="branchCov" title="Branch 0 was taken 729 times"> + </span><span class="branchCov" title="Branch 1 was taken 55 times"> + </span><span class="branchCov" title="Branch 2 was taken 729 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">        784 :               if (len &gt; 0 &amp;&amp; len * BITS_PER_UNIT &gt;= maxsizei)</span></a>
<a name="2941"><span class="lineNum">    2941 </span>                :            :                 {</a>
<a name="2942"><span class="lineNum">    2942 </span>                :<span class="lineCov">        729 :                   tree type = vr-&gt;type;</span></a>
<a name="2943"><span class="lineNum">    2943 </span>                :<span class="lineCov">        729 :                   unsigned char *buf = buffer;</span></a>
<a name="2944"><span class="lineNum">    2944 </span>                :<span class="lineCov">        729 :                   unsigned int amnt = 0;</span></a>
<a name="2945"><span class="lineNum">    2945 </span>                :            :                   /* Make sure to interpret in a type that has a range</a>
<a name="2946"><span class="lineNum">    2946 </span>                :            :                      covering the whole access size.  */</a>
<a name="2947"><span class="lineNum">    2947 </span>  [<span class="branchCov" title="Branch 0 was taken 729 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 729 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        729 :                   if (INTEGRAL_TYPE_P (vr-&gt;type)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 704 times"> + </span><span class="branchCov" title="Branch 5 was taken 25 times"> + </span>]
<a name="2948"><span class="lineNum">    2948 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 704 times"> + </span>]:<span class="lineCov">        704 :                       &amp;&amp; maxsizei != TYPE_PRECISION (vr-&gt;type))</span></a>
<a name="2949"><span class="lineNum">    2949 </span>                :<span class="lineNoCov">          0 :                     type = build_nonstandard_integer_type (maxsizei,</span></a>
<a name="2950"><span class="lineNum">    2950 </span>                :<span class="lineNoCov">          0 :                                                            TYPE_UNSIGNED (type));</span></a>
<a name="2951"><span class="lineNum">    2951 </span>                :            :                   if (BYTES_BIG_ENDIAN)</a>
<a name="2952"><span class="lineNum">    2952 </span>                :            :                     {</a>
<a name="2953"><span class="lineNum">    2953 </span>                :            :                       /* For big-endian native_encode_expr stored the rhs</a>
<a name="2954"><span class="lineNum">    2954 </span>                :            :                          such that the LSB of it is the LSB of buffer[len - 1].</a>
<a name="2955"><span class="lineNum">    2955 </span>                :            :                          That bit is stored into memory at position</a>
<a name="2956"><span class="lineNum">    2956 </span>                :            :                          offset2 + size2 - 1, i.e. in byte</a>
<a name="2957"><span class="lineNum">    2957 </span>                :            :                          base + (offset2 + size2 - 1) / BITS_PER_UNIT.</a>
<a name="2958"><span class="lineNum">    2958 </span>                :            :                          E.g. for offset2 1 and size2 14, rhs -1 and memory</a>
<a name="2959"><span class="lineNum">    2959 </span>                :            :                          previously cleared that is:</a>
<a name="2960"><span class="lineNum">    2960 </span>                :            :                          0        1</a>
<a name="2961"><span class="lineNum">    2961 </span>                :            :                          01111111|11111110</a>
<a name="2962"><span class="lineNum">    2962 </span>                :            :                          Now, if we want to extract offset 2 and size 12 from</a>
<a name="2963"><span class="lineNum">    2963 </span>                :            :                          it using native_interpret_expr (which actually works</a>
<a name="2964"><span class="lineNum">    2964 </span>                :            :                          for integral bitfield types in terms of byte size of</a>
<a name="2965"><span class="lineNum">    2965 </span>                :            :                          the mode), the native_encode_expr stored the value</a>
<a name="2966"><span class="lineNum">    2966 </span>                :            :                          into buffer as</a>
<a name="2967"><span class="lineNum">    2967 </span>                :            :                          XX111111|11111111</a>
<a name="2968"><span class="lineNum">    2968 </span>                :            :                          and returned len 2 (the X bits are outside of</a>
<a name="2969"><span class="lineNum">    2969 </span>                :            :                          precision).</a>
<a name="2970"><span class="lineNum">    2970 </span>                :            :                          Let sz be maxsize / BITS_PER_UNIT if not extracting</a>
<a name="2971"><span class="lineNum">    2971 </span>                :            :                          a bitfield, and GET_MODE_SIZE otherwise.</a>
<a name="2972"><span class="lineNum">    2972 </span>                :            :                          We need to align the LSB of the value we want to</a>
<a name="2973"><span class="lineNum">    2973 </span>                :            :                          extract as the LSB of buf[sz - 1].</a>
<a name="2974"><span class="lineNum">    2974 </span>                :            :                          The LSB from memory we need to read is at position</a>
<a name="2975"><span class="lineNum">    2975 </span>                :            :                          offset + maxsize - 1.  */</a>
<a name="2976"><span class="lineNum">    2976 </span>                :            :                       HOST_WIDE_INT sz = maxsizei / BITS_PER_UNIT;</a>
<a name="2977"><span class="lineNum">    2977 </span>                :            :                       if (INTEGRAL_TYPE_P (type))</a>
<a name="2978"><span class="lineNum">    2978 </span>                :            :                         sz = GET_MODE_SIZE (SCALAR_INT_TYPE_MODE (type));</a>
<a name="2979"><span class="lineNum">    2979 </span>                :            :                       amnt = ((unsigned HOST_WIDE_INT) offset2i + size2i</a>
<a name="2980"><span class="lineNum">    2980 </span>                :            :                               - offseti - maxsizei) % BITS_PER_UNIT;</a>
<a name="2981"><span class="lineNum">    2981 </span>                :            :                       if (amnt)</a>
<a name="2982"><span class="lineNum">    2982 </span>                :            :                         shift_bytes_in_array_right (buffer, len, amnt);</a>
<a name="2983"><span class="lineNum">    2983 </span>                :            :                       amnt = ((unsigned HOST_WIDE_INT) offset2i + size2i</a>
<a name="2984"><span class="lineNum">    2984 </span>                :            :                               - offseti - maxsizei - amnt) / BITS_PER_UNIT;</a>
<a name="2985"><span class="lineNum">    2985 </span>                :            :                       if ((unsigned HOST_WIDE_INT) sz + amnt &gt; (unsigned) len)</a>
<a name="2986"><span class="lineNum">    2986 </span>                :            :                         len = 0;</a>
<a name="2987"><span class="lineNum">    2987 </span>                :            :                       else</a>
<a name="2988"><span class="lineNum">    2988 </span>                :            :                         {</a>
<a name="2989"><span class="lineNum">    2989 </span>                :            :                           buf = buffer + len - sz - amnt;</a>
<a name="2990"><span class="lineNum">    2990 </span>                :            :                           len -= (buf - buffer);</a>
<a name="2991"><span class="lineNum">    2991 </span>                :            :                         }</a>
<a name="2992"><span class="lineNum">    2992 </span>                :            :                     }</a>
<a name="2993"><span class="lineNum">    2993 </span>                :            :                   else</a>
<a name="2994"><span class="lineNum">    2994 </span>                :            :                     {</a>
<a name="2995"><span class="lineNum">    2995 </span>                :<span class="lineCov">        729 :                       amnt = ((unsigned HOST_WIDE_INT) offset2i</span></a>
<a name="2996"><span class="lineNum">    2996 </span>                :<span class="lineCov">        729 :                               - offseti) % BITS_PER_UNIT;</span></a>
<a name="2997"><span class="lineNum">    2997 </span>        [<span class="branchCov" title="Branch 0 was taken 51 times"> + </span><span class="branchCov" title="Branch 1 was taken 678 times"> + </span>]:<span class="lineCov">        729 :                       if (amnt)</span></a>
<a name="2998"><span class="lineNum">    2998 </span>                :            :                         {</a>
<a name="2999"><span class="lineNum">    2999 </span>                :<span class="lineCov">         51 :                           buffer[len] = 0;</span></a>
<a name="3000"><span class="lineNum">    3000 </span>                :<span class="lineCov">         51 :                           shift_bytes_in_array_left (buffer, len + 1, amnt);</span></a>
<a name="3001"><span class="lineNum">    3001 </span>                :<span class="lineCov">         51 :                           buf = buffer + 1;</span></a>
<a name="3002"><span class="lineNum">    3002 </span>                :            :                         }</a>
<a name="3003"><span class="lineNum">    3003 </span>                :            :                     }</a>
<a name="3004"><span class="lineNum">    3004 </span>                :<span class="lineCov">        729 :                   tree val = native_interpret_expr (type, buf, len);</span></a>
<a name="3005"><span class="lineNum">    3005 </span>                :            :                   /* If we chop off bits because the types precision doesn't</a>
<a name="3006"><span class="lineNum">    3006 </span>                :            :                      match the memory access size this is ok when optimizing</a>
<a name="3007"><span class="lineNum">    3007 </span>                :            :                      reads but not when called from the DSE code during</a>
<a name="3008"><span class="lineNum">    3008 </span>                :            :                      elimination.  */</a>
<a name="3009"><span class="lineNum">    3009 </span>        [<span class="branchCov" title="Branch 0 was taken 729 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">        729 :                   if (val</span></a>
<a name="3010"><span class="lineNum">    3010 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 729 times"> + </span>]:<span class="lineCov">        729 :                       &amp;&amp; type != vr-&gt;type)</span></a>
<a name="3011"><span class="lineNum">    3011 </span>                :            :                     {</a>
<a name="3012"><span class="lineNum">    3012 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                       if (! int_fits_type_p (val, vr-&gt;type))</span></a>
<a name="3013"><span class="lineNum">    3013 </span>                :<span class="lineNoCov">          0 :                         val = NULL_TREE;</span></a>
<a name="3014"><span class="lineNum">    3014 </span>                :            :                       else</a>
<a name="3015"><span class="lineNum">    3015 </span>                :<span class="lineNoCov">          0 :                         val = fold_convert (vr-&gt;type, val);</span></a>
<a name="3016"><span class="lineNum">    3016 </span>                :            :                     }</a>
<a name="3017"><span class="lineNum">    3017 </span>                :            : </a>
<a name="3018"><span class="lineNum">    3018 </span>        [<span class="branchCov" title="Branch 0 was taken 729 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">        729 :                   if (val)</span></a>
<a name="3019"><span class="lineNum">    3019 </span>                :<span class="lineCov">        729 :                     return data-&gt;finish (ao_ref_alias_set (&amp;lhs_ref),</span></a>
<a name="3020"><span class="lineNum">    3020 </span>                :<span class="lineCov">        729 :                                          ao_ref_base_alias_set (&amp;lhs_ref), val);</span></a>
<a name="3021"><span class="lineNum">    3021 </span>                :            :                 }</a>
<a name="3022"><span class="lineNum">    3022 </span>                :            :             }</a>
<a name="3023"><span class="lineNum">    3023 </span>        [<span class="branchCov" title="Branch 0 was taken 779 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">        779 :           else if (ranges_known_overlap_p (offseti, maxsizei, offset2i,</span></a>
<a name="3024"><span class="lineNum">    3024 </span>                :            :                                            size2i))</a>
<a name="3025"><span class="lineNum">    3025 </span>                :            :             {</a>
<a name="3026"><span class="lineNum">    3026 </span>                :            :               pd_data pd;</a>
<a name="3027"><span class="lineNum">    3027 </span>                :<span class="lineCov">        779 :               tree rhs = gimple_assign_rhs1 (def_stmt);</span></a>
<a name="3028"><span class="lineNum">    3028 </span>        [<span class="branchCov" title="Branch 0 was taken 98 times"> + </span><span class="branchCov" title="Branch 1 was taken 681 times"> + </span>]:<span class="lineCov">        779 :               if (TREE_CODE (rhs) == SSA_NAME)</span></a>
<a name="3029"><span class="lineNum">    3029 </span>                :<span class="lineCov">         98 :                 rhs = SSA_VAL (rhs);</span></a>
<a name="3030"><span class="lineNum">    3030 </span>                :<span class="lineCov">        779 :               pd.rhs = rhs;</span></a>
<a name="3031"><span class="lineNum">    3031 </span>                :<span class="lineCov">        779 :               pd.offset = offset2i;</span></a>
<a name="3032"><span class="lineNum">    3032 </span>                :<span class="lineCov">        779 :               pd.size = size2i;</span></a>
<a name="3033"><span class="lineNum">    3033 </span>                :<span class="lineCov">        779 :               return data-&gt;push_partial_def (pd, ao_ref_alias_set (&amp;lhs_ref),</span></a>
<a name="3034"><span class="lineNum">    3034 </span>                :            :                                              ao_ref_base_alias_set (&amp;lhs_ref),</a>
<a name="3035"><span class="lineNum">    3035 </span>                :<span class="lineCov">        779 :                                              offseti, maxsizei);</span></a>
<a name="3036"><span class="lineNum">    3036 </span>                :            :             }</a>
<a name="3037"><span class="lineNum">    3037 </span>                :            :         }</a>
<a name="3038"><span class="lineNum">    3038 </span>                :            :     }</a>
<a name="3039"><span class="lineNum">    3039 </span>                :            : </a>
<a name="3040"><span class="lineNum">    3040 </span>                :            :   /* 4) Assignment from an SSA name which definition we may be able</a>
<a name="3041"><span class="lineNum">    3041 </span>                :            :      to access pieces from or we can combine to a larger entity.  */</a>
<a name="3042"><span class="lineNum">    3042 </span>                :<span class="lineCov">     434481 :   else if (known_eq (ref-&gt;size, maxsize)</span></a>
<a name="3043"><span class="lineNum">    3043 </span>        [<span class="branchCov" title="Branch 0 was taken 423970 times"> + </span><span class="branchCov" title="Branch 1 was taken 2036 times"> + </span>]:<span class="lineCov">     426006 :            &amp;&amp; is_gimple_reg_type (vr-&gt;type)</span></a>
<a name="3044"><span class="lineNum">    3044 </span>        [<span class="branchCov" title="Branch 0 was taken 423970 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     423970 :            &amp;&amp; !contains_storage_order_barrier_p (vr-&gt;operands)</span></a>
<a name="3045"><span class="lineNum">    3045 </span>        [<span class="branchCov" title="Branch 0 was taken 87532 times"> + </span><span class="branchCov" title="Branch 1 was taken 336438 times"> + </span>]:<span class="lineCov">     423970 :            &amp;&amp; gimple_assign_single_p (def_stmt)</span></a>
<a name="3046"><span class="lineNum">    3046 </span>  [<span class="branchCov" title="Branch 0 was taken 426006 times"> + </span><span class="branchCov" title="Branch 1 was taken 8475 times"> + </span><span class="branchCov" title="Branch 2 was taken 71477 times"> + </span><span class="branchCov" title="Branch 3 was taken 16055 times"> + </span> :<span class="lineCov">     860487 :            &amp;&amp; TREE_CODE (gimple_assign_rhs1 (def_stmt)) == SSA_NAME)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 71477 times"> + </span><span class="branchCov" title="Branch 5 was taken 363004 times"> + </span>]
<a name="3047"><span class="lineNum">    3047 </span>                :            :     {</a>
<a name="3048"><span class="lineNum">    3048 </span>                :<span class="lineCov">      71477 :       tree lhs = gimple_assign_lhs (def_stmt);</span></a>
<a name="3049"><span class="lineNum">    3049 </span>                :            :       tree base2;</a>
<a name="3050"><span class="lineNum">    3050 </span>                :<span class="lineCov">      71477 :       poly_int64 offset2, size2, maxsize2;</span></a>
<a name="3051"><span class="lineNum">    3051 </span>                :            :       HOST_WIDE_INT offset2i, size2i, offseti;</a>
<a name="3052"><span class="lineNum">    3052 </span>                :            :       bool reverse;</a>
<a name="3053"><span class="lineNum">    3053 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 71477 times"> + </span>]:<span class="lineCov">      71477 :       gcc_assert (lhs_ref_ok);</span></a>
<a name="3054"><span class="lineNum">    3054 </span>                :<span class="lineCov">      71477 :       base2 = ao_ref_base (&amp;lhs_ref);</span></a>
<a name="3055"><span class="lineNum">    3055 </span>                :<span class="lineCov">      71477 :       offset2 = lhs_ref.offset;</span></a>
<a name="3056"><span class="lineNum">    3056 </span>                :<span class="lineCov">      71477 :       size2 = lhs_ref.size;</span></a>
<a name="3057"><span class="lineNum">    3057 </span>                :<span class="lineCov">      71477 :       maxsize2 = lhs_ref.max_size;</span></a>
<a name="3058"><span class="lineNum">    3058 </span>                :<span class="lineCov">      71477 :       reverse = reverse_storage_order_for_component_p (lhs);</span></a>
<a name="3059"><span class="lineNum">    3059 </span>                :<span class="lineCov">      71477 :       tree def_rhs = gimple_assign_rhs1 (def_stmt);</span></a>
<a name="3060"><span class="lineNum">    3060 </span>                :<span class="lineCov">     142954 :       if (!reverse</span></a>
<a name="3061"><span class="lineNum">    3061 </span>        [<span class="branchCov" title="Branch 0 was taken 71477 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      71477 :           &amp;&amp; !storage_order_barrier_p (lhs)</span></a>
<a name="3062"><span class="lineNum">    3062 </span>        [<span class="branchCov" title="Branch 0 was taken 70504 times"> + </span><span class="branchCov" title="Branch 1 was taken 973 times"> + </span>]:<span class="lineCov">      71477 :           &amp;&amp; known_size_p (maxsize2)</span></a>
<a name="3063"><span class="lineNum">    3063 </span>        [<span class="branchCov" title="Branch 0 was taken 69176 times"> + </span><span class="branchCov" title="Branch 1 was taken 1328 times"> + </span>]:<span class="lineCov">      70504 :           &amp;&amp; known_eq (maxsize2, size2)</span></a>
<a name="3064"><span class="lineNum">    3064 </span>  [<span class="branchCov" title="Branch 0 was taken 71477 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 17039 times"> + </span><span class="branchCov" title="Branch 3 was taken 52137 times"> + </span> :<span class="lineCov">     142954 :           &amp;&amp; adjust_offsets_for_equal_base_address (base, &amp;offset,</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 17039 times"> + </span><span class="branchCov" title="Branch 5 was taken 54438 times"> + </span>]
<a name="3065"><span class="lineNum">    3065 </span>                :            :                                                     base2, &amp;offset2))</a>
<a name="3066"><span class="lineNum">    3066 </span>                :            :         {</a>
<a name="3067"><span class="lineNum">    3067 </span>                :<span class="lineCov">      17039 :           if (data-&gt;partial_defs.is_empty ()</span></a>
<a name="3068"><span class="lineNum">    3068 </span>        [<span class="branchCov" title="Branch 0 was taken 2510 times"> + </span><span class="branchCov" title="Branch 1 was taken 13662 times"> + </span>]:<span class="lineCov">      16172 :               &amp;&amp; known_subrange_p (offset, maxsize, offset2, size2)</span></a>
<a name="3069"><span class="lineNum">    3069 </span>                :            :               /* ???  We can't handle bitfield precision extracts without</a>
<a name="3070"><span class="lineNum">    3070 </span>                :            :                  either using an alternate type for the BIT_FIELD_REF and</a>
<a name="3071"><span class="lineNum">    3071 </span>                :            :                  then doing a conversion or possibly adjusting the offset</a>
<a name="3072"><span class="lineNum">    3072 </span>                :            :                  according to endianness.  */</a>
<a name="3073"><span class="lineNum">    3073 </span>  [<span class="branchCov" title="Branch 0 was taken 2510 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 2503 times"> + </span><span class="branchCov" title="Branch 3 was taken 7 times"> + </span> :<span class="lineCov">       2510 :               &amp;&amp; (! INTEGRAL_TYPE_P (vr-&gt;type)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 2198 times"> + </span><span class="branchCov" title="Branch 5 was taken 305 times"> + </span>]
<a name="3074"><span class="lineNum">    3074 </span>        [<span class="branchCov" title="Branch 0 was taken 2198 times"> + </span><span class="branchCov" title="Branch 1 was taken 7 times"> + </span>]:<span class="lineCov">       2205 :                   || known_eq (ref-&gt;size, TYPE_PRECISION (vr-&gt;type)))</span></a>
<a name="3075"><span class="lineNum">    3075 </span>  [<span class="branchCov" title="Branch 0 was taken 16172 times"> + </span><span class="branchCov" title="Branch 1 was taken 867 times"> + </span><span class="branchCov" title="Branch 2 was taken 1901 times"> + </span><span class="branchCov" title="Branch 3 was taken 602 times"> + </span> :<span class="lineCov">      33211 :               &amp;&amp; multiple_p (ref-&gt;size, BITS_PER_UNIT))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1901 times"> + </span><span class="branchCov" title="Branch 5 was taken 15138 times"> + </span>]
<a name="3076"><span class="lineNum">    3076 </span>                :            :             {</a>
<a name="3077"><span class="lineNum">    3077 </span>                :<span class="lineCov">       1901 :               tree val = NULL_TREE;</span></a>
<a name="3078"><span class="lineNum">    3078 </span>  [<span class="branchCov" title="Branch 0 was taken 1897 times"> + </span><span class="branchCov" title="Branch 1 was taken 4 times"> + </span><span class="branchCov" title="Branch 2 was taken 242 times"> + </span><span class="branchCov" title="Branch 3 was taken 1655 times"> + </span>]:<span class="lineCov">       1901 :               if (! INTEGRAL_TYPE_P (TREE_TYPE (def_rhs))</span></a>
<a name="3079"><span class="lineNum">    3079 </span>  [<span class="branchCov" title="Branch 0 was taken 1901 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 242 times"> + </span><span class="branchCov" title="Branch 3 was taken 4 times"> + </span> :<span class="lineCov">       3802 :                   || type_has_mode_precision_p (TREE_TYPE (def_rhs)))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1897 times"> + </span><span class="branchCov" title="Branch 5 was taken 4 times"> + </span>]
<a name="3080"><span class="lineNum">    3080 </span>                :            :                 {</a>
<a name="3081"><span class="lineNum">    3081 </span>                :            :                   gimple_match_op op (gimple_match_cond::UNCOND,</a>
<a name="3082"><span class="lineNum">    3082 </span>                :            :                                       BIT_FIELD_REF, vr-&gt;type,</a>
<a name="3083"><span class="lineNum">    3083 </span>                :            :                                       SSA_VAL (def_rhs),</a>
<a name="3084"><span class="lineNum">    3084 </span>                :            :                                       bitsize_int (ref-&gt;size),</a>
<a name="3085"><span class="lineNum">    3085 </span>                :<span class="lineCov">       1897 :                                       bitsize_int (offset - offset2));</span></a>
<a name="3086"><span class="lineNum">    3086 </span>                :<span class="lineCov">       1897 :                   val = vn_nary_build_or_lookup (&amp;op);</span></a>
<a name="3087"><span class="lineNum">    3087 </span>                :            :                 }</a>
<a name="3088"><span class="lineNum">    3088 </span>        [<span class="branchCov" title="Branch 0 was taken 4 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">          4 :               else if (known_eq (ref-&gt;size, size2))</span></a>
<a name="3089"><span class="lineNum">    3089 </span>                :            :                 {</a>
<a name="3090"><span class="lineNum">    3090 </span>                :            :                   gimple_match_op op (gimple_match_cond::UNCOND,</a>
<a name="3091"><span class="lineNum">    3091 </span>                :            :                                       VIEW_CONVERT_EXPR, vr-&gt;type,</a>
<a name="3092"><span class="lineNum">    3092 </span>                :<span class="lineCov">          4 :                                       SSA_VAL (def_rhs));</span></a>
<a name="3093"><span class="lineNum">    3093 </span>                :<span class="lineCov">          4 :                   val = vn_nary_build_or_lookup (&amp;op);</span></a>
<a name="3094"><span class="lineNum">    3094 </span>                :            :                 }</a>
<a name="3095"><span class="lineNum">    3095 </span>        [<span class="branchCov" title="Branch 0 was taken 1901 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       1901 :               if (val</span></a>
<a name="3096"><span class="lineNum">    3096 </span>        [<span class="branchCov" title="Branch 0 was taken 1901 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       1901 :                   &amp;&amp; (TREE_CODE (val) != SSA_NAME</span></a>
<a name="3097"><span class="lineNum">    3097 </span>        [<span class="branchCov" title="Branch 0 was taken 1901 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       1901 :                       || ! SSA_NAME_OCCURS_IN_ABNORMAL_PHI (val)))</span></a>
<a name="3098"><span class="lineNum">    3098 </span>                :<span class="lineCov">       1901 :                 return data-&gt;finish (ao_ref_alias_set (&amp;lhs_ref),</span></a>
<a name="3099"><span class="lineNum">    3099 </span>                :<span class="lineCov">      17039 :                                      ao_ref_base_alias_set (&amp;lhs_ref), val);</span></a>
<a name="3100"><span class="lineNum">    3100 </span>                :            :             }</a>
<a name="3101"><span class="lineNum">    3101 </span>                :<span class="lineCov">      15138 :           else if (maxsize.is_constant (&amp;maxsizei)</span></a>
<a name="3102"><span class="lineNum">    3102 </span>        [<span class="branchCov" title="Branch 0 was taken 15138 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      15138 :                    &amp;&amp; offset.is_constant (&amp;offseti)</span></a>
<a name="3103"><span class="lineNum">    3103 </span>        [<span class="branchCov" title="Branch 0 was taken 15138 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      15138 :                    &amp;&amp; offset2.is_constant (&amp;offset2i)</span></a>
<a name="3104"><span class="lineNum">    3104 </span>        [<span class="branchCov" title="Branch 0 was taken 15138 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      15138 :                    &amp;&amp; size2.is_constant (&amp;size2i)</span></a>
<a name="3105"><span class="lineNum">    3105 </span>  [<span class="branchCov" title="Branch 0 was taken 15138 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 15138 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">      30276 :                    &amp;&amp; ranges_known_overlap_p (offset, maxsize, offset2, size2))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 15138 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span>]
<a name="3106"><span class="lineNum">    3106 </span>                :            :             {</a>
<a name="3107"><span class="lineNum">    3107 </span>                :            :               pd_data pd;</a>
<a name="3108"><span class="lineNum">    3108 </span>                :<span class="lineCov">      15138 :               pd.rhs = SSA_VAL (def_rhs);</span></a>
<a name="3109"><span class="lineNum">    3109 </span>                :<span class="lineCov">      15138 :               pd.offset = offset2i;</span></a>
<a name="3110"><span class="lineNum">    3110 </span>                :<span class="lineCov">      15138 :               pd.size = size2i;</span></a>
<a name="3111"><span class="lineNum">    3111 </span>                :<span class="lineCov">      15138 :               return data-&gt;push_partial_def (pd, ao_ref_alias_set (&amp;lhs_ref),</span></a>
<a name="3112"><span class="lineNum">    3112 </span>                :            :                                              ao_ref_base_alias_set (&amp;lhs_ref),</a>
<a name="3113"><span class="lineNum">    3113 </span>                :<span class="lineCov">      15138 :                                              offseti, maxsizei);</span></a>
<a name="3114"><span class="lineNum">    3114 </span>                :            :             }</a>
<a name="3115"><span class="lineNum">    3115 </span>                :            :         }</a>
<a name="3116"><span class="lineNum">    3116 </span>                :            :     }</a>
<a name="3117"><span class="lineNum">    3117 </span>                :            : </a>
<a name="3118"><span class="lineNum">    3118 </span>                :            :   /* 5) For aggregate copies translate the reference through them if</a>
<a name="3119"><span class="lineNum">    3119 </span>                :            :      the copy kills ref.  */</a>
<a name="3120"><span class="lineNum">    3120 </span>                :<span class="lineCov">     726008 :   else if (data-&gt;vn_walk_kind == VN_WALKREWRITE</span></a>
<a name="3121"><span class="lineNum">    3121 </span>        [<span class="branchCov" title="Branch 0 was taken 19674 times"> + </span><span class="branchCov" title="Branch 1 was taken 251459 times"> + </span>]:<span class="lineCov">     271133 :            &amp;&amp; gimple_assign_single_p (def_stmt)</span></a>
<a name="3122"><span class="lineNum">    3122 </span>  [<span class="branchCov" title="Branch 0 was taken 271133 times"> + </span><span class="branchCov" title="Branch 1 was taken 91871 times"> + </span><span class="branchCov" title="Branch 2 was taken 7559 times"> + </span><span class="branchCov" title="Branch 3 was taken 12115 times"> + </span> :<span class="lineCov">     641696 :            &amp;&amp; (DECL_P (gimple_assign_rhs1 (def_stmt))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 14068 times"> + </span><span class="branchCov" title="Branch 5 was taken 348936 times"> + </span>]
<a name="3123"><span class="lineNum">    3123 </span>        [<span class="branchCov" title="Branch 0 was taken 6280 times"> + </span><span class="branchCov" title="Branch 1 was taken 1279 times"> + </span>]:<span class="lineCov">       7559 :                || TREE_CODE (gimple_assign_rhs1 (def_stmt)) == MEM_REF</span></a>
<a name="3124"><span class="lineNum">    3124 </span>        [<span class="branchCov" title="Branch 0 was taken 674 times"> + </span><span class="branchCov" title="Branch 1 was taken 5606 times"> + </span>]:<span class="lineCov">       6280 :                || handled_component_p (gimple_assign_rhs1 (def_stmt))))</span></a>
<a name="3125"><span class="lineNum">    3125 </span>                :            :     {</a>
<a name="3126"><span class="lineNum">    3126 </span>                :            :       tree base2;</a>
<a name="3127"><span class="lineNum">    3127 </span>                :            :       int i, j, k;</a>
<a name="3128"><span class="lineNum">    3128 </span>                :<span class="lineCov">      28136 :       auto_vec&lt;vn_reference_op_s&gt; rhs;</span></a>
<a name="3129"><span class="lineNum">    3129 </span>                :            :       vn_reference_op_t vro;</a>
<a name="3130"><span class="lineNum">    3130 </span>                :<span class="lineCov">      14068 :       ao_ref r;</span></a>
<a name="3131"><span class="lineNum">    3131 </span>                :            : </a>
<a name="3132"><span class="lineNum">    3132 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 14068 times"> + </span>]:<span class="lineCov">      14068 :       gcc_assert (lhs_ref_ok);</span></a>
<a name="3133"><span class="lineNum">    3133 </span>                :            : </a>
<a name="3134"><span class="lineNum">    3134 </span>                :            :       /* See if the assignment kills REF.  */</a>
<a name="3135"><span class="lineNum">    3135 </span>                :<span class="lineCov">      14068 :       base2 = ao_ref_base (&amp;lhs_ref);</span></a>
<a name="3136"><span class="lineNum">    3136 </span>                :<span class="lineCov">      14068 :       if (!lhs_ref.max_size_known_p ()</span></a>
<a name="3137"><span class="lineNum">    3137 </span>        [<span class="branchCov" title="Branch 0 was taken 1286 times"> + </span><span class="branchCov" title="Branch 1 was taken 12782 times"> + </span>]:<span class="lineCov">      14068 :           || (base != base2</span></a>
<a name="3138"><span class="lineNum">    3138 </span>        [<span class="branchCov" title="Branch 0 was taken 1017 times"> + </span><span class="branchCov" title="Branch 1 was taken 269 times"> + </span>]:<span class="lineCov">       1286 :               &amp;&amp; (TREE_CODE (base) != MEM_REF</span></a>
<a name="3139"><span class="lineNum">    3139 </span>        [<span class="branchCov" title="Branch 0 was taken 964 times"> + </span><span class="branchCov" title="Branch 1 was taken 53 times"> + </span>]:<span class="lineCov">       1017 :                   || TREE_CODE (base2) != MEM_REF</span></a>
<a name="3140"><span class="lineNum">    3140 </span>        [<span class="branchCov" title="Branch 0 was taken 215 times"> + </span><span class="branchCov" title="Branch 1 was taken 749 times"> + </span>]:<span class="lineCov">        964 :                   || TREE_OPERAND (base, 0) != TREE_OPERAND (base2, 0)</span></a>
<a name="3141"><span class="lineNum">    3141 </span>        [<span class="branchCov" title="Branch 0 was taken 143 times"> + </span><span class="branchCov" title="Branch 1 was taken 72 times"> + </span>]:<span class="lineCov">        215 :                   || !tree_int_cst_equal (TREE_OPERAND (base, 1),</span></a>
<a name="3142"><span class="lineNum">    3142 </span>                :<span class="lineCov">        215 :                                           TREE_OPERAND (base2, 1))))</span></a>
<a name="3143"><span class="lineNum">    3143 </span>  [<span class="branchCov" title="Branch 0 was taken 14068 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 72 times"> + </span><span class="branchCov" title="Branch 3 was taken 12853 times"> + </span> :<span class="lineCov">      28136 :           || !stmt_kills_ref_p (def_stmt, ref))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1215 times"> + </span><span class="branchCov" title="Branch 5 was taken 12853 times"> + </span>]
<a name="3144"><span class="lineNum">    3144 </span>                :<span class="lineCov">       1215 :         return (void *)-1;</span></a>
<a name="3145"><span class="lineNum">    3145 </span>                :            : </a>
<a name="3146"><span class="lineNum">    3146 </span>                :            :       /* Find the common base of ref and the lhs.  lhs_ops already</a>
<a name="3147"><span class="lineNum">    3147 </span>                :            :          contains valueized operands for the lhs.  */</a>
<a name="3148"><span class="lineNum">    3148 </span>                :<span class="lineCov">      12853 :       i = vr-&gt;operands.length () - 1;</span></a>
<a name="3149"><span class="lineNum">    3149 </span>                :<span class="lineCov">      12853 :       j = lhs_ops.length () - 1;</span></a>
<a name="3150"><span class="lineNum">    3150 </span>        [<span class="branchCov" title="Branch 0 was taken 25768 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      25768 :       while (j &gt;= 0 &amp;&amp; i &gt;= 0</span></a>
<a name="3151"><span class="lineNum">    3151 </span>  [<span class="branchCov" title="Branch 0 was taken 25768 times"> + </span><span class="branchCov" title="Branch 1 was taken 11364 times"> + </span><span class="branchCov" title="Branch 2 was taken 24279 times"> + </span><span class="branchCov" title="Branch 3 was taken 1489 times"> + </span> :<span class="lineCov">      62900 :              &amp;&amp; vn_reference_op_eq (&amp;vr-&gt;operands[i], &amp;lhs_ops[j]))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 24279 times"> + </span><span class="branchCov" title="Branch 5 was taken 12853 times"> + </span>]
<a name="3152"><span class="lineNum">    3152 </span>                :            :         {</a>
<a name="3153"><span class="lineNum">    3153 </span>                :<span class="lineCov">      24279 :           i--;</span></a>
<a name="3154"><span class="lineNum">    3154 </span>                :<span class="lineCov">      24279 :           j--;</span></a>
<a name="3155"><span class="lineNum">    3155 </span>                :            :         }</a>
<a name="3156"><span class="lineNum">    3156 </span>                :            : </a>
<a name="3157"><span class="lineNum">    3157 </span>                :            :       /* ???  The innermost op should always be a MEM_REF and we already</a>
<a name="3158"><span class="lineNum">    3158 </span>                :            :          checked that the assignment to the lhs kills vr.  Thus for</a>
<a name="3159"><span class="lineNum">    3159 </span>                :            :          aggregate copies using char[] types the vn_reference_op_eq</a>
<a name="3160"><span class="lineNum">    3160 </span>                :            :          may fail when comparing types for compatibility.  But we really</a>
<a name="3161"><span class="lineNum">    3161 </span>                :            :          don't care here - further lookups with the rewritten operands</a>
<a name="3162"><span class="lineNum">    3162 </span>                :            :          will simply fail if we messed up types too badly.  */</a>
<a name="3163"><span class="lineNum">    3163 </span>                :<span class="lineCov">      12853 :       poly_int64 extra_off = 0;</span></a>
<a name="3164"><span class="lineNum">    3164 </span>        [<span class="branchCov" title="Branch 0 was taken 1437 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       1437 :       if (j == 0 &amp;&amp; i &gt;= 0</span></a>
<a name="3165"><span class="lineNum">    3165 </span>        [<span class="branchCov" title="Branch 0 was taken 1437 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       1437 :           &amp;&amp; lhs_ops[0].opcode == MEM_REF</span></a>
<a name="3166"><span class="lineNum">    3166 </span>  [<span class="branchCov" title="Branch 0 was taken 1437 times"> + </span><span class="branchCov" title="Branch 1 was taken 11416 times"> + </span><span class="branchCov" title="Branch 2 was taken 1437 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">      14290 :           &amp;&amp; maybe_ne (lhs_ops[0].off, -1))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1437 times"> + </span><span class="branchCov" title="Branch 5 was taken 11416 times"> + </span>]
<a name="3167"><span class="lineNum">    3167 </span>                :            :         {</a>
<a name="3168"><span class="lineNum">    3168 </span>        [<span class="branchCov" title="Branch 0 was taken 791 times"> + </span><span class="branchCov" title="Branch 1 was taken 646 times"> + </span>]:<span class="lineCov">       1437 :           if (known_eq (lhs_ops[0].off, vr-&gt;operands[i].off))</span></a>
<a name="3169"><span class="lineNum">    3169 </span>                :<span class="lineCov">        791 :             i--, j--;</span></a>
<a name="3170"><span class="lineNum">    3170 </span>                :<span class="lineCov">        646 :           else if (vr-&gt;operands[i].opcode == MEM_REF</span></a>
<a name="3171"><span class="lineNum">    3171 </span>  [<span class="branchCov" title="Branch 0 was taken 642 times"> + </span><span class="branchCov" title="Branch 1 was taken 4 times"> + </span><span class="branchCov" title="Branch 2 was taken 642 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        646 :                    &amp;&amp; maybe_ne (vr-&gt;operands[i].off, -1))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 642 times"> + </span><span class="branchCov" title="Branch 5 was taken 4 times"> + </span>]
<a name="3172"><span class="lineNum">    3172 </span>                :            :             {</a>
<a name="3173"><span class="lineNum">    3173 </span>                :<span class="lineCov">        642 :               extra_off = vr-&gt;operands[i].off - lhs_ops[0].off;</span></a>
<a name="3174"><span class="lineNum">    3174 </span>                :<span class="lineCov">        642 :               i--, j--;</span></a>
<a name="3175"><span class="lineNum">    3175 </span>                :            :             }</a>
<a name="3176"><span class="lineNum">    3176 </span>                :            :         }</a>
<a name="3177"><span class="lineNum">    3177 </span>                :            : </a>
<a name="3178"><span class="lineNum">    3178 </span>                :            :       /* i now points to the first additional op.</a>
<a name="3179"><span class="lineNum">    3179 </span>                :            :          ???  LHS may not be completely contained in VR, one or more</a>
<a name="3180"><span class="lineNum">    3180 </span>                :            :          VIEW_CONVERT_EXPRs could be in its way.  We could at least</a>
<a name="3181"><span class="lineNum">    3181 </span>                :            :          try handling outermost VIEW_CONVERT_EXPRs.  */</a>
<a name="3182"><span class="lineNum">    3182 </span>        [<span class="branchCov" title="Branch 0 was taken 56 times"> + </span><span class="branchCov" title="Branch 1 was taken 12797 times"> + </span>]:<span class="lineCov">      12853 :       if (j != -1)</span></a>
<a name="3183"><span class="lineNum">    3183 </span>                :<span class="lineCov">         56 :         return (void *)-1;</span></a>
<a name="3184"><span class="lineNum">    3184 </span>                :            : </a>
<a name="3185"><span class="lineNum">    3185 </span>                :            :       /* Punt if the additional ops contain a storage order barrier.  */</a>
<a name="3186"><span class="lineNum">    3186 </span>        [<span class="branchCov" title="Branch 0 was taken 12484 times"> + </span><span class="branchCov" title="Branch 1 was taken 12797 times"> + </span>]:<span class="lineCov">      25281 :       for (k = i; k &gt;= 0; k--)</span></a>
<a name="3187"><span class="lineNum">    3187 </span>                :            :         {</a>
<a name="3188"><span class="lineNum">    3188 </span>                :<span class="lineCov">      12484 :           vro = &amp;vr-&gt;operands[k];</span></a>
<a name="3189"><span class="lineNum">    3189 </span>  [<span class="branchCov" title="Branch 0 was taken 300 times"> + </span><span class="branchCov" title="Branch 1 was taken 12184 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 300 times"> + </span>]:<span class="lineCov">      12484 :           if (vro-&gt;opcode == VIEW_CONVERT_EXPR &amp;&amp; vro-&gt;reverse)</span></a>
<a name="3190"><span class="lineNum">    3190 </span>                :<span class="lineNoCov">          0 :             return (void *)-1;</span></a>
<a name="3191"><span class="lineNum">    3191 </span>                :            :         }</a>
<a name="3192"><span class="lineNum">    3192 </span>                :            : </a>
<a name="3193"><span class="lineNum">    3193 </span>                :            :       /* Now re-write REF to be based on the rhs of the assignment.  */</a>
<a name="3194"><span class="lineNum">    3194 </span>                :<span class="lineCov">      12797 :       tree rhs1 = gimple_assign_rhs1 (def_stmt);</span></a>
<a name="3195"><span class="lineNum">    3195 </span>                :<span class="lineCov">      12797 :       copy_reference_ops_from_ref (rhs1, &amp;rhs);</span></a>
<a name="3196"><span class="lineNum">    3196 </span>                :            : </a>
<a name="3197"><span class="lineNum">    3197 </span>                :            :       /* Apply an extra offset to the inner MEM_REF of the RHS.  */</a>
<a name="3198"><span class="lineNum">    3198 </span>        [<span class="branchCov" title="Branch 0 was taken 642 times"> + </span><span class="branchCov" title="Branch 1 was taken 12155 times"> + </span>]:<span class="lineCov">      12797 :       if (maybe_ne (extra_off, 0))</span></a>
<a name="3199"><span class="lineNum">    3199 </span>                :            :         {</a>
<a name="3200"><span class="lineNum">    3200 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 642 times"> + </span>]:<span class="lineCov">        642 :           if (rhs.length () &lt; 2)</span></a>
<a name="3201"><span class="lineNum">    3201 </span>                :<span class="lineNoCov">          0 :             return (void *)-1;</span></a>
<a name="3202"><span class="lineNum">    3202 </span>                :<span class="lineCov">        642 :           int ix = rhs.length () - 2;</span></a>
<a name="3203"><span class="lineNum">    3203 </span>                :<span class="lineCov">        642 :           if (rhs[ix].opcode != MEM_REF</span></a>
<a name="3204"><span class="lineNum">    3204 </span>  [<span class="branchCov" title="Branch 0 was taken 642 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 642 times"> + </span> :<span class="lineCov">        642 :               || known_eq (rhs[ix].off, -1))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 642 times"> + </span>]
<a name="3205"><span class="lineNum">    3205 </span>                :<span class="lineNoCov">          0 :             return (void *)-1;</span></a>
<a name="3206"><span class="lineNum">    3206 </span>                :<span class="lineCov">        642 :           rhs[ix].off += extra_off;</span></a>
<a name="3207"><span class="lineNum">    3207 </span>                :<span class="lineCov">        642 :           rhs[ix].op0 = int_const_binop (PLUS_EXPR, rhs[ix].op0,</span></a>
<a name="3208"><span class="lineNum">    3208 </span>                :<span class="lineCov">        642 :                                          build_int_cst (TREE_TYPE (rhs[ix].op0),</span></a>
<a name="3209"><span class="lineNum">    3209 </span>                :            :                                                         extra_off));</a>
<a name="3210"><span class="lineNum">    3210 </span>                :            :         }</a>
<a name="3211"><span class="lineNum">    3211 </span>                :            : </a>
<a name="3212"><span class="lineNum">    3212 </span>                :            :       /* Save the operands since we need to use the original ones for</a>
<a name="3213"><span class="lineNum">    3213 </span>                :            :          the hash entry we use.  */</a>
<a name="3214"><span class="lineNum">    3214 </span>        [<span class="branchCov" title="Branch 0 was taken 11819 times"> + </span><span class="branchCov" title="Branch 1 was taken 978 times"> + </span>]:<span class="lineCov">      12797 :       if (!data-&gt;saved_operands.exists ())</span></a>
<a name="3215"><span class="lineNum">    3215 </span>                :<span class="lineCov">      11819 :         data-&gt;saved_operands = vr-&gt;operands.copy ();</span></a>
<a name="3216"><span class="lineNum">    3216 </span>                :            : </a>
<a name="3217"><span class="lineNum">    3217 </span>                :            :       /* We need to pre-pend vr-&gt;operands[0..i] to rhs.  */</a>
<a name="3218"><span class="lineNum">    3218 </span>                :<span class="lineCov">      12797 :       vec&lt;vn_reference_op_s&gt; old = vr-&gt;operands;</span></a>
<a name="3219"><span class="lineNum">    3219 </span>        [<span class="branchCov" title="Branch 0 was taken 331 times"> + </span><span class="branchCov" title="Branch 1 was taken 12466 times"> + </span>]:<span class="lineCov">      12797 :       if (i + 1 + rhs.length () &gt; vr-&gt;operands.length ())</span></a>
<a name="3220"><span class="lineNum">    3220 </span>                :<span class="lineCov">        331 :         vr-&gt;operands.safe_grow (i + 1 + rhs.length (), true);</span></a>
<a name="3221"><span class="lineNum">    3221 </span>                :            :       else</a>
<a name="3222"><span class="lineNum">    3222 </span>                :<span class="lineCov">      12466 :         vr-&gt;operands.truncate (i + 1 + rhs.length ());</span></a>
<a name="3223"><span class="lineNum">    3223 </span>        [<span class="branchCov" title="Branch 0 was taken 26070 times"> + </span><span class="branchCov" title="Branch 1 was taken 12797 times"> + </span>]:<span class="lineCov">      38867 :       FOR_EACH_VEC_ELT (rhs, j, vro)</span></a>
<a name="3224"><span class="lineNum">    3224 </span>                :<span class="lineCov">      26070 :         vr-&gt;operands[i + 1 + j] = *vro;</span></a>
<a name="3225"><span class="lineNum">    3225 </span>                :<span class="lineCov">      12797 :       valueize_refs (&amp;vr-&gt;operands);</span></a>
<a name="3226"><span class="lineNum">    3226 </span>        [<span class="branchCov" title="Branch 0 was taken 12797 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      12797 :       if (old == shared_lookup_references)</span></a>
<a name="3227"><span class="lineNum">    3227 </span>                :<span class="lineCov">      12797 :         shared_lookup_references = vr-&gt;operands;</span></a>
<a name="3228"><span class="lineNum">    3228 </span>                :<span class="lineCov">      12797 :       vr-&gt;hashcode = vn_reference_compute_hash (vr);</span></a>
<a name="3229"><span class="lineNum">    3229 </span>                :            : </a>
<a name="3230"><span class="lineNum">    3230 </span>                :            :       /* Try folding the new reference to a constant.  */</a>
<a name="3231"><span class="lineNum">    3231 </span>                :<span class="lineCov">      12797 :       tree val = fully_constant_vn_reference_p (vr);</span></a>
<a name="3232"><span class="lineNum">    3232 </span>        [<span class="branchCov" title="Branch 0 was taken 148 times"> + </span><span class="branchCov" title="Branch 1 was taken 12649 times"> + </span>]:<span class="lineCov">      12797 :       if (val)</span></a>
<a name="3233"><span class="lineNum">    3233 </span>                :            :         {</a>
<a name="3234"><span class="lineNum">    3234 </span>        [<span class="branchCov" title="Branch 0 was taken 148 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">        148 :           if (data-&gt;partial_defs.is_empty ())</span></a>
<a name="3235"><span class="lineNum">    3235 </span>                :<span class="lineCov">        148 :             return data-&gt;finish (ao_ref_alias_set (&amp;lhs_ref),</span></a>
<a name="3236"><span class="lineNum">    3236 </span>                :<span class="lineCov">        148 :                                  ao_ref_base_alias_set (&amp;lhs_ref), val);</span></a>
<a name="3237"><span class="lineNum">    3237 </span>                :            :           /* This is the only interesting case for partial-def handling</a>
<a name="3238"><span class="lineNum">    3238 </span>                :            :              coming from targets that like to gimplify init-ctors as</a>
<a name="3239"><span class="lineNum">    3239 </span>                :            :              aggregate copies from constant data like aarch64 for</a>
<a name="3240"><span class="lineNum">    3240 </span>                :            :              PR83518.  */</a>
<a name="3241"><span class="lineNum">    3241 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :           if (maxsize.is_constant (&amp;maxsizei) &amp;&amp; known_eq (ref-&gt;size, maxsize))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="3242"><span class="lineNum">    3242 </span>                :            :             {</a>
<a name="3243"><span class="lineNum">    3243 </span>                :            :               pd_data pd;</a>
<a name="3244"><span class="lineNum">    3244 </span>                :<span class="lineNoCov">          0 :               pd.rhs = val;</span></a>
<a name="3245"><span class="lineNum">    3245 </span>                :<span class="lineNoCov">          0 :               pd.offset = 0;</span></a>
<a name="3246"><span class="lineNum">    3246 </span>                :<span class="lineNoCov">          0 :               pd.size = maxsizei;</span></a>
<a name="3247"><span class="lineNum">    3247 </span>                :<span class="lineNoCov">          0 :               return data-&gt;push_partial_def (pd, ao_ref_alias_set (&amp;lhs_ref),</span></a>
<a name="3248"><span class="lineNum">    3248 </span>                :            :                                              ao_ref_base_alias_set (&amp;lhs_ref),</a>
<a name="3249"><span class="lineNum">    3249 </span>                :<span class="lineNoCov">          0 :                                              0, maxsizei);</span></a>
<a name="3250"><span class="lineNum">    3250 </span>                :            :             }</a>
<a name="3251"><span class="lineNum">    3251 </span>                :            :         }</a>
<a name="3252"><span class="lineNum">    3252 </span>                :            : </a>
<a name="3253"><span class="lineNum">    3253 </span>                :            :       /* Continuing with partial defs isn't easily possible here, we</a>
<a name="3254"><span class="lineNum">    3254 </span>                :            :          have to find a full def from further lookups from here.  Probably</a>
<a name="3255"><span class="lineNum">    3255 </span>                :            :          not worth the special-casing everywhere.  */</a>
<a name="3256"><span class="lineNum">    3256 </span>        [<span class="branchCov" title="Branch 0 was taken 134 times"> + </span><span class="branchCov" title="Branch 1 was taken 12515 times"> + </span>]:<span class="lineCov">      12649 :       if (!data-&gt;partial_defs.is_empty ())</span></a>
<a name="3257"><span class="lineNum">    3257 </span>                :<span class="lineCov">        134 :         return (void *)-1;</span></a>
<a name="3258"><span class="lineNum">    3258 </span>                :            : </a>
<a name="3259"><span class="lineNum">    3259 </span>                :            :       /* Adjust *ref from the new operands.  */</a>
<a name="3260"><span class="lineNum">    3260 </span>                :<span class="lineCov">      12515 :       ao_ref rhs1_ref;</span></a>
<a name="3261"><span class="lineNum">    3261 </span>                :<span class="lineCov">      12515 :       ao_ref_init (&amp;rhs1_ref, rhs1);</span></a>
<a name="3262"><span class="lineNum">    3262 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 12515 times"> + </span>]:<span class="lineCov">      12515 :       if (!ao_ref_init_from_vn_reference (&amp;r, ao_ref_alias_set (&amp;rhs1_ref),</span></a>
<a name="3263"><span class="lineNum">    3263 </span>                :            :                                           ao_ref_base_alias_set (&amp;rhs1_ref),</a>
<a name="3264"><span class="lineNum">    3264 </span>                :            :                                           vr-&gt;type, vr-&gt;operands))</a>
<a name="3265"><span class="lineNum">    3265 </span>                :<span class="lineNoCov">          0 :         return (void *)-1;</span></a>
<a name="3266"><span class="lineNum">    3266 </span>                :            :       /* This can happen with bitfields.  */</a>
<a name="3267"><span class="lineNum">    3267 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 12515 times"> + </span>]:<span class="lineCov">      12515 :       if (maybe_ne (ref-&gt;size, r.size))</span></a>
<a name="3268"><span class="lineNum">    3268 </span>                :            :         {</a>
<a name="3269"><span class="lineNum">    3269 </span>                :            :           /* If the access lacks some subsetting simply apply that by</a>
<a name="3270"><span class="lineNum">    3270 </span>                :            :              shortening it.  That in the end can only be successful</a>
<a name="3271"><span class="lineNum">    3271 </span>                :            :              if we can pun the lookup result which in turn requires</a>
<a name="3272"><span class="lineNum">    3272 </span>                :            :              exact offsets.  */</a>
<a name="3273"><span class="lineNum">    3273 </span>                :<span class="lineNoCov">          0 :           if (known_eq (r.size, r.max_size)</span></a>
<a name="3274"><span class="lineNum">    3274 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :               &amp;&amp; known_lt (ref-&gt;size, r.size))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="3275"><span class="lineNum">    3275 </span>                :<span class="lineNoCov">          0 :             r.size = r.max_size = ref-&gt;size;</span></a>
<a name="3276"><span class="lineNum">    3276 </span>                :            :           else</a>
<a name="3277"><span class="lineNum">    3277 </span>                :<span class="lineNoCov">          0 :             return (void *)-1;</span></a>
<a name="3278"><span class="lineNum">    3278 </span>                :            :         }</a>
<a name="3279"><span class="lineNum">    3279 </span>                :<span class="lineCov">      12515 :       *ref = r;</span></a>
<a name="3280"><span class="lineNum">    3280 </span>                :            : </a>
<a name="3281"><span class="lineNum">    3281 </span>                :            :       /* Do not update last seen VUSE after translating.  */</a>
<a name="3282"><span class="lineNum">    3282 </span>                :<span class="lineCov">      12515 :       data-&gt;last_vuse_ptr = NULL;</span></a>
<a name="3283"><span class="lineNum">    3283 </span>                :            :       /* Invalidate the original access path since it now contains</a>
<a name="3284"><span class="lineNum">    3284 </span>                :            :          the wrong base.  */</a>
<a name="3285"><span class="lineNum">    3285 </span>                :<span class="lineCov">      12515 :       data-&gt;orig_ref.ref = NULL_TREE;</span></a>
<a name="3286"><span class="lineNum">    3286 </span>                :            :       /* Use the alias-set of this LHS for recording an eventual result.  */</a>
<a name="3287"><span class="lineNum">    3287 </span>        [<span class="branchCov" title="Branch 0 was taken 11538 times"> + </span><span class="branchCov" title="Branch 1 was taken 977 times"> + </span>]:<span class="lineCov">      12515 :       if (data-&gt;first_set == -2)</span></a>
<a name="3288"><span class="lineNum">    3288 </span>                :            :         {</a>
<a name="3289"><span class="lineNum">    3289 </span>                :<span class="lineCov">      11538 :           data-&gt;first_set = ao_ref_alias_set (&amp;lhs_ref);</span></a>
<a name="3290"><span class="lineNum">    3290 </span>                :<span class="lineCov">      11538 :           data-&gt;first_base_set = ao_ref_base_alias_set (&amp;lhs_ref);</span></a>
<a name="3291"><span class="lineNum">    3291 </span>                :            :         }</a>
<a name="3292"><span class="lineNum">    3292 </span>                :            : </a>
<a name="3293"><span class="lineNum">    3293 </span>                :            :       /* Keep looking for the adjusted *REF / VR pair.  */</a>
<a name="3294"><span class="lineNum">    3294 </span>                :<span class="lineCov">      12515 :       return NULL;</span></a>
<a name="3295"><span class="lineNum">    3295 </span>                :            :     }</a>
<a name="3296"><span class="lineNum">    3296 </span>                :            : </a>
<a name="3297"><span class="lineNum">    3297 </span>                :            :   /* 6) For memcpy copies translate the reference through them if the copy</a>
<a name="3298"><span class="lineNum">    3298 </span>                :            :      kills ref.  But we cannot (easily) do this translation if the memcpy is</a>
<a name="3299"><span class="lineNum">    3299 </span>                :            :      a storage order barrier, i.e. is equivalent to a VIEW_CONVERT_EXPR that</a>
<a name="3300"><span class="lineNum">    3300 </span>                :            :      can modify the storage order of objects (see storage_order_barrier_p).  */</a>
<a name="3301"><span class="lineNum">    3301 </span>                :<span class="lineCov">     697930 :   else if (data-&gt;vn_walk_kind == VN_WALKREWRITE</span></a>
<a name="3302"><span class="lineNum">    3302 </span>        [<span class="branchCov" title="Branch 0 was taken 257043 times"> + </span><span class="branchCov" title="Branch 1 was taken 22 times"> + </span>]:<span class="lineCov">     257065 :            &amp;&amp; is_gimple_reg_type (vr-&gt;type)</span></a>
<a name="3303"><span class="lineNum">    3303 </span>                :            :            /* ???  Handle BCOPY as well.  */</a>
<a name="3304"><span class="lineNum">    3304 </span>        [<span class="branchCov" title="Branch 0 was taken 252723 times"> + </span><span class="branchCov" title="Branch 1 was taken 4320 times"> + </span>]:<span class="lineCov">     257043 :            &amp;&amp; (gimple_call_builtin_p (def_stmt, BUILT_IN_MEMCPY)</span></a>
<a name="3305"><span class="lineNum">    3305 </span>        [<span class="branchCov" title="Branch 0 was taken 252496 times"> + </span><span class="branchCov" title="Branch 1 was taken 227 times"> + </span>]:<span class="lineCov">     252723 :                || gimple_call_builtin_p (def_stmt, BUILT_IN_MEMCPY_CHK)</span></a>
<a name="3306"><span class="lineNum">    3306 </span>        [<span class="branchCov" title="Branch 0 was taken 251620 times"> + </span><span class="branchCov" title="Branch 1 was taken 876 times"> + </span>]:<span class="lineCov">     252496 :                || gimple_call_builtin_p (def_stmt, BUILT_IN_MEMPCPY)</span></a>
<a name="3307"><span class="lineNum">    3307 </span>        [<span class="branchCov" title="Branch 0 was taken 251390 times"> + </span><span class="branchCov" title="Branch 1 was taken 230 times"> + </span>]:<span class="lineCov">     251620 :                || gimple_call_builtin_p (def_stmt, BUILT_IN_MEMPCPY_CHK)</span></a>
<a name="3308"><span class="lineNum">    3308 </span>        [<span class="branchCov" title="Branch 0 was taken 251195 times"> + </span><span class="branchCov" title="Branch 1 was taken 195 times"> + </span>]:<span class="lineCov">     251390 :                || gimple_call_builtin_p (def_stmt, BUILT_IN_MEMMOVE)</span></a>
<a name="3309"><span class="lineNum">    3309 </span>        [<span class="branchCov" title="Branch 0 was taken 225 times"> + </span><span class="branchCov" title="Branch 1 was taken 250970 times"> + </span>]:<span class="lineCov">     251195 :                || gimple_call_builtin_p (def_stmt, BUILT_IN_MEMMOVE_CHK))</span></a>
<a name="3310"><span class="lineNum">    3310 </span>        [<span class="branchCov" title="Branch 0 was taken 5304 times"> + </span><span class="branchCov" title="Branch 1 was taken 769 times"> + </span>]:<span class="lineCov">       6073 :            &amp;&amp; (TREE_CODE (gimple_call_arg (def_stmt, 0)) == ADDR_EXPR</span></a>
<a name="3311"><span class="lineNum">    3311 </span>        [<span class="branchCov" title="Branch 0 was taken 5278 times"> + </span><span class="branchCov" title="Branch 1 was taken 26 times"> + </span>]:<span class="lineCov">       5304 :                || TREE_CODE (gimple_call_arg (def_stmt, 0)) == SSA_NAME)</span></a>
<a name="3312"><span class="lineNum">    3312 </span>        [<span class="branchCov" title="Branch 0 was taken 2180 times"> + </span><span class="branchCov" title="Branch 1 was taken 3867 times"> + </span>]:<span class="lineCov">       6047 :            &amp;&amp; (TREE_CODE (gimple_call_arg (def_stmt, 1)) == ADDR_EXPR</span></a>
<a name="3313"><span class="lineNum">    3313 </span>        [<span class="branchCov" title="Branch 0 was taken 2165 times"> + </span><span class="branchCov" title="Branch 1 was taken 15 times"> + </span>]:<span class="lineCov">       2180 :                || TREE_CODE (gimple_call_arg (def_stmt, 1)) == SSA_NAME)</span></a>
<a name="3314"><span class="lineNum">    3314 </span>        [<span class="branchCov" title="Branch 0 was taken 4149 times"> + </span><span class="branchCov" title="Branch 1 was taken 1883 times"> + </span>]:<span class="lineCov">       6032 :            &amp;&amp; (poly_int_tree_p (gimple_call_arg (def_stmt, 2), &amp;copy_size)</span></a>
<a name="3315"><span class="lineNum">    3315 </span>        [<span class="branchCov" title="Branch 0 was taken 4149 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       4149 :                || (TREE_CODE (gimple_call_arg (def_stmt, 2)) == SSA_NAME</span></a>
<a name="3316"><span class="lineNum">    3316 </span>        [<span class="branchCov" title="Branch 0 was taken 53 times"> + </span><span class="branchCov" title="Branch 1 was taken 4096 times"> + </span>]:<span class="lineCov">       4149 :                    &amp;&amp; poly_int_tree_p (SSA_VAL (gimple_call_arg (def_stmt, 2)),</span></a>
<a name="3317"><span class="lineNum">    3317 </span>                :            :                                        &amp;copy_size)))</a>
<a name="3318"><span class="lineNum">    3318 </span>                :            :            /* Handling this is more complicated, give up for now.  */</a>
<a name="3319"><span class="lineNum">    3319 </span>  [<span class="branchCov" title="Branch 0 was taken 257065 times"> + </span><span class="branchCov" title="Branch 1 was taken 91871 times"> + </span><span class="branchCov" title="Branch 2 was taken 1994 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     606001 :            &amp;&amp; data-&gt;partial_defs.is_empty ())</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1994 times"> + </span><span class="branchCov" title="Branch 5 was taken 347000 times"> + </span>]
<a name="3320"><span class="lineNum">    3320 </span>                :            :     {</a>
<a name="3321"><span class="lineNum">    3321 </span>                :            :       tree lhs, rhs;</a>
<a name="3322"><span class="lineNum">    3322 </span>                :<span class="lineCov">       1994 :       ao_ref r;</span></a>
<a name="3323"><span class="lineNum">    3323 </span>                :<span class="lineCov">       1994 :       poly_int64 rhs_offset, lhs_offset;</span></a>
<a name="3324"><span class="lineNum">    3324 </span>                :            :       vn_reference_op_s op;</a>
<a name="3325"><span class="lineNum">    3325 </span>                :<span class="lineCov">       1994 :       poly_uint64 mem_offset;</span></a>
<a name="3326"><span class="lineNum">    3326 </span>                :<span class="lineCov">       1994 :       poly_int64 at, byte_maxsize;</span></a>
<a name="3327"><span class="lineNum">    3327 </span>                :            : </a>
<a name="3328"><span class="lineNum">    3328 </span>                :            :       /* Only handle non-variable, addressable refs.  */</a>
<a name="3329"><span class="lineNum">    3329 </span>                :<span class="lineCov">       1994 :       if (maybe_ne (ref-&gt;size, maxsize)</span></a>
<a name="3330"><span class="lineNum">    3330 </span>        [<span class="branchCov" title="Branch 0 was taken 1994 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       1994 :           || !multiple_p (offset, BITS_PER_UNIT, &amp;at)</span></a>
<a name="3331"><span class="lineNum">    3331 </span>  [<span class="branchCov" title="Branch 0 was taken 1994 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 1994 times"> + </span> :<span class="lineCov">       3988 :           || !multiple_p (maxsize, BITS_PER_UNIT, &amp;byte_maxsize))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 1994 times"> + </span>]
<a name="3332"><span class="lineNum">    3332 </span>                :<span class="lineNoCov">          0 :         return (void *)-1;</span></a>
<a name="3333"><span class="lineNum">    3333 </span>                :            : </a>
<a name="3334"><span class="lineNum">    3334 </span>                :            :       /* Extract a pointer base and an offset for the destination.  */</a>
<a name="3335"><span class="lineNum">    3335 </span>                :<span class="lineCov">       1994 :       lhs = gimple_call_arg (def_stmt, 0);</span></a>
<a name="3336"><span class="lineNum">    3336 </span>                :<span class="lineCov">       1994 :       lhs_offset = 0;</span></a>
<a name="3337"><span class="lineNum">    3337 </span>        [<span class="branchCov" title="Branch 0 was taken 1233 times"> + </span><span class="branchCov" title="Branch 1 was taken 761 times"> + </span>]:<span class="lineCov">       1994 :       if (TREE_CODE (lhs) == SSA_NAME)</span></a>
<a name="3338"><span class="lineNum">    3338 </span>                :            :         {</a>
<a name="3339"><span class="lineNum">    3339 </span>                :<span class="lineCov">       1233 :           lhs = vn_valueize (lhs);</span></a>
<a name="3340"><span class="lineNum">    3340 </span>        [<span class="branchCov" title="Branch 0 was taken 1122 times"> + </span><span class="branchCov" title="Branch 1 was taken 111 times"> + </span>]:<span class="lineCov">       1233 :           if (TREE_CODE (lhs) == SSA_NAME)</span></a>
<a name="3341"><span class="lineNum">    3341 </span>                :            :             {</a>
<a name="3342"><span class="lineNum">    3342 </span>                :<span class="lineCov">       1122 :               gimple *def_stmt = SSA_NAME_DEF_STMT (lhs);</span></a>
<a name="3343"><span class="lineNum">    3343 </span>                :<span class="lineCov">       1122 :               if (gimple_assign_single_p (def_stmt)</span></a>
<a name="3344"><span class="lineNum">    3344 </span>  [<span class="branchCov" title="Branch 0 was taken 164 times"> + </span><span class="branchCov" title="Branch 1 was taken 958 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 164 times"> + </span> :<span class="lineCov">       1122 :                   &amp;&amp; gimple_assign_rhs_code (def_stmt) == ADDR_EXPR)</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 1122 times"> + </span>]
<a name="3345"><span class="lineNum">    3345 </span>                :<span class="lineNoCov">          0 :                 lhs = gimple_assign_rhs1 (def_stmt);</span></a>
<a name="3346"><span class="lineNum">    3346 </span>                :            :             }</a>
<a name="3347"><span class="lineNum">    3347 </span>                :            :         }</a>
<a name="3348"><span class="lineNum">    3348 </span>        [<span class="branchCov" title="Branch 0 was taken 872 times"> + </span><span class="branchCov" title="Branch 1 was taken 1122 times"> + </span>]:<span class="lineCov">       1994 :       if (TREE_CODE (lhs) == ADDR_EXPR)</span></a>
<a name="3349"><span class="lineNum">    3349 </span>                :            :         {</a>
<a name="3350"><span class="lineNum">    3350 </span>  [<span class="branchCov" title="Branch 0 was taken 87 times"> + </span><span class="branchCov" title="Branch 1 was taken 785 times"> + </span><span class="branchCov" title="Branch 2 was taken 15 times"> + </span><span class="branchCov" title="Branch 3 was taken 72 times"> + </span> :<span class="lineCov">        872 :           if (AGGREGATE_TYPE_P (TREE_TYPE (TREE_TYPE (lhs)))</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 15 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchCov" title="Branch 7 was taken 15 times"> + </span>]
<a name="3351"><span class="lineNum">    3351 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 857 times"> + </span>]:<span class="lineCov">        857 :               &amp;&amp; TYPE_REVERSE_STORAGE_ORDER (TREE_TYPE (TREE_TYPE (lhs))))</span></a>
<a name="3352"><span class="lineNum">    3352 </span>                :<span class="lineNoCov">          0 :             return (void *)-1;</span></a>
<a name="3353"><span class="lineNum">    3353 </span>                :<span class="lineCov">        872 :           tree tem = get_addr_base_and_unit_offset (TREE_OPERAND (lhs, 0),</span></a>
<a name="3354"><span class="lineNum">    3354 </span>                :            :                                                     &amp;lhs_offset);</a>
<a name="3355"><span class="lineNum">    3355 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 872 times"> + </span>]:<span class="lineCov">        872 :           if (!tem)</span></a>
<a name="3356"><span class="lineNum">    3356 </span>                :<span class="lineNoCov">          0 :             return (void *)-1;</span></a>
<a name="3357"><span class="lineNum">    3357 </span>                :<span class="lineCov">       1744 :           if (TREE_CODE (tem) == MEM_REF</span></a>
<a name="3358"><span class="lineNum">    3358 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 872 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        872 :               &amp;&amp; poly_int_tree_p (TREE_OPERAND (tem, 1), &amp;mem_offset))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 872 times"> + </span>]
<a name="3359"><span class="lineNum">    3359 </span>                :            :             {</a>
<a name="3360"><span class="lineNum">    3360 </span>                :<span class="lineNoCov">          0 :               lhs = TREE_OPERAND (tem, 0);</span></a>
<a name="3361"><span class="lineNum">    3361 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :               if (TREE_CODE (lhs) == SSA_NAME)</span></a>
<a name="3362"><span class="lineNum">    3362 </span>                :<span class="lineNoCov">          0 :                 lhs = vn_valueize (lhs);</span></a>
<a name="3363"><span class="lineNum">    3363 </span>                :<span class="lineNoCov">          0 :               lhs_offset += mem_offset;</span></a>
<a name="3364"><span class="lineNum">    3364 </span>                :            :             }</a>
<a name="3365"><span class="lineNum">    3365 </span>        [<span class="branchCov" title="Branch 0 was taken 872 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">        872 :           else if (DECL_P (tem))</span></a>
<a name="3366"><span class="lineNum">    3366 </span>                :<span class="lineCov">        872 :             lhs = build_fold_addr_expr (tem);</span></a>
<a name="3367"><span class="lineNum">    3367 </span>                :            :           else</a>
<a name="3368"><span class="lineNum">    3368 </span>                :<span class="lineNoCov">          0 :             return (void *)-1;</span></a>
<a name="3369"><span class="lineNum">    3369 </span>                :            :         }</a>
<a name="3370"><span class="lineNum">    3370 </span>        [<span class="branchCov" title="Branch 0 was taken 872 times"> + </span><span class="branchCov" title="Branch 1 was taken 1122 times"> + </span>]:<span class="lineCov">       1994 :       if (TREE_CODE (lhs) != SSA_NAME</span></a>
<a name="3371"><span class="lineNum">    3371 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 872 times"> + </span>]:<span class="lineCov">        872 :           &amp;&amp; TREE_CODE (lhs) != ADDR_EXPR)</span></a>
<a name="3372"><span class="lineNum">    3372 </span>                :<span class="lineNoCov">          0 :         return (void *)-1;</span></a>
<a name="3373"><span class="lineNum">    3373 </span>                :            : </a>
<a name="3374"><span class="lineNum">    3374 </span>                :            :       /* Extract a pointer base and an offset for the source.  */</a>
<a name="3375"><span class="lineNum">    3375 </span>                :<span class="lineCov">       1994 :       rhs = gimple_call_arg (def_stmt, 1);</span></a>
<a name="3376"><span class="lineNum">    3376 </span>                :<span class="lineCov">       1994 :       rhs_offset = 0;</span></a>
<a name="3377"><span class="lineNum">    3377 </span>        [<span class="branchCov" title="Branch 0 was taken 265 times"> + </span><span class="branchCov" title="Branch 1 was taken 1729 times"> + </span>]:<span class="lineCov">       1994 :       if (TREE_CODE (rhs) == SSA_NAME)</span></a>
<a name="3378"><span class="lineNum">    3378 </span>                :<span class="lineCov">        265 :         rhs = vn_valueize (rhs);</span></a>
<a name="3379"><span class="lineNum">    3379 </span>        [<span class="branchCov" title="Branch 0 was taken 1840 times"> + </span><span class="branchCov" title="Branch 1 was taken 154 times"> + </span>]:<span class="lineCov">       1994 :       if (TREE_CODE (rhs) == ADDR_EXPR)</span></a>
<a name="3380"><span class="lineNum">    3380 </span>                :            :         {</a>
<a name="3381"><span class="lineNum">    3381 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1840 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">       1840 :           if (AGGREGATE_TYPE_P (TREE_TYPE (TREE_TYPE (rhs)))</span></a>
<span class="lineNum">         </span>   <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span>]
<a name="3382"><span class="lineNum">    3382 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1840 times"> + </span>]:<span class="lineCov">       1840 :               &amp;&amp; TYPE_REVERSE_STORAGE_ORDER (TREE_TYPE (TREE_TYPE (rhs))))</span></a>
<a name="3383"><span class="lineNum">    3383 </span>                :<span class="lineNoCov">          0 :             return (void *)-1;</span></a>
<a name="3384"><span class="lineNum">    3384 </span>                :<span class="lineCov">       1840 :           tree tem = get_addr_base_and_unit_offset (TREE_OPERAND (rhs, 0),</span></a>
<a name="3385"><span class="lineNum">    3385 </span>                :            :                                                     &amp;rhs_offset);</a>
<a name="3386"><span class="lineNum">    3386 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1840 times"> + </span>]:<span class="lineCov">       1840 :           if (!tem)</span></a>
<a name="3387"><span class="lineNum">    3387 </span>                :<span class="lineNoCov">          0 :             return (void *)-1;</span></a>
<a name="3388"><span class="lineNum">    3388 </span>                :<span class="lineCov">       3680 :           if (TREE_CODE (tem) == MEM_REF</span></a>
<a name="3389"><span class="lineNum">    3389 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1840 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">       1840 :               &amp;&amp; poly_int_tree_p (TREE_OPERAND (tem, 1), &amp;mem_offset))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 1840 times"> + </span>]
<a name="3390"><span class="lineNum">    3390 </span>                :            :             {</a>
<a name="3391"><span class="lineNum">    3391 </span>                :<span class="lineNoCov">          0 :               rhs = TREE_OPERAND (tem, 0);</span></a>
<a name="3392"><span class="lineNum">    3392 </span>                :<span class="lineNoCov">          0 :               rhs_offset += mem_offset;</span></a>
<a name="3393"><span class="lineNum">    3393 </span>                :            :             }</a>
<a name="3394"><span class="lineNum">    3394 </span>        [<span class="branchCov" title="Branch 0 was taken 1332 times"> + </span><span class="branchCov" title="Branch 1 was taken 508 times"> + </span>]:<span class="lineCov">       1840 :           else if (DECL_P (tem)</span></a>
<a name="3395"><span class="lineNum">    3395 </span>        [<span class="branchCov" title="Branch 0 was taken 1332 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       1332 :                    || TREE_CODE (tem) == STRING_CST)</span></a>
<a name="3396"><span class="lineNum">    3396 </span>                :<span class="lineCov">       1840 :             rhs = build_fold_addr_expr (tem);</span></a>
<a name="3397"><span class="lineNum">    3397 </span>                :            :           else</a>
<a name="3398"><span class="lineNum">    3398 </span>                :<span class="lineNoCov">          0 :             return (void *)-1;</span></a>
<a name="3399"><span class="lineNum">    3399 </span>                :            :         }</a>
<a name="3400"><span class="lineNum">    3400 </span>        [<span class="branchCov" title="Branch 0 was taken 154 times"> + </span><span class="branchCov" title="Branch 1 was taken 1840 times"> + </span>]:<span class="lineCov">       1994 :       if (TREE_CODE (rhs) == SSA_NAME)</span></a>
<a name="3401"><span class="lineNum">    3401 </span>                :<span class="lineCov">        154 :         rhs = SSA_VAL (rhs);</span></a>
<a name="3402"><span class="lineNum">    3402 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1840 times"> + </span>]:<span class="lineCov">       1840 :       else if (TREE_CODE (rhs) != ADDR_EXPR)</span></a>
<a name="3403"><span class="lineNum">    3403 </span>                :<span class="lineNoCov">          0 :         return (void *)-1;</span></a>
<a name="3404"><span class="lineNum">    3404 </span>                :            : </a>
<a name="3405"><span class="lineNum">    3405 </span>                :            :       /* The bases of the destination and the references have to agree.  */</a>
<a name="3406"><span class="lineNum">    3406 </span>        [<span class="branchCov" title="Branch 0 was taken 422 times"> + </span><span class="branchCov" title="Branch 1 was taken 1572 times"> + </span>]:<span class="lineCov">       1994 :       if (TREE_CODE (base) == MEM_REF)</span></a>
<a name="3407"><span class="lineNum">    3407 </span>                :            :         {</a>
<a name="3408"><span class="lineNum">    3408 </span>                :<span class="lineCov">        844 :           if (TREE_OPERAND (base, 0) != lhs</span></a>
<a name="3409"><span class="lineNum">    3409 </span>  [<span class="branchCov" title="Branch 0 was taken 8 times"> + </span><span class="branchCov" title="Branch 1 was taken 414 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 8 times"> + </span> :<span class="lineCov">        422 :               || !poly_int_tree_p (TREE_OPERAND (base, 1), &amp;mem_offset))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 414 times"> + </span><span class="branchCov" title="Branch 5 was taken 8 times"> + </span>]
<a name="3410"><span class="lineNum">    3410 </span>                :<span class="lineCov">        414 :             return (void *) -1;</span></a>
<a name="3411"><span class="lineNum">    3411 </span>                :<span class="lineCov">          8 :           at += mem_offset;</span></a>
<a name="3412"><span class="lineNum">    3412 </span>                :            :         }</a>
<a name="3413"><span class="lineNum">    3413 </span>        [<span class="branchCov" title="Branch 0 was taken 1572 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       1572 :       else if (!DECL_P (base)</span></a>
<a name="3414"><span class="lineNum">    3414 </span>        [<span class="branchCov" title="Branch 0 was taken 664 times"> + </span><span class="branchCov" title="Branch 1 was taken 908 times"> + </span>]:<span class="lineCov">       1572 :                || TREE_CODE (lhs) != ADDR_EXPR</span></a>
<a name="3415"><span class="lineNum">    3415 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 664 times"> + </span>]:<span class="lineCov">        664 :                || TREE_OPERAND (lhs, 0) != base)</span></a>
<a name="3416"><span class="lineNum">    3416 </span>                :<span class="lineCov">        908 :         return (void *)-1;</span></a>
<a name="3417"><span class="lineNum">    3417 </span>                :            : </a>
<a name="3418"><span class="lineNum">    3418 </span>                :            :       /* If the access is completely outside of the memcpy destination</a>
<a name="3419"><span class="lineNum">    3419 </span>                :            :          area there is no aliasing.  */</a>
<a name="3420"><span class="lineNum">    3420 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 672 times"> + </span>]:<span class="lineCov">        672 :       if (!ranges_maybe_overlap_p (lhs_offset, copy_size, at, byte_maxsize))</span></a>
<a name="3421"><span class="lineNum">    3421 </span>                :<span class="lineNoCov">          0 :         return NULL;</span></a>
<a name="3422"><span class="lineNum">    3422 </span>                :            :       /* And the access has to be contained within the memcpy destination.  */</a>
<a name="3423"><span class="lineNum">    3423 </span>        [<span class="branchCov" title="Branch 0 was taken 3 times"> + </span><span class="branchCov" title="Branch 1 was taken 669 times"> + </span>]:<span class="lineCov">        672 :       if (!known_subrange_p (at, byte_maxsize, lhs_offset, copy_size))</span></a>
<a name="3424"><span class="lineNum">    3424 </span>                :<span class="lineCov">          3 :         return (void *)-1;</span></a>
<a name="3425"><span class="lineNum">    3425 </span>                :            : </a>
<a name="3426"><span class="lineNum">    3426 </span>                :            :       /* Save the operands since we need to use the original ones for</a>
<a name="3427"><span class="lineNum">    3427 </span>                :            :          the hash entry we use.  */</a>
<a name="3428"><span class="lineNum">    3428 </span>        [<span class="branchCov" title="Branch 0 was taken 669 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">        669 :       if (!data-&gt;saved_operands.exists ())</span></a>
<a name="3429"><span class="lineNum">    3429 </span>                :<span class="lineCov">        669 :         data-&gt;saved_operands = vr-&gt;operands.copy ();</span></a>
<a name="3430"><span class="lineNum">    3430 </span>                :            : </a>
<a name="3431"><span class="lineNum">    3431 </span>                :            :       /* Make room for 2 operands in the new reference.  */</a>
<a name="3432"><span class="lineNum">    3432 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 669 times"> + </span>]:<span class="lineCov">        669 :       if (vr-&gt;operands.length () &lt; 2)</span></a>
<a name="3433"><span class="lineNum">    3433 </span>                :            :         {</a>
<a name="3434"><span class="lineNum">    3434 </span>                :<span class="lineNoCov">          0 :           vec&lt;vn_reference_op_s&gt; old = vr-&gt;operands;</span></a>
<a name="3435"><span class="lineNum">    3435 </span>                :<span class="lineNoCov">          0 :           vr-&gt;operands.safe_grow_cleared (2, true);</span></a>
<a name="3436"><span class="lineNum">    3436 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :           if (old == shared_lookup_references)</span></a>
<a name="3437"><span class="lineNum">    3437 </span>                :<span class="lineNoCov">          0 :             shared_lookup_references = vr-&gt;operands;</span></a>
<a name="3438"><span class="lineNum">    3438 </span>                :            :         }</a>
<a name="3439"><span class="lineNum">    3439 </span>                :            :       else</a>
<a name="3440"><span class="lineNum">    3440 </span>                :<span class="lineCov">        669 :         vr-&gt;operands.truncate (2);</span></a>
<a name="3441"><span class="lineNum">    3441 </span>                :            : </a>
<a name="3442"><span class="lineNum">    3442 </span>                :            :       /* The looked-through reference is a simple MEM_REF.  */</a>
<a name="3443"><span class="lineNum">    3443 </span>                :<span class="lineCov">        669 :       memset (&amp;op, 0, sizeof (op));</span></a>
<a name="3444"><span class="lineNum">    3444 </span>                :<span class="lineCov">        669 :       op.type = vr-&gt;type;</span></a>
<a name="3445"><span class="lineNum">    3445 </span>                :<span class="lineCov">        669 :       op.opcode = MEM_REF;</span></a>
<a name="3446"><span class="lineNum">    3446 </span>                :<span class="lineCov">        669 :       op.op0 = build_int_cst (ptr_type_node, at - lhs_offset + rhs_offset);</span></a>
<a name="3447"><span class="lineNum">    3447 </span>                :<span class="lineCov">        669 :       op.off = at - lhs_offset + rhs_offset;</span></a>
<a name="3448"><span class="lineNum">    3448 </span>                :<span class="lineCov">        669 :       vr-&gt;operands[0] = op;</span></a>
<a name="3449"><span class="lineNum">    3449 </span>                :<span class="lineCov">        669 :       op.type = TREE_TYPE (rhs);</span></a>
<a name="3450"><span class="lineNum">    3450 </span>                :<span class="lineCov">        669 :       op.opcode = TREE_CODE (rhs);</span></a>
<a name="3451"><span class="lineNum">    3451 </span>                :<span class="lineCov">        669 :       op.op0 = rhs;</span></a>
<a name="3452"><span class="lineNum">    3452 </span>                :<span class="lineCov">        669 :       op.off = -1;</span></a>
<a name="3453"><span class="lineNum">    3453 </span>                :<span class="lineCov">        669 :       vr-&gt;operands[1] = op;</span></a>
<a name="3454"><span class="lineNum">    3454 </span>                :<span class="lineCov">        669 :       vr-&gt;hashcode = vn_reference_compute_hash (vr);</span></a>
<a name="3455"><span class="lineNum">    3455 </span>                :            : </a>
<a name="3456"><span class="lineNum">    3456 </span>                :            :       /* Try folding the new reference to a constant.  */</a>
<a name="3457"><span class="lineNum">    3457 </span>                :<span class="lineCov">        669 :       tree val = fully_constant_vn_reference_p (vr);</span></a>
<a name="3458"><span class="lineNum">    3458 </span>        [<span class="branchCov" title="Branch 0 was taken 558 times"> + </span><span class="branchCov" title="Branch 1 was taken 111 times"> + </span>]:<span class="lineCov">        669 :       if (val)</span></a>
<a name="3459"><span class="lineNum">    3459 </span>                :<span class="lineCov">        558 :         return data-&gt;finish (0, 0, val);</span></a>
<a name="3460"><span class="lineNum">    3460 </span>                :            : </a>
<a name="3461"><span class="lineNum">    3461 </span>                :            :       /* Adjust *ref from the new operands.  */</a>
<a name="3462"><span class="lineNum">    3462 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 111 times"> + </span>]:<span class="lineCov">        111 :       if (!ao_ref_init_from_vn_reference (&amp;r, 0, 0, vr-&gt;type, vr-&gt;operands))</span></a>
<a name="3463"><span class="lineNum">    3463 </span>                :<span class="lineNoCov">          0 :         return (void *)-1;</span></a>
<a name="3464"><span class="lineNum">    3464 </span>                :            :       /* This can happen with bitfields.  */</a>
<a name="3465"><span class="lineNum">    3465 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 111 times"> + </span>]:<span class="lineCov">        111 :       if (maybe_ne (ref-&gt;size, r.size))</span></a>
<a name="3466"><span class="lineNum">    3466 </span>                :<span class="lineNoCov">          0 :         return (void *)-1;</span></a>
<a name="3467"><span class="lineNum">    3467 </span>                :<span class="lineCov">        111 :       *ref = r;</span></a>
<a name="3468"><span class="lineNum">    3468 </span>                :            : </a>
<a name="3469"><span class="lineNum">    3469 </span>                :            :       /* Do not update last seen VUSE after translating.  */</a>
<a name="3470"><span class="lineNum">    3470 </span>                :<span class="lineCov">        111 :       data-&gt;last_vuse_ptr = NULL;</span></a>
<a name="3471"><span class="lineNum">    3471 </span>                :            :       /* Invalidate the original access path since it now contains</a>
<a name="3472"><span class="lineNum">    3472 </span>                :            :          the wrong base.  */</a>
<a name="3473"><span class="lineNum">    3473 </span>                :<span class="lineCov">        111 :       data-&gt;orig_ref.ref = NULL_TREE;</span></a>
<a name="3474"><span class="lineNum">    3474 </span>                :            :       /* Use the alias-set of this stmt for recording an eventual result.  */</a>
<a name="3475"><span class="lineNum">    3475 </span>        [<span class="branchCov" title="Branch 0 was taken 111 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">        111 :       if (data-&gt;first_set == -2)</span></a>
<a name="3476"><span class="lineNum">    3476 </span>                :            :         {</a>
<a name="3477"><span class="lineNum">    3477 </span>                :<span class="lineCov">        111 :           data-&gt;first_set = 0;</span></a>
<a name="3478"><span class="lineNum">    3478 </span>                :<span class="lineCov">        111 :           data-&gt;first_base_set = 0;</span></a>
<a name="3479"><span class="lineNum">    3479 </span>                :            :         }</a>
<a name="3480"><span class="lineNum">    3480 </span>                :            : </a>
<a name="3481"><span class="lineNum">    3481 </span>                :            :       /* Keep looking for the adjusted *REF / VR pair.  */</a>
<a name="3482"><span class="lineNum">    3482 </span>                :<span class="lineCov">        111 :       return NULL;</span></a>
<a name="3483"><span class="lineNum">    3483 </span>                :            :     }</a>
<a name="3484"><span class="lineNum">    3484 </span>                :            : </a>
<a name="3485"><span class="lineNum">    3485 </span>                :            :   /* Bail out and stop walking.  */</a>
<a name="3486"><span class="lineNum">    3486 </span>                :<span class="lineCov">     421284 :   return (void *)-1;</span></a>
<a name="3487"><span class="lineNum">    3487 </span>                :            : }</a>
<a name="3488"><span class="lineNum">    3488 </span>                :            : </a>
<a name="3489"><span class="lineNum">    3489 </span>                :            : /* Return a reference op vector from OP that can be used for</a>
<a name="3490"><span class="lineNum">    3490 </span>                :            :    vn_reference_lookup_pieces.  The caller is responsible for releasing</a>
<a name="3491"><span class="lineNum">    3491 </span>                :            :    the vector.  */</a>
<a name="3492"><span class="lineNum">    3492 </span>                :            : </a>
<a name="3493"><span class="lineNum">    3493 </span>                :            : vec&lt;vn_reference_op_s&gt;</a>
<a name="3494"><span class="lineNum">    3494 </span>                :<span class="lineCov">     171345 : vn_reference_operands_for_lookup (tree op)</span></a>
<a name="3495"><span class="lineNum">    3495 </span>                :            : {</a>
<a name="3496"><span class="lineNum">    3496 </span>                :            :   bool valueized;</a>
<a name="3497"><span class="lineNum">    3497 </span>                :<span class="lineCov">     171345 :   return valueize_shared_reference_ops_from_ref (op, &amp;valueized).copy ();</span></a>
<a name="3498"><span class="lineNum">    3498 </span>                :            : }</a>
<a name="3499"><span class="lineNum">    3499 </span>                :            : </a>
<a name="3500"><span class="lineNum">    3500 </span>                :            : /* Lookup a reference operation by it's parts, in the current hash table.</a>
<a name="3501"><span class="lineNum">    3501 </span>                :            :    Returns the resulting value number if it exists in the hash table,</a>
<a name="3502"><span class="lineNum">    3502 </span>                :            :    NULL_TREE otherwise.  VNRESULT will be filled in with the actual</a>
<a name="3503"><span class="lineNum">    3503 </span>                :            :    vn_reference_t stored in the hashtable if something is found.  */</a>
<a name="3504"><span class="lineNum">    3504 </span>                :            : </a>
<a name="3505"><span class="lineNum">    3505 </span>                :            : tree</a>
<a name="3506"><span class="lineNum">    3506 </span>                :<span class="lineCov">     270409 : vn_reference_lookup_pieces (tree vuse, alias_set_type set,</span></a>
<a name="3507"><span class="lineNum">    3507 </span>                :            :                             alias_set_type base_set, tree type,</a>
<a name="3508"><span class="lineNum">    3508 </span>                :            :                             vec&lt;vn_reference_op_s&gt; operands,</a>
<a name="3509"><span class="lineNum">    3509 </span>                :            :                             vn_reference_t *vnresult, vn_lookup_kind kind)</a>
<a name="3510"><span class="lineNum">    3510 </span>                :            : {</a>
<a name="3511"><span class="lineNum">    3511 </span>                :            :   struct vn_reference_s vr1;</a>
<a name="3512"><span class="lineNum">    3512 </span>                :            :   vn_reference_t tmp;</a>
<a name="3513"><span class="lineNum">    3513 </span>                :            :   tree cst;</a>
<a name="3514"><span class="lineNum">    3514 </span>                :            : </a>
<a name="3515"><span class="lineNum">    3515 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 270409 times"> + </span>]:<span class="lineCov">     270409 :   if (!vnresult)</span></a>
<a name="3516"><span class="lineNum">    3516 </span>                :<span class="lineNoCov">          0 :     vnresult = &amp;tmp;</span></a>
<a name="3517"><span class="lineNum">    3517 </span>                :<span class="lineCov">     270409 :   *vnresult = NULL;</span></a>
<a name="3518"><span class="lineNum">    3518 </span>                :            : </a>
<a name="3519"><span class="lineNum">    3519 </span>                :<span class="lineCov">     270409 :   vr1.vuse = vuse_ssa_val (vuse);</span></a>
<a name="3520"><span class="lineNum">    3520 </span>                :<span class="lineCov">     270409 :   shared_lookup_references.truncate (0);</span></a>
<a name="3521"><span class="lineNum">    3521 </span>                :<span class="lineCov">     270409 :   shared_lookup_references.safe_grow (operands.length (), true);</span></a>
<a name="3522"><span class="lineNum">    3522 </span>                :<span class="lineCov">     270409 :   memcpy (shared_lookup_references.address (),</span></a>
<a name="3523"><span class="lineNum">    3523 </span>                :<span class="lineCov">     270409 :           operands.address (),</span></a>
<a name="3524"><span class="lineNum">    3524 </span>                :            :           sizeof (vn_reference_op_s)</a>
<a name="3525"><span class="lineNum">    3525 </span>                :<span class="lineCov">     270409 :           * operands.length ());</span></a>
<a name="3526"><span class="lineNum">    3526 </span>                :            :   bool valueized_p;</a>
<a name="3527"><span class="lineNum">    3527 </span>                :<span class="lineCov">     270409 :   valueize_refs_1 (&amp;shared_lookup_references, &amp;valueized_p);</span></a>
<a name="3528"><span class="lineNum">    3528 </span>                :<span class="lineCov">     270409 :   vr1.operands = shared_lookup_references;</span></a>
<a name="3529"><span class="lineNum">    3529 </span>                :<span class="lineCov">     270409 :   vr1.type = type;</span></a>
<a name="3530"><span class="lineNum">    3530 </span>                :<span class="lineCov">     270409 :   vr1.set = set;</span></a>
<a name="3531"><span class="lineNum">    3531 </span>                :<span class="lineCov">     270409 :   vr1.base_set = base_set;</span></a>
<a name="3532"><span class="lineNum">    3532 </span>                :<span class="lineCov">     270409 :   vr1.hashcode = vn_reference_compute_hash (&amp;vr1);</span></a>
<a name="3533"><span class="lineNum">    3533 </span>        [<span class="branchCov" title="Branch 0 was taken 836 times"> + </span><span class="branchCov" title="Branch 1 was taken 269573 times"> + </span>]:<span class="lineCov">     270409 :   if ((cst = fully_constant_vn_reference_p (&amp;vr1)))</span></a>
<a name="3534"><span class="lineNum">    3534 </span>                :<span class="lineCov">        836 :     return cst;</span></a>
<a name="3535"><span class="lineNum">    3535 </span>                :            : </a>
<a name="3536"><span class="lineNum">    3536 </span>                :<span class="lineCov">     269573 :   vn_reference_lookup_1 (&amp;vr1, vnresult);</span></a>
<a name="3537"><span class="lineNum">    3537 </span>        [<span class="branchCov" title="Branch 0 was taken 118858 times"> + </span><span class="branchCov" title="Branch 1 was taken 150715 times"> + </span>]:<span class="lineCov">     269573 :   if (!*vnresult</span></a>
<a name="3538"><span class="lineNum">    3538 </span>        [<span class="branchCov" title="Branch 0 was taken 118858 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     118858 :       &amp;&amp; kind != VN_NOWALK</span></a>
<a name="3539"><span class="lineNum">    3539 </span>        [<span class="branchCov" title="Branch 0 was taken 116003 times"> + </span><span class="branchCov" title="Branch 1 was taken 2855 times"> + </span>]:<span class="lineCov">     118858 :       &amp;&amp; vr1.vuse)</span></a>
<a name="3540"><span class="lineNum">    3540 </span>                :            :     {</a>
<a name="3541"><span class="lineNum">    3541 </span>                :<span class="lineCov">     116003 :       ao_ref r;</span></a>
<a name="3542"><span class="lineNum">    3542 </span>                :<span class="lineCov">     116003 :       unsigned limit = param_sccvn_max_alias_queries_per_access;</span></a>
<a name="3543"><span class="lineNum">    3543 </span>                :<span class="lineCov">     232006 :       vn_walk_cb_data data (&amp;vr1, NULL_TREE, NULL, kind, true, NULL_TREE);</span></a>
<a name="3544"><span class="lineNum">    3544 </span>                :            :       vec&lt;vn_reference_op_s&gt; ops_for_ref;</a>
<a name="3545"><span class="lineNum">    3545 </span>        [<span class="branchCov" title="Branch 0 was taken 111093 times"> + </span><span class="branchCov" title="Branch 1 was taken 4910 times"> + </span>]:<span class="lineCov">     116003 :       if (!valueized_p)</span></a>
<a name="3546"><span class="lineNum">    3546 </span>                :<span class="lineCov">     111093 :         ops_for_ref = vr1.operands;</span></a>
<a name="3547"><span class="lineNum">    3547 </span>                :            :       else</a>
<a name="3548"><span class="lineNum">    3548 </span>                :            :         {</a>
<a name="3549"><span class="lineNum">    3549 </span>                :            :           /* For ao_ref_from_mem we have to ensure only available SSA names</a>
<a name="3550"><span class="lineNum">    3550 </span>                :            :              end up in base and the only convenient way to make this work</a>
<a name="3551"><span class="lineNum">    3551 </span>                :            :              for PRE is to re-valueize with that in mind.  */</a>
<a name="3552"><span class="lineNum">    3552 </span>                :<span class="lineCov">       4910 :           ops_for_ref.create (operands.length ());</span></a>
<a name="3553"><span class="lineNum">    3553 </span>                :<span class="lineCov">       4910 :           ops_for_ref.quick_grow (operands.length ());</span></a>
<a name="3554"><span class="lineNum">    3554 </span>                :<span class="lineCov">       4910 :           memcpy (ops_for_ref.address (),</span></a>
<a name="3555"><span class="lineNum">    3555 </span>                :<span class="lineCov">       4910 :                   operands.address (),</span></a>
<a name="3556"><span class="lineNum">    3556 </span>                :            :                   sizeof (vn_reference_op_s)</a>
<a name="3557"><span class="lineNum">    3557 </span>                :<span class="lineCov">       4910 :                   * operands.length ());</span></a>
<a name="3558"><span class="lineNum">    3558 </span>                :<span class="lineCov">       4910 :           valueize_refs_1 (&amp;ops_for_ref, &amp;valueized_p, true);</span></a>
<a name="3559"><span class="lineNum">    3559 </span>                :            :         }</a>
<a name="3560"><span class="lineNum">    3560 </span>        [<span class="branchCov" title="Branch 0 was taken 112576 times"> + </span><span class="branchCov" title="Branch 1 was taken 3427 times"> + </span>]:<span class="lineCov">     116003 :       if (ao_ref_init_from_vn_reference (&amp;r, set, base_set, type,</span></a>
<a name="3561"><span class="lineNum">    3561 </span>                :            :                                          ops_for_ref))</a>
<a name="3562"><span class="lineNum">    3562 </span>                :            :         *vnresult</a>
<a name="3563"><span class="lineNum">    3563 </span>                :<span class="lineCov">     112576 :           = ((vn_reference_t)</span></a>
<a name="3564"><span class="lineNum">    3564 </span>                :<span class="lineCov">     112576 :              walk_non_aliased_vuses (&amp;r, vr1.vuse, true, vn_reference_lookup_2,</span></a>
<a name="3565"><span class="lineNum">    3565 </span>                :            :                                      vn_reference_lookup_3, vuse_valueize,</a>
<a name="3566"><span class="lineNum">    3566 </span>                :            :                                      limit, &amp;data));</a>
<a name="3567"><span class="lineNum">    3567 </span>        [<span class="branchCov" title="Branch 0 was taken 4910 times"> + </span><span class="branchCov" title="Branch 1 was taken 111093 times"> + </span>]:<span class="lineCov">     116003 :       if (ops_for_ref != shared_lookup_references)</span></a>
<a name="3568"><span class="lineNum">    3568 </span>                :<span class="lineCov">       4910 :         ops_for_ref.release ();</span></a>
<a name="3569"><span class="lineNum">    3569 </span>                :            :       gcc_checking_assert (vr1.operands == shared_lookup_references);</a>
<a name="3570"><span class="lineNum">    3570 </span>                :            :     }</a>
<a name="3571"><span class="lineNum">    3571 </span>                :            : </a>
<a name="3572"><span class="lineNum">    3572 </span>        [<span class="branchCov" title="Branch 0 was taken 193634 times"> + </span><span class="branchCov" title="Branch 1 was taken 75939 times"> + </span>]:<span class="lineCov">     269573 :   if (*vnresult)</span></a>
<a name="3573"><span class="lineNum">    3573 </span>                :<span class="lineCov">     193634 :      return (*vnresult)-&gt;result;</span></a>
<a name="3574"><span class="lineNum">    3574 </span>                :            : </a>
<a name="3575"><span class="lineNum">    3575 </span>                :<span class="lineCov">      75939 :   return NULL_TREE;</span></a>
<a name="3576"><span class="lineNum">    3576 </span>                :            : }</a>
<a name="3577"><span class="lineNum">    3577 </span>                :            : </a>
<a name="3578"><span class="lineNum">    3578 </span>                :            : /* Lookup OP in the current hash table, and return the resulting value</a>
<a name="3579"><span class="lineNum">    3579 </span>                :            :    number if it exists in the hash table.  Return NULL_TREE if it does</a>
<a name="3580"><span class="lineNum">    3580 </span>                :            :    not exist in the hash table or if the result field of the structure</a>
<a name="3581"><span class="lineNum">    3581 </span>                :            :    was NULL..  VNRESULT will be filled in with the vn_reference_t</a>
<a name="3582"><span class="lineNum">    3582 </span>                :            :    stored in the hashtable if one exists.  When TBAA_P is false assume</a>
<a name="3583"><span class="lineNum">    3583 </span>                :            :    we are looking up a store and treat it as having alias-set zero.</a>
<a name="3584"><span class="lineNum">    3584 </span>                :            :    *LAST_VUSE_PTR will be updated with the VUSE the value lookup succeeded.</a>
<a name="3585"><span class="lineNum">    3585 </span>                :            :    MASK is either NULL_TREE, or can be an INTEGER_CST if the result of the</a>
<a name="3586"><span class="lineNum">    3586 </span>                :            :    load is bitwise anded with MASK and so we are only interested in a subset</a>
<a name="3587"><span class="lineNum">    3587 </span>                :            :    of the bits and can ignore if the other bits are uninitialized or</a>
<a name="3588"><span class="lineNum">    3588 </span>                :            :    not initialized with constants.  */</a>
<a name="3589"><span class="lineNum">    3589 </span>                :            : </a>
<a name="3590"><span class="lineNum">    3590 </span>                :            : tree</a>
<a name="3591"><span class="lineNum">    3591 </span>                :<span class="lineCov">    2600790 : vn_reference_lookup (tree op, tree vuse, vn_lookup_kind kind,</span></a>
<a name="3592"><span class="lineNum">    3592 </span>                :            :                      vn_reference_t *vnresult, bool tbaa_p,</a>
<a name="3593"><span class="lineNum">    3593 </span>                :            :                      tree *last_vuse_ptr, tree mask)</a>
<a name="3594"><span class="lineNum">    3594 </span>                :            : {</a>
<a name="3595"><span class="lineNum">    3595 </span>                :            :   vec&lt;vn_reference_op_s&gt; operands;</a>
<a name="3596"><span class="lineNum">    3596 </span>                :            :   struct vn_reference_s vr1;</a>
<a name="3597"><span class="lineNum">    3597 </span>                :            :   bool valueized_anything;</a>
<a name="3598"><span class="lineNum">    3598 </span>                :            : </a>
<a name="3599"><span class="lineNum">    3599 </span>        [<span class="branchCov" title="Branch 0 was taken 2579760 times"> + </span><span class="branchCov" title="Branch 1 was taken 21035 times"> + </span>]:<span class="lineCov">    2600790 :   if (vnresult)</span></a>
<a name="3600"><span class="lineNum">    3600 </span>                :<span class="lineCov">    2579760 :     *vnresult = NULL;</span></a>
<a name="3601"><span class="lineNum">    3601 </span>                :            : </a>
<a name="3602"><span class="lineNum">    3602 </span>                :<span class="lineCov">    2600790 :   vr1.vuse = vuse_ssa_val (vuse);</span></a>
<a name="3603"><span class="lineNum">    3603 </span>                :<span class="lineCov">    2600790 :   vr1.operands = operands</span></a>
<a name="3604"><span class="lineNum">    3604 </span>                :<span class="lineCov">    2600790 :     = valueize_shared_reference_ops_from_ref (op, &amp;valueized_anything);</span></a>
<a name="3605"><span class="lineNum">    3605 </span>                :<span class="lineCov">    2600790 :   vr1.type = TREE_TYPE (op);</span></a>
<a name="3606"><span class="lineNum">    3606 </span>                :<span class="lineCov">    2600790 :   ao_ref op_ref;</span></a>
<a name="3607"><span class="lineNum">    3607 </span>                :<span class="lineCov">    2600790 :   ao_ref_init (&amp;op_ref, op);</span></a>
<a name="3608"><span class="lineNum">    3608 </span>                :<span class="lineCov">    2600790 :   vr1.set = ao_ref_alias_set (&amp;op_ref);</span></a>
<a name="3609"><span class="lineNum">    3609 </span>                :<span class="lineCov">    2600790 :   vr1.base_set = ao_ref_base_alias_set (&amp;op_ref);</span></a>
<a name="3610"><span class="lineNum">    3610 </span>                :<span class="lineCov">    2600790 :   vr1.hashcode = vn_reference_compute_hash (&amp;vr1);</span></a>
<a name="3611"><span class="lineNum">    3611 </span>        [<span class="branchCov" title="Branch 0 was taken 2579760 times"> + </span><span class="branchCov" title="Branch 1 was taken 21035 times"> + </span>]:<span class="lineCov">    2600790 :   if (mask == NULL_TREE)</span></a>
<a name="3612"><span class="lineNum">    3612 </span>        [<span class="branchCov" title="Branch 0 was taken 130 times"> + </span><span class="branchCov" title="Branch 1 was taken 2579620 times"> + </span>]:<span class="lineCov">    2579760 :     if (tree cst = fully_constant_vn_reference_p (&amp;vr1))</span></a>
<a name="3613"><span class="lineNum">    3613 </span>                :<span class="lineCov">        130 :       return cst;</span></a>
<a name="3614"><span class="lineNum">    3614 </span>                :            : </a>
<a name="3615"><span class="lineNum">    3615 </span>  [<span class="branchCov" title="Branch 0 was taken 1806490 times"> + </span><span class="branchCov" title="Branch 1 was taken 794171 times"> + </span><span class="branchCov" title="Branch 2 was taken 1739270 times"> + </span><span class="branchCov" title="Branch 3 was taken 67216 times"> + </span>]:<span class="lineCov">    2600660 :   if (kind != VN_NOWALK &amp;&amp; vr1.vuse)</span></a>
<a name="3616"><span class="lineNum">    3616 </span>                :            :     {</a>
<a name="3617"><span class="lineNum">    3617 </span>                :            :       vn_reference_t wvnresult;</a>
<a name="3618"><span class="lineNum">    3618 </span>                :<span class="lineCov">    1739270 :       ao_ref r;</span></a>
<a name="3619"><span class="lineNum">    3619 </span>                :<span class="lineCov">    1739270 :       unsigned limit = param_sccvn_max_alias_queries_per_access;</span></a>
<a name="3620"><span class="lineNum">    3620 </span>                :<span class="lineCov">    3478550 :       auto_vec&lt;vn_reference_op_s&gt; ops_for_ref;</span></a>
<a name="3621"><span class="lineNum">    3621 </span>        [<span class="branchCov" title="Branch 0 was taken 102638 times"> + </span><span class="branchCov" title="Branch 1 was taken 1636640 times"> + </span>]:<span class="lineCov">    1739270 :       if (valueized_anything)</span></a>
<a name="3622"><span class="lineNum">    3622 </span>                :            :         {</a>
<a name="3623"><span class="lineNum">    3623 </span>                :<span class="lineCov">     102638 :           copy_reference_ops_from_ref (op, &amp;ops_for_ref);</span></a>
<a name="3624"><span class="lineNum">    3624 </span>                :            :           bool tem;</a>
<a name="3625"><span class="lineNum">    3625 </span>                :<span class="lineCov">     102638 :           valueize_refs_1 (&amp;ops_for_ref, &amp;tem, true);</span></a>
<a name="3626"><span class="lineNum">    3626 </span>                :            :         }</a>
<a name="3627"><span class="lineNum">    3627 </span>                :            :       /* Make sure to use a valueized reference if we valueized anything.</a>
<a name="3628"><span class="lineNum">    3628 </span>                :            :          Otherwise preserve the full reference for advanced TBAA.  */</a>
<a name="3629"><span class="lineNum">    3629 </span>                :<span class="lineCov">    3478550 :       if (!valueized_anything</span></a>
<a name="3630"><span class="lineNum">    3630 </span>  [<span class="branchCov" title="Branch 0 was taken 102638 times"> + </span><span class="branchCov" title="Branch 1 was taken 1636640 times"> + </span><span class="branchCov" title="Branch 2 was taken 1809 times"> + </span><span class="branchCov" title="Branch 3 was taken 100829 times"> + </span> :<span class="lineCov">    1739270 :           || !ao_ref_init_from_vn_reference (&amp;r, vr1.set, vr1.base_set,</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1638440 times"> + </span><span class="branchCov" title="Branch 5 was taken 100829 times"> + </span>]
<a name="3631"><span class="lineNum">    3631 </span>                :            :                                              vr1.type, ops_for_ref))</a>
<a name="3632"><span class="lineNum">    3632 </span>                :<span class="lineCov">    1638440 :         ao_ref_init (&amp;r, op);</span></a>
<a name="3633"><span class="lineNum">    3633 </span>                :<span class="lineCov">    1739270 :       vn_walk_cb_data data (&amp;vr1, r.ref ? NULL_TREE : op,</span></a>
<a name="3634"><span class="lineNum">    3634 </span>        [<span class="branchCov" title="Branch 0 was taken 100829 times"> + </span><span class="branchCov" title="Branch 1 was taken 1638440 times"> + </span>]:<span class="lineCov">    3478550 :                             last_vuse_ptr, kind, tbaa_p, mask);</span></a>
<a name="3635"><span class="lineNum">    3635 </span>                :            : </a>
<a name="3636"><span class="lineNum">    3636 </span>                :            :       wvnresult</a>
<a name="3637"><span class="lineNum">    3637 </span>                :            :         = ((vn_reference_t)</a>
<a name="3638"><span class="lineNum">    3638 </span>                :<span class="lineCov">    1739270 :            walk_non_aliased_vuses (&amp;r, vr1.vuse, tbaa_p, vn_reference_lookup_2,</span></a>
<a name="3639"><span class="lineNum">    3639 </span>                :            :                                    vn_reference_lookup_3, vuse_valueize, limit,</a>
<a name="3640"><span class="lineNum">    3640 </span>                :            :                                    &amp;data));</a>
<a name="3641"><span class="lineNum">    3641 </span>                :            :       gcc_checking_assert (vr1.operands == shared_lookup_references);</a>
<a name="3642"><span class="lineNum">    3642 </span>        [<span class="branchCov" title="Branch 0 was taken 552330 times"> + </span><span class="branchCov" title="Branch 1 was taken 1186940 times"> + </span>]:<span class="lineCov">    1739270 :       if (wvnresult)</span></a>
<a name="3643"><span class="lineNum">    3643 </span>                :            :         {</a>
<a name="3644"><span class="lineNum">    3644 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 552330 times"> + </span>]:<span class="lineCov">     552330 :           gcc_assert (mask == NULL_TREE);</span></a>
<a name="3645"><span class="lineNum">    3645 </span>        [<span class="branchCov" title="Branch 0 was taken 552330 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     552330 :           if (vnresult)</span></a>
<a name="3646"><span class="lineNum">    3646 </span>                :<span class="lineCov">     552330 :             *vnresult = wvnresult;</span></a>
<a name="3647"><span class="lineNum">    3647 </span>                :<span class="lineCov">     552330 :           return wvnresult-&gt;result;</span></a>
<a name="3648"><span class="lineNum">    3648 </span>                :            :         }</a>
<a name="3649"><span class="lineNum">    3649 </span>        [<span class="branchCov" title="Branch 0 was taken 21035 times"> + </span><span class="branchCov" title="Branch 1 was taken 1165910 times"> + </span>]:<span class="lineCov">    1186940 :       else if (mask)</span></a>
<a name="3650"><span class="lineNum">    3650 </span>                :<span class="lineCov">      21035 :         return data.masked_result;</span></a>
<a name="3651"><span class="lineNum">    3651 </span>                :            : </a>
<a name="3652"><span class="lineNum">    3652 </span>                :<span class="lineCov">    1165910 :       return NULL_TREE;</span></a>
<a name="3653"><span class="lineNum">    3653 </span>                :            :     }</a>
<a name="3654"><span class="lineNum">    3654 </span>                :            : </a>
<a name="3655"><span class="lineNum">    3655 </span>        [<span class="branchCov" title="Branch 0 was taken 67216 times"> + </span><span class="branchCov" title="Branch 1 was taken 794171 times"> + </span>]:<span class="lineCov">     861387 :   if (last_vuse_ptr)</span></a>
<a name="3656"><span class="lineNum">    3656 </span>                :<span class="lineCov">      67216 :     *last_vuse_ptr = vr1.vuse;</span></a>
<a name="3657"><span class="lineNum">    3657 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 861387 times"> + </span>]:<span class="lineCov">     861387 :   if (mask)</span></a>
<a name="3658"><span class="lineNum">    3658 </span>                :<span class="lineNoCov">          0 :     return NULL_TREE;</span></a>
<a name="3659"><span class="lineNum">    3659 </span>                :<span class="lineCov">     861387 :   return vn_reference_lookup_1 (&amp;vr1, vnresult);</span></a>
<a name="3660"><span class="lineNum">    3660 </span>                :            : }</a>
<a name="3661"><span class="lineNum">    3661 </span>                :            : </a>
<a name="3662"><span class="lineNum">    3662 </span>                :            : /* Lookup CALL in the current hash table and return the entry in</a>
<a name="3663"><span class="lineNum">    3663 </span>                :            :    *VNRESULT if found.  Populates *VR for the hashtable lookup.  */</a>
<a name="3664"><span class="lineNum">    3664 </span>                :            : </a>
<a name="3665"><span class="lineNum">    3665 </span>                :            : void</a>
<a name="3666"><span class="lineNum">    3666 </span>                :<span class="lineCov">     274955 : vn_reference_lookup_call (gcall *call, vn_reference_t *vnresult,</span></a>
<a name="3667"><span class="lineNum">    3667 </span>                :            :                           vn_reference_t vr)</a>
<a name="3668"><span class="lineNum">    3668 </span>                :            : {</a>
<a name="3669"><span class="lineNum">    3669 </span>        [<span class="branchCov" title="Branch 0 was taken 274955 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     274955 :   if (vnresult)</span></a>
<a name="3670"><span class="lineNum">    3670 </span>                :<span class="lineCov">     274955 :     *vnresult = NULL;</span></a>
<a name="3671"><span class="lineNum">    3671 </span>                :            : </a>
<a name="3672"><span class="lineNum">    3672 </span>                :<span class="lineCov">     274955 :   tree vuse = gimple_vuse (call);</span></a>
<a name="3673"><span class="lineNum">    3673 </span>                :            : </a>
<a name="3674"><span class="lineNum">    3674 </span>        [<span class="branchCov" title="Branch 0 was taken 235120 times"> + </span><span class="branchCov" title="Branch 1 was taken 39835 times"> + </span>]:<span class="lineCov">     274955 :   vr-&gt;vuse = vuse ? SSA_VAL (vuse) : NULL_TREE;</span></a>
<a name="3675"><span class="lineNum">    3675 </span>                :<span class="lineCov">     274955 :   vr-&gt;operands = valueize_shared_reference_ops_from_call (call);</span></a>
<a name="3676"><span class="lineNum">    3676 </span>                :<span class="lineCov">     274955 :   vr-&gt;type = gimple_expr_type (call);</span></a>
<a name="3677"><span class="lineNum">    3677 </span>                :<span class="lineCov">     274955 :   vr-&gt;punned = false;</span></a>
<a name="3678"><span class="lineNum">    3678 </span>                :<span class="lineCov">     274955 :   vr-&gt;set = 0;</span></a>
<a name="3679"><span class="lineNum">    3679 </span>                :<span class="lineCov">     274955 :   vr-&gt;base_set = 0;</span></a>
<a name="3680"><span class="lineNum">    3680 </span>                :<span class="lineCov">     274955 :   vr-&gt;hashcode = vn_reference_compute_hash (vr);</span></a>
<a name="3681"><span class="lineNum">    3681 </span>                :<span class="lineCov">     274955 :   vn_reference_lookup_1 (vr, vnresult);</span></a>
<a name="3682"><span class="lineNum">    3682 </span>                :<span class="lineCov">     274955 : }</span></a>
<a name="3683"><span class="lineNum">    3683 </span>                :            : </a>
<a name="3684"><span class="lineNum">    3684 </span>                :            : /* Insert OP into the current hash table with a value number of RESULT.  */</a>
<a name="3685"><span class="lineNum">    3685 </span>                :            : </a>
<a name="3686"><span class="lineNum">    3686 </span>                :            : static void </a>
<a name="3687"><span class="lineNum">    3687 </span>                :<span class="lineCov">    1572510 : vn_reference_insert (tree op, tree result, tree vuse, tree vdef)</span></a>
<a name="3688"><span class="lineNum">    3688 </span>                :            : {</a>
<a name="3689"><span class="lineNum">    3689 </span>                :            :   vn_reference_s **slot;</a>
<a name="3690"><span class="lineNum">    3690 </span>                :            :   vn_reference_t vr1;</a>
<a name="3691"><span class="lineNum">    3691 </span>                :            :   bool tem;</a>
<a name="3692"><span class="lineNum">    3692 </span>                :            : </a>
<a name="3693"><span class="lineNum">    3693 </span>  [<span class="branchCov" title="Branch 0 was taken 239 times"> + </span><span class="branchCov" title="Branch 1 was taken 1572270 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 1572510 times"> + </span> :<span class="lineCov">    1572510 :   vr1 = XOBNEW (&amp;vn_tables_obstack, vn_reference_s);</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 1572510 times"> + </span>]
<a name="3694"><span class="lineNum">    3694 </span>        [<span class="branchCov" title="Branch 0 was taken 1153750 times"> + </span><span class="branchCov" title="Branch 1 was taken 418756 times"> + </span>]:<span class="lineCov">    1572510 :   if (TREE_CODE (result) == SSA_NAME)</span></a>
<a name="3695"><span class="lineNum">    3695 </span>                :<span class="lineCov">    1153750 :     vr1-&gt;value_id = VN_INFO (result)-&gt;value_id;</span></a>
<a name="3696"><span class="lineNum">    3696 </span>                :            :   else</a>
<a name="3697"><span class="lineNum">    3697 </span>                :<span class="lineCov">     418756 :     vr1-&gt;value_id = get_or_alloc_constant_value_id (result);</span></a>
<a name="3698"><span class="lineNum">    3698 </span>                :<span class="lineCov">    1572510 :   vr1-&gt;vuse = vuse_ssa_val (vuse);</span></a>
<a name="3699"><span class="lineNum">    3699 </span>                :<span class="lineCov">    1572510 :   vr1-&gt;operands = valueize_shared_reference_ops_from_ref (op, &amp;tem).copy ();</span></a>
<a name="3700"><span class="lineNum">    3700 </span>                :<span class="lineCov">    1572510 :   vr1-&gt;type = TREE_TYPE (op);</span></a>
<a name="3701"><span class="lineNum">    3701 </span>                :<span class="lineCov">    1572510 :   vr1-&gt;punned = false;</span></a>
<a name="3702"><span class="lineNum">    3702 </span>                :<span class="lineCov">    1572510 :   ao_ref op_ref;</span></a>
<a name="3703"><span class="lineNum">    3703 </span>                :<span class="lineCov">    1572510 :   ao_ref_init (&amp;op_ref, op);</span></a>
<a name="3704"><span class="lineNum">    3704 </span>                :<span class="lineCov">    1572510 :   vr1-&gt;set = ao_ref_alias_set (&amp;op_ref);</span></a>
<a name="3705"><span class="lineNum">    3705 </span>                :<span class="lineCov">    1572510 :   vr1-&gt;base_set = ao_ref_base_alias_set (&amp;op_ref);</span></a>
<a name="3706"><span class="lineNum">    3706 </span>                :<span class="lineCov">    1572510 :   vr1-&gt;hashcode = vn_reference_compute_hash (vr1);</span></a>
<a name="3707"><span class="lineNum">    3707 </span>        [<span class="branchCov" title="Branch 0 was taken 1153750 times"> + </span><span class="branchCov" title="Branch 1 was taken 418756 times"> + </span>]:<span class="lineCov">    1572510 :   vr1-&gt;result = TREE_CODE (result) == SSA_NAME ? SSA_VAL (result) : result;</span></a>
<a name="3708"><span class="lineNum">    3708 </span>                :<span class="lineCov">    1572510 :   vr1-&gt;result_vdef = vdef;</span></a>
<a name="3709"><span class="lineNum">    3709 </span>                :            : </a>
<a name="3710"><span class="lineNum">    3710 </span>                :<span class="lineCov">    1572510 :   slot = valid_info-&gt;references-&gt;find_slot_with_hash (vr1, vr1-&gt;hashcode,</span></a>
<a name="3711"><span class="lineNum">    3711 </span>                :            :                                                       INSERT);</a>
<a name="3712"><span class="lineNum">    3712 </span>                :            : </a>
<a name="3713"><span class="lineNum">    3713 </span>                :            :   /* Because IL walking on reference lookup can end up visiting</a>
<a name="3714"><span class="lineNum">    3714 </span>                :            :      a def that is only to be visited later in iteration order</a>
<a name="3715"><span class="lineNum">    3715 </span>                :            :      when we are about to make an irreducible region reducible</a>
<a name="3716"><span class="lineNum">    3716 </span>                :            :      the def can be effectively processed and its ref being inserted</a>
<a name="3717"><span class="lineNum">    3717 </span>                :            :      by vn_reference_lookup_3 already.  So we cannot assert (!*slot)</a>
<a name="3718"><span class="lineNum">    3718 </span>                :            :      but save a lookup if we deal with already inserted refs here.  */</a>
<a name="3719"><span class="lineNum">    3719 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1572510 times"> + </span>]:<span class="lineCov">    1572510 :   if (*slot)</span></a>
<a name="3720"><span class="lineNum">    3720 </span>                :            :     {</a>
<a name="3721"><span class="lineNum">    3721 </span>                :            :       /* We cannot assert that we have the same value either because</a>
<a name="3722"><span class="lineNum">    3722 </span>                :            :          when disentangling an irreducible region we may end up visiting</a>
<a name="3723"><span class="lineNum">    3723 </span>                :            :          a use before the corresponding def.  That's a missed optimization</a>
<a name="3724"><span class="lineNum">    3724 </span>                :            :          only though.  See gcc.dg/tree-ssa/pr87126.c for example.  */</a>
<a name="3725"><span class="lineNum">    3725 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :       if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS)</span></a>
<a name="3726"><span class="lineNum">    3726 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :           &amp;&amp; !operand_equal_p ((*slot)-&gt;result, vr1-&gt;result, 0))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="3727"><span class="lineNum">    3727 </span>                :            :         {</a>
<a name="3728"><span class="lineNum">    3728 </span>                :<span class="lineNoCov">          0 :           fprintf (dump_file, &quot;Keeping old value &quot;);</span></a>
<a name="3729"><span class="lineNum">    3729 </span>                :<span class="lineNoCov">          0 :           print_generic_expr (dump_file, (*slot)-&gt;result);</span></a>
<a name="3730"><span class="lineNum">    3730 </span>                :<span class="lineNoCov">          0 :           fprintf (dump_file, &quot; because of collision\n&quot;);</span></a>
<a name="3731"><span class="lineNum">    3731 </span>                :            :         }</a>
<a name="3732"><span class="lineNum">    3732 </span>                :<span class="lineNoCov">          0 :       free_reference (vr1);</span></a>
<a name="3733"><span class="lineNum">    3733 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span>]:<span class="lineNoCov">          0 :       obstack_free (&amp;vn_tables_obstack, vr1);</span></a>
<a name="3734"><span class="lineNum">    3734 </span>                :<span class="lineNoCov">          0 :       return;</span></a>
<a name="3735"><span class="lineNum">    3735 </span>                :            :     }</a>
<a name="3736"><span class="lineNum">    3736 </span>                :            : </a>
<a name="3737"><span class="lineNum">    3737 </span>                :<span class="lineCov">    1572510 :   *slot = vr1;</span></a>
<a name="3738"><span class="lineNum">    3738 </span>                :<span class="lineCov">    1572510 :   vr1-&gt;next = last_inserted_ref;</span></a>
<a name="3739"><span class="lineNum">    3739 </span>                :<span class="lineCov">    1572510 :   last_inserted_ref = vr1;</span></a>
<a name="3740"><span class="lineNum">    3740 </span>                :            : }</a>
<a name="3741"><span class="lineNum">    3741 </span>                :            : </a>
<a name="3742"><span class="lineNum">    3742 </span>                :            : /* Insert a reference by it's pieces into the current hash table with</a>
<a name="3743"><span class="lineNum">    3743 </span>                :            :    a value number of RESULT.  Return the resulting reference</a>
<a name="3744"><span class="lineNum">    3744 </span>                :            :    structure we created.  */</a>
<a name="3745"><span class="lineNum">    3745 </span>                :            : </a>
<a name="3746"><span class="lineNum">    3746 </span>                :            : vn_reference_t</a>
<a name="3747"><span class="lineNum">    3747 </span>                :<span class="lineCov">      82178 : vn_reference_insert_pieces (tree vuse, alias_set_type set,</span></a>
<a name="3748"><span class="lineNum">    3748 </span>                :            :                             alias_set_type base_set, tree type,</a>
<a name="3749"><span class="lineNum">    3749 </span>                :            :                             vec&lt;vn_reference_op_s&gt; operands,</a>
<a name="3750"><span class="lineNum">    3750 </span>                :            :                             tree result, unsigned int value_id)</a>
<a name="3751"><span class="lineNum">    3751 </span>                :            : </a>
<a name="3752"><span class="lineNum">    3752 </span>                :            : {</a>
<a name="3753"><span class="lineNum">    3753 </span>                :            :   vn_reference_s **slot;</a>
<a name="3754"><span class="lineNum">    3754 </span>                :            :   vn_reference_t vr1;</a>
<a name="3755"><span class="lineNum">    3755 </span>                :            : </a>
<a name="3756"><span class="lineNum">    3756 </span>  [<span class="branchCov" title="Branch 0 was taken 31 times"> + </span><span class="branchCov" title="Branch 1 was taken 82147 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 82178 times"> + </span> :<span class="lineCov">      82178 :   vr1 = XOBNEW (&amp;vn_tables_obstack, vn_reference_s);</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 82178 times"> + </span>]
<a name="3757"><span class="lineNum">    3757 </span>                :<span class="lineCov">      82178 :   vr1-&gt;value_id = value_id;</span></a>
<a name="3758"><span class="lineNum">    3758 </span>                :<span class="lineCov">      82178 :   vr1-&gt;vuse = vuse_ssa_val (vuse);</span></a>
<a name="3759"><span class="lineNum">    3759 </span>                :<span class="lineCov">      82178 :   vr1-&gt;operands = operands;</span></a>
<a name="3760"><span class="lineNum">    3760 </span>                :<span class="lineCov">      82178 :   valueize_refs (&amp;vr1-&gt;operands);</span></a>
<a name="3761"><span class="lineNum">    3761 </span>                :<span class="lineCov">      82178 :   vr1-&gt;type = type;</span></a>
<a name="3762"><span class="lineNum">    3762 </span>                :<span class="lineCov">      82178 :   vr1-&gt;punned = false;</span></a>
<a name="3763"><span class="lineNum">    3763 </span>                :<span class="lineCov">      82178 :   vr1-&gt;set = set;</span></a>
<a name="3764"><span class="lineNum">    3764 </span>                :<span class="lineCov">      82178 :   vr1-&gt;base_set = base_set;</span></a>
<a name="3765"><span class="lineNum">    3765 </span>                :<span class="lineCov">      82178 :   vr1-&gt;hashcode = vn_reference_compute_hash (vr1);</span></a>
<a name="3766"><span class="lineNum">    3766 </span>  [<span class="branchCov" title="Branch 0 was taken 10235 times"> + </span><span class="branchCov" title="Branch 1 was taken 71943 times"> + </span><span class="branchCov" title="Branch 2 was taken 5495 times"> + </span><span class="branchCov" title="Branch 3 was taken 4740 times"> + </span>]:<span class="lineCov">      82178 :   if (result &amp;&amp; TREE_CODE (result) == SSA_NAME)</span></a>
<a name="3767"><span class="lineNum">    3767 </span>                :<span class="lineCov">       5495 :     result = SSA_VAL (result);</span></a>
<a name="3768"><span class="lineNum">    3768 </span>                :<span class="lineCov">      82178 :   vr1-&gt;result = result;</span></a>
<a name="3769"><span class="lineNum">    3769 </span>                :            : </a>
<a name="3770"><span class="lineNum">    3770 </span>                :<span class="lineCov">      82178 :   slot = valid_info-&gt;references-&gt;find_slot_with_hash (vr1, vr1-&gt;hashcode,</span></a>
<a name="3771"><span class="lineNum">    3771 </span>                :            :                                                       INSERT);</a>
<a name="3772"><span class="lineNum">    3772 </span>                :            : </a>
<a name="3773"><span class="lineNum">    3773 </span>                :            :   /* At this point we should have all the things inserted that we have</a>
<a name="3774"><span class="lineNum">    3774 </span>                :            :      seen before, and we should never try inserting something that</a>
<a name="3775"><span class="lineNum">    3775 </span>                :            :      already exists.  */</a>
<a name="3776"><span class="lineNum">    3776 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 82178 times"> + </span>]:<span class="lineCov">      82178 :   gcc_assert (!*slot);</span></a>
<a name="3777"><span class="lineNum">    3777 </span>                :            : </a>
<a name="3778"><span class="lineNum">    3778 </span>                :<span class="lineCov">      82178 :   *slot = vr1;</span></a>
<a name="3779"><span class="lineNum">    3779 </span>                :<span class="lineCov">      82178 :   vr1-&gt;next = last_inserted_ref;</span></a>
<a name="3780"><span class="lineNum">    3780 </span>                :<span class="lineCov">      82178 :   last_inserted_ref = vr1;</span></a>
<a name="3781"><span class="lineNum">    3781 </span>                :<span class="lineCov">      82178 :   return vr1;</span></a>
<a name="3782"><span class="lineNum">    3782 </span>                :            : }</a>
<a name="3783"><span class="lineNum">    3783 </span>                :            : </a>
<a name="3784"><span class="lineNum">    3784 </span>                :            : /* Compute and return the hash value for nary operation VBO1.  */</a>
<a name="3785"><span class="lineNum">    3785 </span>                :            : </a>
<a name="3786"><span class="lineNum">    3786 </span>                :            : static hashval_t</a>
<a name="3787"><span class="lineNum">    3787 </span>                :<span class="lineCov">   12704200 : vn_nary_op_compute_hash (const vn_nary_op_t vno1)</span></a>
<a name="3788"><span class="lineNum">    3788 </span>                :            : {</a>
<a name="3789"><span class="lineNum">    3789 </span>                :<span class="lineCov">   12704200 :   inchash::hash hstate;</span></a>
<a name="3790"><span class="lineNum">    3790 </span>                :            :   unsigned i;</a>
<a name="3791"><span class="lineNum">    3791 </span>                :            : </a>
<a name="3792"><span class="lineNum">    3792 </span>        [<span class="branchCov" title="Branch 0 was taken 23627700 times"> + </span><span class="branchCov" title="Branch 1 was taken 12704200 times"> + </span>]:<span class="lineCov">   36331900 :   for (i = 0; i &lt; vno1-&gt;length; ++i)</span></a>
<a name="3793"><span class="lineNum">    3793 </span>        [<span class="branchCov" title="Branch 0 was taken 17644300 times"> + </span><span class="branchCov" title="Branch 1 was taken 5983420 times"> + </span>]:<span class="lineCov">   23627700 :     if (TREE_CODE (vno1-&gt;op[i]) == SSA_NAME)</span></a>
<a name="3794"><span class="lineNum">    3794 </span>                :<span class="lineCov">   17644300 :       vno1-&gt;op[i] = SSA_VAL (vno1-&gt;op[i]);</span></a>
<a name="3795"><span class="lineNum">    3795 </span>                :            : </a>
<a name="3796"><span class="lineNum">    3796 </span>                :<span class="lineCov">   25408400 :   if (((vno1-&gt;length == 2</span></a>
<a name="3797"><span class="lineNum">    3797 </span>        [<span class="branchCov" title="Branch 0 was taken 5365990 times"> + </span><span class="branchCov" title="Branch 1 was taken 5489180 times"> + </span>]:<span class="lineCov">   10855200 :         &amp;&amp; commutative_tree_code (vno1-&gt;opcode))</span></a>
<a name="3798"><span class="lineNum">    3798 </span>        [<span class="branchCov" title="Branch 0 was taken 27489 times"> + </span><span class="branchCov" title="Branch 1 was taken 7187530 times"> + </span>]:<span class="lineCov">    7215020 :        || (vno1-&gt;length == 3</span></a>
<a name="3799"><span class="lineNum">    3799 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 27489 times"> + </span>]:<span class="lineCov">      27489 :            &amp;&amp; commutative_ternary_tree_code (vno1-&gt;opcode)))</span></a>
<a name="3800"><span class="lineNum">    3800 </span>  [<span class="branchCov" title="Branch 0 was taken 10855200 times"> + </span><span class="branchCov" title="Branch 1 was taken 1849030 times"> + </span><span class="branchCov" title="Branch 2 was taken 212990 times"> + </span><span class="branchCov" title="Branch 3 was taken 5276190 times"> + </span> :<span class="lineCov">   25408400 :       &amp;&amp; tree_swap_operands_p (vno1-&gt;op[0], vno1-&gt;op[1]))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 212990 times"> + </span><span class="branchCov" title="Branch 5 was taken 12491200 times"> + </span>]
<a name="3801"><span class="lineNum">    3801 </span>                :<span class="lineCov">     212990 :     std::swap (vno1-&gt;op[0], vno1-&gt;op[1]);</span></a>
<a name="3802"><span class="lineNum">    3802 </span>                :<span class="lineCov">   24982400 :   else if (TREE_CODE_CLASS (vno1-&gt;opcode) == tcc_comparison</span></a>
<a name="3803"><span class="lineNum">    3803 </span>  [<span class="branchCov" title="Branch 0 was taken 7582710 times"> + </span><span class="branchCov" title="Branch 1 was taken 4908500 times"> + </span><span class="branchCov" title="Branch 2 was taken 274409 times"> + </span><span class="branchCov" title="Branch 3 was taken 7308300 times"> + </span> :<span class="lineCov">   12491200 :            &amp;&amp; tree_swap_operands_p (vno1-&gt;op[0], vno1-&gt;op[1]))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 274409 times"> + </span><span class="branchCov" title="Branch 5 was taken 12216800 times"> + </span>]
<a name="3804"><span class="lineNum">    3804 </span>                :            :     {</a>
<a name="3805"><span class="lineNum">    3805 </span>                :<span class="lineCov">     274409 :       std::swap (vno1-&gt;op[0], vno1-&gt;op[1]);</span></a>
<a name="3806"><span class="lineNum">    3806 </span>                :<span class="lineCov">     274409 :       vno1-&gt;opcode = swap_tree_comparison  (vno1-&gt;opcode);</span></a>
<a name="3807"><span class="lineNum">    3807 </span>                :            :     }</a>
<a name="3808"><span class="lineNum">    3808 </span>                :            : </a>
<a name="3809"><span class="lineNum">    3809 </span>                :<span class="lineCov">   12704200 :   hstate.add_int (vno1-&gt;opcode);</span></a>
<a name="3810"><span class="lineNum">    3810 </span>        [<span class="branchCov" title="Branch 0 was taken 23627700 times"> + </span><span class="branchCov" title="Branch 1 was taken 12704200 times"> + </span>]:<span class="lineCov">   36331900 :   for (i = 0; i &lt; vno1-&gt;length; ++i)</span></a>
<a name="3811"><span class="lineNum">    3811 </span>                :<span class="lineCov">   23627700 :     inchash::add_expr (vno1-&gt;op[i], hstate);</span></a>
<a name="3812"><span class="lineNum">    3812 </span>                :            : </a>
<a name="3813"><span class="lineNum">    3813 </span>                :<span class="lineCov">   12704200 :   return hstate.end ();</span></a>
<a name="3814"><span class="lineNum">    3814 </span>                :            : }</a>
<a name="3815"><span class="lineNum">    3815 </span>                :            : </a>
<a name="3816"><span class="lineNum">    3816 </span>                :            : /* Compare nary operations VNO1 and VNO2 and return true if they are</a>
<a name="3817"><span class="lineNum">    3817 </span>                :            :    equivalent.  */</a>
<a name="3818"><span class="lineNum">    3818 </span>                :            : </a>
<a name="3819"><span class="lineNum">    3819 </span>                :            : bool</a>
<a name="3820"><span class="lineNum">    3820 </span>                :<span class="lineCov">   11888300 : vn_nary_op_eq (const_vn_nary_op_t const vno1, const_vn_nary_op_t const vno2)</span></a>
<a name="3821"><span class="lineNum">    3821 </span>                :            : {</a>
<a name="3822"><span class="lineNum">    3822 </span>                :            :   unsigned i;</a>
<a name="3823"><span class="lineNum">    3823 </span>                :            : </a>
<a name="3824"><span class="lineNum">    3824 </span>        [<span class="branchCov" title="Branch 0 was taken 7677170 times"> + </span><span class="branchCov" title="Branch 1 was taken 4211090 times"> + </span>]:<span class="lineCov">   11888300 :   if (vno1-&gt;hashcode != vno2-&gt;hashcode)</span></a>
<a name="3825"><span class="lineNum">    3825 </span>                :<span class="lineCov">    7677170 :     return false;</span></a>
<a name="3826"><span class="lineNum">    3826 </span>                :            : </a>
<a name="3827"><span class="lineNum">    3827 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 4211090 times"> + </span>]:<span class="lineCov">    4211090 :   if (vno1-&gt;length != vno2-&gt;length)</span></a>
<a name="3828"><span class="lineNum">    3828 </span>                :<span class="lineNoCov">          0 :     return false;</span></a>
<a name="3829"><span class="lineNum">    3829 </span>                :            : </a>
<a name="3830"><span class="lineNum">    3830 </span>                :<span class="lineCov">    8422180 :   if (vno1-&gt;opcode != vno2-&gt;opcode</span></a>
<a name="3831"><span class="lineNum">    3831 </span>  [<span class="branchCov" title="Branch 0 was taken 4211090 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 126297 times"> + </span><span class="branchCov" title="Branch 3 was taken 4084790 times"> + </span> :<span class="lineCov">    4211090 :       || !types_compatible_p (vno1-&gt;type, vno2-&gt;type))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 126297 times"> + </span><span class="branchCov" title="Branch 5 was taken 4084790 times"> + </span>]
<a name="3832"><span class="lineNum">    3832 </span>                :<span class="lineCov">     126297 :     return false;</span></a>
<a name="3833"><span class="lineNum">    3833 </span>                :            : </a>
<a name="3834"><span class="lineNum">    3834 </span>        [<span class="branchCov" title="Branch 0 was taken 7674260 times"> + </span><span class="branchCov" title="Branch 1 was taken 4084020 times"> + </span>]:<span class="lineCov">   11758300 :   for (i = 0; i &lt; vno1-&gt;length; ++i)</span></a>
<a name="3835"><span class="lineNum">    3835 </span>        [<span class="branchCov" title="Branch 0 was taken 775 times"> + </span><span class="branchCov" title="Branch 1 was taken 7673480 times"> + </span>]:<span class="lineCov">    7674260 :     if (!expressions_equal_p (vno1-&gt;op[i], vno2-&gt;op[i]))</span></a>
<a name="3836"><span class="lineNum">    3836 </span>                :<span class="lineCov">        775 :       return false;</span></a>
<a name="3837"><span class="lineNum">    3837 </span>                :            : </a>
<a name="3838"><span class="lineNum">    3838 </span>                :            :   /* BIT_INSERT_EXPR has an implict operand as the type precision</a>
<a name="3839"><span class="lineNum">    3839 </span>                :            :      of op1.  Need to check to make sure they are the same.  */</a>
<a name="3840"><span class="lineNum">    3840 </span>        [<span class="branchCov" title="Branch 0 was taken 8 times"> + </span><span class="branchCov" title="Branch 1 was taken 4084010 times"> + </span>]:<span class="lineCov">    4084020 :   if (vno1-&gt;opcode == BIT_INSERT_EXPR</span></a>
<a name="3841"><span class="lineNum">    3841 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 8 times"> + </span>]:<span class="lineCov">          8 :       &amp;&amp; TREE_CODE (vno1-&gt;op[1]) == INTEGER_CST</span></a>
<a name="3842"><span class="lineNum">    3842 </span>                :<span class="lineNoCov">          0 :       &amp;&amp; TYPE_PRECISION (TREE_TYPE (vno1-&gt;op[1]))</span></a>
<a name="3843"><span class="lineNum">    3843 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :          != TYPE_PRECISION (TREE_TYPE (vno2-&gt;op[1])))</span></a>
<a name="3844"><span class="lineNum">    3844 </span>                :<span class="lineNoCov">          0 :     return false;</span></a>
<a name="3845"><span class="lineNum">    3845 </span>                :            : </a>
<a name="3846"><span class="lineNum">    3846 </span>                :<span class="lineCov">    4084020 :   return true;</span></a>
<a name="3847"><span class="lineNum">    3847 </span>                :            : }</a>
<a name="3848"><span class="lineNum">    3848 </span>                :            : </a>
<a name="3849"><span class="lineNum">    3849 </span>                :            : /* Initialize VNO from the pieces provided.  */</a>
<a name="3850"><span class="lineNum">    3850 </span>                :            : </a>
<a name="3851"><span class="lineNum">    3851 </span>                :            : static void</a>
<a name="3852"><span class="lineNum">    3852 </span>                :<span class="lineCov">    8569420 : init_vn_nary_op_from_pieces (vn_nary_op_t vno, unsigned int length,</span></a>
<a name="3853"><span class="lineNum">    3853 </span>                :            :                              enum tree_code code, tree type, tree *ops)</a>
<a name="3854"><span class="lineNum">    3854 </span>                :            : {</a>
<a name="3855"><span class="lineNum">    3855 </span>                :<span class="lineCov">    8569420 :   vno-&gt;opcode = code;</span></a>
<a name="3856"><span class="lineNum">    3856 </span>                :<span class="lineCov">    8569420 :   vno-&gt;length = length;</span></a>
<a name="3857"><span class="lineNum">    3857 </span>                :<span class="lineCov">    8569420 :   vno-&gt;type = type;</span></a>
<a name="3858"><span class="lineNum">    3858 </span>                :<span class="lineCov">    8569420 :   memcpy (&amp;vno-&gt;op[0], ops, sizeof (tree) * length);</span></a>
<a name="3859"><span class="lineNum">    3859 </span>                :<span class="lineCov">    8569420 : }</span></a>
<a name="3860"><span class="lineNum">    3860 </span>                :            : </a>
<a name="3861"><span class="lineNum">    3861 </span>                :            : /* Return the number of operands for a vn_nary ops structure from STMT.  */</a>
<a name="3862"><span class="lineNum">    3862 </span>                :            : </a>
<a name="3863"><span class="lineNum">    3863 </span>                :            : static unsigned int</a>
<a name="3864"><span class="lineNum">    3864 </span>                :<span class="lineCov">    4134780 : vn_nary_length_from_stmt (gimple *stmt)</span></a>
<a name="3865"><span class="lineNum">    3865 </span>                :            : {</a>
<a name="3866"><span class="lineNum">    3866 </span>  [<span class="branchCov" title="Branch 0 was taken 24919 times"> + </span><span class="branchCov" title="Branch 1 was taken 17017 times"> + </span><span class="branchCov" title="Branch 2 was taken 3418 times"> + </span><span class="branchCov" title="Branch 3 was taken 4089430 times"> + </span>]:<span class="lineCov">    4134780 :   switch (gimple_assign_rhs_code (stmt))</span></a>
<a name="3867"><span class="lineNum">    3867 </span>                :            :     {</a>
<a name="3868"><span class="lineNum">    3868 </span>                :<span class="lineCov">      24919 :     case REALPART_EXPR:</span></a>
<a name="3869"><span class="lineNum">    3869 </span>                :            :     case IMAGPART_EXPR:</a>
<a name="3870"><span class="lineNum">    3870 </span>                :            :     case VIEW_CONVERT_EXPR:</a>
<a name="3871"><span class="lineNum">    3871 </span>                :<span class="lineCov">      24919 :       return 1;</span></a>
<a name="3872"><span class="lineNum">    3872 </span>                :            : </a>
<a name="3873"><span class="lineNum">    3873 </span>                :<span class="lineCov">      17017 :     case BIT_FIELD_REF:</span></a>
<a name="3874"><span class="lineNum">    3874 </span>                :<span class="lineCov">      17017 :       return 3;</span></a>
<a name="3875"><span class="lineNum">    3875 </span>                :            : </a>
<a name="3876"><span class="lineNum">    3876 </span>                :<span class="lineCov">       3418 :     case CONSTRUCTOR:</span></a>
<a name="3877"><span class="lineNum">    3877 </span>                :<span class="lineCov">       3418 :       return CONSTRUCTOR_NELTS (gimple_assign_rhs1 (stmt));</span></a>
<a name="3878"><span class="lineNum">    3878 </span>                :            : </a>
<a name="3879"><span class="lineNum">    3879 </span>                :<span class="lineCov">    4089430 :     default:</span></a>
<a name="3880"><span class="lineNum">    3880 </span>                :<span class="lineCov">    4089430 :       return gimple_num_ops (stmt) - 1;</span></a>
<a name="3881"><span class="lineNum">    3881 </span>                :            :     }</a>
<a name="3882"><span class="lineNum">    3882 </span>                :            : }</a>
<a name="3883"><span class="lineNum">    3883 </span>                :            : </a>
<a name="3884"><span class="lineNum">    3884 </span>                :            : /* Initialize VNO from STMT.  */</a>
<a name="3885"><span class="lineNum">    3885 </span>                :            : </a>
<a name="3886"><span class="lineNum">    3886 </span>                :            : static void</a>
<a name="3887"><span class="lineNum">    3887 </span>                :<span class="lineCov">    4134780 : init_vn_nary_op_from_stmt (vn_nary_op_t vno, gimple *stmt)</span></a>
<a name="3888"><span class="lineNum">    3888 </span>                :            : {</a>
<a name="3889"><span class="lineNum">    3889 </span>                :            :   unsigned i;</a>
<a name="3890"><span class="lineNum">    3890 </span>                :            : </a>
<a name="3891"><span class="lineNum">    3891 </span>                :<span class="lineCov">    4134780 :   vno-&gt;opcode = gimple_assign_rhs_code (stmt);</span></a>
<a name="3892"><span class="lineNum">    3892 </span>                :<span class="lineCov">    4134780 :   vno-&gt;type = gimple_expr_type (stmt);</span></a>
<a name="3893"><span class="lineNum">    3893 </span>  [<span class="branchCov" title="Branch 0 was taken 24919 times"> + </span><span class="branchCov" title="Branch 1 was taken 17017 times"> + </span><span class="branchCov" title="Branch 2 was taken 3418 times"> + </span><span class="branchCov" title="Branch 3 was taken 4089430 times"> + </span>]:<span class="lineCov">    4134780 :   switch (vno-&gt;opcode)</span></a>
<a name="3894"><span class="lineNum">    3894 </span>                :            :     {</a>
<a name="3895"><span class="lineNum">    3895 </span>                :<span class="lineCov">      24919 :     case REALPART_EXPR:</span></a>
<a name="3896"><span class="lineNum">    3896 </span>                :            :     case IMAGPART_EXPR:</a>
<a name="3897"><span class="lineNum">    3897 </span>                :            :     case VIEW_CONVERT_EXPR:</a>
<a name="3898"><span class="lineNum">    3898 </span>                :<span class="lineCov">      24919 :       vno-&gt;length = 1;</span></a>
<a name="3899"><span class="lineNum">    3899 </span>                :<span class="lineCov">      24919 :       vno-&gt;op[0] = TREE_OPERAND (gimple_assign_rhs1 (stmt), 0);</span></a>
<a name="3900"><span class="lineNum">    3900 </span>                :<span class="lineCov">      24919 :       break;</span></a>
<a name="3901"><span class="lineNum">    3901 </span>                :            : </a>
<a name="3902"><span class="lineNum">    3902 </span>                :<span class="lineCov">      17017 :     case BIT_FIELD_REF:</span></a>
<a name="3903"><span class="lineNum">    3903 </span>                :<span class="lineCov">      17017 :       vno-&gt;length = 3;</span></a>
<a name="3904"><span class="lineNum">    3904 </span>                :<span class="lineCov">      17017 :       vno-&gt;op[0] = TREE_OPERAND (gimple_assign_rhs1 (stmt), 0);</span></a>
<a name="3905"><span class="lineNum">    3905 </span>                :<span class="lineCov">      17017 :       vno-&gt;op[1] = TREE_OPERAND (gimple_assign_rhs1 (stmt), 1);</span></a>
<a name="3906"><span class="lineNum">    3906 </span>                :<span class="lineCov">      17017 :       vno-&gt;op[2] = TREE_OPERAND (gimple_assign_rhs1 (stmt), 2);</span></a>
<a name="3907"><span class="lineNum">    3907 </span>                :<span class="lineCov">      17017 :       break;</span></a>
<a name="3908"><span class="lineNum">    3908 </span>                :            : </a>
<a name="3909"><span class="lineNum">    3909 </span>                :<span class="lineCov">       3418 :     case CONSTRUCTOR:</span></a>
<a name="3910"><span class="lineNum">    3910 </span>                :<span class="lineCov">       3418 :       vno-&gt;length = CONSTRUCTOR_NELTS (gimple_assign_rhs1 (stmt));</span></a>
<a name="3911"><span class="lineNum">    3911 </span>        [<span class="branchCov" title="Branch 0 was taken 17949 times"> + </span><span class="branchCov" title="Branch 1 was taken 3418 times"> + </span>]:<span class="lineCov">      21367 :       for (i = 0; i &lt; vno-&gt;length; ++i)</span></a>
<a name="3912"><span class="lineNum">    3912 </span>                :<span class="lineCov">      17949 :         vno-&gt;op[i] = CONSTRUCTOR_ELT (gimple_assign_rhs1 (stmt), i)-&gt;value;</span></a>
<a name="3913"><span class="lineNum">    3913 </span>                :<span class="lineCov">       3418 :       break;</span></a>
<a name="3914"><span class="lineNum">    3914 </span>                :            : </a>
<a name="3915"><span class="lineNum">    3915 </span>                :<span class="lineCov">    4089430 :     default:</span></a>
<a name="3916"><span class="lineNum">    3916 </span>                :            :       gcc_checking_assert (!gimple_assign_single_p (stmt));</a>
<a name="3917"><span class="lineNum">    3917 </span>                :<span class="lineCov">    4089430 :       vno-&gt;length = gimple_num_ops (stmt) - 1;</span></a>
<a name="3918"><span class="lineNum">    3918 </span>        [<span class="branchCov" title="Branch 0 was taken 6759070 times"> + </span><span class="branchCov" title="Branch 1 was taken 4089430 times"> + </span>]:<span class="lineCov">   10848500 :       for (i = 0; i &lt; vno-&gt;length; ++i)</span></a>
<a name="3919"><span class="lineNum">    3919 </span>                :<span class="lineCov">    6759070 :         vno-&gt;op[i] = gimple_op (stmt, i + 1);</span></a>
<a name="3920"><span class="lineNum">    3920 </span>                :            :     }</a>
<a name="3921"><span class="lineNum">    3921 </span>                :<span class="lineCov">    4134780 : }</span></a>
<a name="3922"><span class="lineNum">    3922 </span>                :            : </a>
<a name="3923"><span class="lineNum">    3923 </span>                :            : /* Compute the hashcode for VNO and look for it in the hash table;</a>
<a name="3924"><span class="lineNum">    3924 </span>                :            :    return the resulting value number if it exists in the hash table.</a>
<a name="3925"><span class="lineNum">    3925 </span>                :            :    Return NULL_TREE if it does not exist in the hash table or if the</a>
<a name="3926"><span class="lineNum">    3926 </span>                :            :    result field of the operation is NULL.  VNRESULT will contain the</a>
<a name="3927"><span class="lineNum">    3927 </span>                :            :    vn_nary_op_t from the hashtable if it exists.  */</a>
<a name="3928"><span class="lineNum">    3928 </span>                :            : </a>
<a name="3929"><span class="lineNum">    3929 </span>                :            : static tree</a>
<a name="3930"><span class="lineNum">    3930 </span>                :<span class="lineCov">    4558560 : vn_nary_op_lookup_1 (vn_nary_op_t vno, vn_nary_op_t *vnresult)</span></a>
<a name="3931"><span class="lineNum">    3931 </span>                :            : {</a>
<a name="3932"><span class="lineNum">    3932 </span>                :            :   vn_nary_op_s **slot;</a>
<a name="3933"><span class="lineNum">    3933 </span>                :            : </a>
<a name="3934"><span class="lineNum">    3934 </span>        [<span class="branchCov" title="Branch 0 was taken 4418560 times"> + </span><span class="branchCov" title="Branch 1 was taken 140001 times"> + </span>]:<span class="lineCov">    4558560 :   if (vnresult)</span></a>
<a name="3935"><span class="lineNum">    3935 </span>                :<span class="lineCov">    4418560 :     *vnresult = NULL;</span></a>
<a name="3936"><span class="lineNum">    3936 </span>                :            : </a>
<a name="3937"><span class="lineNum">    3937 </span>                :<span class="lineCov">    4558560 :   vno-&gt;hashcode = vn_nary_op_compute_hash (vno);</span></a>
<a name="3938"><span class="lineNum">    3938 </span>                :<span class="lineCov">    4558560 :   slot = valid_info-&gt;nary-&gt;find_slot_with_hash (vno, vno-&gt;hashcode, NO_INSERT);</span></a>
<a name="3939"><span class="lineNum">    3939 </span>        [<span class="branchCov" title="Branch 0 was taken 3751750 times"> + </span><span class="branchCov" title="Branch 1 was taken 806812 times"> + </span>]:<span class="lineCov">    4558560 :   if (!slot)</span></a>
<a name="3940"><span class="lineNum">    3940 </span>                :<span class="lineCov">    3751750 :     return NULL_TREE;</span></a>
<a name="3941"><span class="lineNum">    3941 </span>        [<span class="branchCov" title="Branch 0 was taken 801062 times"> + </span><span class="branchCov" title="Branch 1 was taken 5750 times"> + </span>]:<span class="lineCov">     806812 :   if (vnresult)</span></a>
<a name="3942"><span class="lineNum">    3942 </span>                :<span class="lineCov">     801062 :     *vnresult = *slot;</span></a>
<a name="3943"><span class="lineNum">    3943 </span>        [<span class="branchCov" title="Branch 0 was taken 630218 times"> + </span><span class="branchCov" title="Branch 1 was taken 176594 times"> + </span>]:<span class="lineCov">     806812 :   return (*slot)-&gt;predicated_values ? NULL_TREE : (*slot)-&gt;u.result;</span></a>
<a name="3944"><span class="lineNum">    3944 </span>                :            : }</a>
<a name="3945"><span class="lineNum">    3945 </span>                :            : </a>
<a name="3946"><span class="lineNum">    3946 </span>                :            : /* Lookup a n-ary operation by its pieces and return the resulting value</a>
<a name="3947"><span class="lineNum">    3947 </span>                :            :    number if it exists in the hash table.  Return NULL_TREE if it does</a>
<a name="3948"><span class="lineNum">    3948 </span>                :            :    not exist in the hash table or if the result field of the operation</a>
<a name="3949"><span class="lineNum">    3949 </span>                :            :    is NULL. VNRESULT will contain the vn_nary_op_t from the hashtable</a>
<a name="3950"><span class="lineNum">    3950 </span>                :            :    if it exists.  */</a>
<a name="3951"><span class="lineNum">    3951 </span>                :            : </a>
<a name="3952"><span class="lineNum">    3952 </span>                :            : tree</a>
<a name="3953"><span class="lineNum">    3953 </span>                :<span class="lineCov">    2236850 : vn_nary_op_lookup_pieces (unsigned int length, enum tree_code code,</span></a>
<a name="3954"><span class="lineNum">    3954 </span>                :            :                           tree type, tree *ops, vn_nary_op_t *vnresult)</a>
<a name="3955"><span class="lineNum">    3955 </span>                :            : {</a>
<a name="3956"><span class="lineNum">    3956 </span>                :<span class="lineCov">    2236850 :   vn_nary_op_t vno1 = XALLOCAVAR (struct vn_nary_op_s,</span></a>
<a name="3957"><span class="lineNum">    3957 </span>                :            :                                   sizeof_vn_nary_op (length));</a>
<a name="3958"><span class="lineNum">    3958 </span>                :<span class="lineCov">    2236850 :   init_vn_nary_op_from_pieces (vno1, length, code, type, ops);</span></a>
<a name="3959"><span class="lineNum">    3959 </span>                :<span class="lineCov">    2236850 :   return vn_nary_op_lookup_1 (vno1, vnresult);</span></a>
<a name="3960"><span class="lineNum">    3960 </span>                :            : }</a>
<a name="3961"><span class="lineNum">    3961 </span>                :            : </a>
<a name="3962"><span class="lineNum">    3962 </span>                :            : /* Lookup the rhs of STMT in the current hash table, and return the resulting</a>
<a name="3963"><span class="lineNum">    3963 </span>                :            :    value number if it exists in the hash table.  Return NULL_TREE if</a>
<a name="3964"><span class="lineNum">    3964 </span>                :            :    it does not exist in the hash table.  VNRESULT will contain the</a>
<a name="3965"><span class="lineNum">    3965 </span>                :            :    vn_nary_op_t from the hashtable if it exists.  */</a>
<a name="3966"><span class="lineNum">    3966 </span>                :            : </a>
<a name="3967"><span class="lineNum">    3967 </span>                :            : tree</a>
<a name="3968"><span class="lineNum">    3968 </span>                :<span class="lineCov">    2321710 : vn_nary_op_lookup_stmt (gimple *stmt, vn_nary_op_t *vnresult)</span></a>
<a name="3969"><span class="lineNum">    3969 </span>                :            : {</a>
<a name="3970"><span class="lineNum">    3970 </span>                :            :   vn_nary_op_t vno1</a>
<a name="3971"><span class="lineNum">    3971 </span>                :<span class="lineCov">    2321710 :     = XALLOCAVAR (struct vn_nary_op_s,</span></a>
<a name="3972"><span class="lineNum">    3972 </span>                :            :                   sizeof_vn_nary_op (vn_nary_length_from_stmt (stmt)));</a>
<a name="3973"><span class="lineNum">    3973 </span>                :<span class="lineCov">    2321710 :   init_vn_nary_op_from_stmt (vno1, stmt);</span></a>
<a name="3974"><span class="lineNum">    3974 </span>                :<span class="lineCov">    2321710 :   return vn_nary_op_lookup_1 (vno1, vnresult);</span></a>
<a name="3975"><span class="lineNum">    3975 </span>                :            : }</a>
<a name="3976"><span class="lineNum">    3976 </span>                :            : </a>
<a name="3977"><span class="lineNum">    3977 </span>                :            : /* Allocate a vn_nary_op_t with LENGTH operands on STACK.  */</a>
<a name="3978"><span class="lineNum">    3978 </span>                :            : </a>
<a name="3979"><span class="lineNum">    3979 </span>                :            : static vn_nary_op_t</a>
<a name="3980"><span class="lineNum">    3980 </span>                :<span class="lineCov">    8145640 : alloc_vn_nary_op_noinit (unsigned int length, struct obstack *stack)</span></a>
<a name="3981"><span class="lineNum">    3981 </span>                :            : {</a>
<a name="3982"><span class="lineNum">    3982 </span>  [<span class="branchCov" title="Branch 0 was taken 5006 times"> + </span><span class="branchCov" title="Branch 1 was taken 8140630 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 8145640 times"> + </span> :<span class="lineCov">    8145640 :   return (vn_nary_op_t) obstack_alloc (stack, sizeof_vn_nary_op (length));</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 8145640 times"> + </span>]
<a name="3983"><span class="lineNum">    3983 </span>                :            : }</a>
<a name="3984"><span class="lineNum">    3984 </span>                :            : </a>
<a name="3985"><span class="lineNum">    3985 </span>                :            : /* Allocate and initialize a vn_nary_op_t on CURRENT_INFO's</a>
<a name="3986"><span class="lineNum">    3986 </span>                :            :    obstack.  */</a>
<a name="3987"><span class="lineNum">    3987 </span>                :            : </a>
<a name="3988"><span class="lineNum">    3988 </span>                :            : static vn_nary_op_t</a>
<a name="3989"><span class="lineNum">    3989 </span>                :<span class="lineCov">    8008770 : alloc_vn_nary_op (unsigned int length, tree result, unsigned int value_id)</span></a>
<a name="3990"><span class="lineNum">    3990 </span>                :            : {</a>
<a name="3991"><span class="lineNum">    3991 </span>                :<span class="lineCov">    8008770 :   vn_nary_op_t vno1 = alloc_vn_nary_op_noinit (length, &amp;vn_tables_obstack);</span></a>
<a name="3992"><span class="lineNum">    3992 </span>                :            : </a>
<a name="3993"><span class="lineNum">    3993 </span>                :<span class="lineCov">    8008770 :   vno1-&gt;value_id = value_id;</span></a>
<a name="3994"><span class="lineNum">    3994 </span>                :<span class="lineCov">    8008770 :   vno1-&gt;length = length;</span></a>
<a name="3995"><span class="lineNum">    3995 </span>                :<span class="lineCov">    8008770 :   vno1-&gt;predicated_values = 0;</span></a>
<a name="3996"><span class="lineNum">    3996 </span>                :<span class="lineCov">    8008770 :   vno1-&gt;u.result = result;</span></a>
<a name="3997"><span class="lineNum">    3997 </span>                :            : </a>
<a name="3998"><span class="lineNum">    3998 </span>                :<span class="lineCov">    8008770 :   return vno1;</span></a>
<a name="3999"><span class="lineNum">    3999 </span>                :            : }</a>
<a name="4000"><span class="lineNum">    4000 </span>                :            : </a>
<a name="4001"><span class="lineNum">    4001 </span>                :            : /* Insert VNO into TABLE.  If COMPUTE_HASH is true, then compute</a>
<a name="4002"><span class="lineNum">    4002 </span>                :            :    VNO-&gt;HASHCODE first.  */</a>
<a name="4003"><span class="lineNum">    4003 </span>                :            : </a>
<a name="4004"><span class="lineNum">    4004 </span>                :            : static vn_nary_op_t</a>
<a name="4005"><span class="lineNum">    4005 </span>                :<span class="lineCov">    8145640 : vn_nary_op_insert_into (vn_nary_op_t vno, vn_nary_op_table_type *table,</span></a>
<a name="4006"><span class="lineNum">    4006 </span>                :            :                         bool compute_hash)</a>
<a name="4007"><span class="lineNum">    4007 </span>                :            : {</a>
<a name="4008"><span class="lineNum">    4008 </span>                :            :   vn_nary_op_s **slot;</a>
<a name="4009"><span class="lineNum">    4009 </span>                :            : </a>
<a name="4010"><span class="lineNum">    4010 </span>        [<span class="branchCov" title="Branch 0 was taken 8145640 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">    8145640 :   if (compute_hash)</span></a>
<a name="4011"><span class="lineNum">    4011 </span>                :            :     {</a>
<a name="4012"><span class="lineNum">    4012 </span>                :<span class="lineCov">    8145640 :       vno-&gt;hashcode = vn_nary_op_compute_hash (vno);</span></a>
<a name="4013"><span class="lineNum">    4013 </span>  [<span class="branchCov" title="Branch 0 was taken 6022270 times"> + </span><span class="branchCov" title="Branch 1 was taken 2123370 times"> + </span><span class="branchCov" title="Branch 2 was taken 6022270 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">    8145640 :       gcc_assert (! vno-&gt;predicated_values</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 6022270 times"> + </span>]
<a name="4014"><span class="lineNum">    4014 </span>                :            :                   || (! vno-&gt;u.values-&gt;next</a>
<a name="4015"><span class="lineNum">    4015 </span>                :            :                       &amp;&amp; vno-&gt;u.values-&gt;n == 1));</a>
<a name="4016"><span class="lineNum">    4016 </span>                :            :     }</a>
<a name="4017"><span class="lineNum">    4017 </span>                :            : </a>
<a name="4018"><span class="lineNum">    4018 </span>                :<span class="lineCov">    8145640 :   slot = table-&gt;find_slot_with_hash (vno, vno-&gt;hashcode, INSERT);</span></a>
<a name="4019"><span class="lineNum">    4019 </span>                :<span class="lineCov">    8145640 :   vno-&gt;unwind_to = *slot;</span></a>
<a name="4020"><span class="lineNum">    4020 </span>        [<span class="branchCov" title="Branch 0 was taken 2208960 times"> + </span><span class="branchCov" title="Branch 1 was taken 5936680 times"> + </span>]:<span class="lineCov">    8145640 :   if (*slot)</span></a>
<a name="4021"><span class="lineNum">    4021 </span>                :            :     {</a>
<a name="4022"><span class="lineNum">    4022 </span>                :            :       /* Prefer non-predicated values.</a>
<a name="4023"><span class="lineNum">    4023 </span>                :            :          ???  Only if those are constant, otherwise, with constant predicated</a>
<a name="4024"><span class="lineNum">    4024 </span>                :            :          value, turn them into predicated values with entry-block validity</a>
<a name="4025"><span class="lineNum">    4025 </span>                :            :          (???  but we always find the first valid result currently).  */</a>
<a name="4026"><span class="lineNum">    4026 </span>                :<span class="lineCov">    2208960 :       if ((*slot)-&gt;predicated_values</span></a>
<a name="4027"><span class="lineNum">    4027 </span>  [<span class="branchCov" title="Branch 0 was taken 2164830 times"> + </span><span class="branchCov" title="Branch 1 was taken 44134 times"> + </span><span class="branchCov" title="Branch 2 was taken 4293 times"> + </span><span class="branchCov" title="Branch 3 was taken 2160540 times"> + </span>]:<span class="lineCov">    2208960 :           &amp;&amp; ! vno-&gt;predicated_values)</span></a>
<a name="4028"><span class="lineNum">    4028 </span>                :            :         {</a>
<a name="4029"><span class="lineNum">    4029 </span>                :            :           /* ???  We cannot remove *slot from the unwind stack list.</a>
<a name="4030"><span class="lineNum">    4030 </span>                :            :              For the moment we deal with this by skipping not found</a>
<a name="4031"><span class="lineNum">    4031 </span>                :            :              entries but this isn't ideal ...  */</a>
<a name="4032"><span class="lineNum">    4032 </span>                :<span class="lineCov">       4293 :           *slot = vno;</span></a>
<a name="4033"><span class="lineNum">    4033 </span>                :            :           /* ???  Maintain a stack of states we can unwind in</a>
<a name="4034"><span class="lineNum">    4034 </span>                :            :              vn_nary_op_s?  But how far do we unwind?  In reality</a>
<a name="4035"><span class="lineNum">    4035 </span>                :            :              we need to push change records somewhere...  Or not</a>
<a name="4036"><span class="lineNum">    4036 </span>                :            :              unwind vn_nary_op_s and linking them but instead</a>
<a name="4037"><span class="lineNum">    4037 </span>                :            :              unwind the results &quot;list&quot;, linking that, which also</a>
<a name="4038"><span class="lineNum">    4038 </span>                :            :              doesn't move on hashtable resize.  */</a>
<a name="4039"><span class="lineNum">    4039 </span>                :            :           /* We can also have a -&gt;unwind_to recording *slot there.</a>
<a name="4040"><span class="lineNum">    4040 </span>                :            :              That way we can make u.values a fixed size array with</a>
<a name="4041"><span class="lineNum">    4041 </span>                :            :              recording the number of entries but of course we then</a>
<a name="4042"><span class="lineNum">    4042 </span>                :            :              have always N copies for each unwind_to-state.  Or we</a>
<a name="4043"><span class="lineNum">    4043 </span>                :            :              make sure to only ever append and each unwinding will</a>
<a name="4044"><span class="lineNum">    4044 </span>                :            :              pop off one entry (but how to deal with predicated</a>
<a name="4045"><span class="lineNum">    4045 </span>                :            :              replaced with non-predicated here?)  */</a>
<a name="4046"><span class="lineNum">    4046 </span>                :<span class="lineCov">       4293 :           vno-&gt;next = last_inserted_nary;</span></a>
<a name="4047"><span class="lineNum">    4047 </span>                :<span class="lineCov">       4293 :           last_inserted_nary = vno;</span></a>
<a name="4048"><span class="lineNum">    4048 </span>                :<span class="lineCov">       4293 :           return vno;</span></a>
<a name="4049"><span class="lineNum">    4049 </span>                :            :         }</a>
<a name="4050"><span class="lineNum">    4050 </span>                :<span class="lineCov">    2204670 :       else if (vno-&gt;predicated_values</span></a>
<a name="4051"><span class="lineNum">    4051 </span>  [<span class="branchCov" title="Branch 0 was taken 2204670 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 44134 times"> + </span><span class="branchCov" title="Branch 3 was taken 2160540 times"> + </span>]:<span class="lineCov">    2204670 :                &amp;&amp; ! (*slot)-&gt;predicated_values)</span></a>
<a name="4052"><span class="lineNum">    4052 </span>                :<span class="lineCov">      44134 :         return *slot;</span></a>
<a name="4053"><span class="lineNum">    4053 </span>                :<span class="lineCov">    2160540 :       else if (vno-&gt;predicated_values</span></a>
<a name="4054"><span class="lineNum">    4054 </span>  [<span class="branchCov" title="Branch 0 was taken 2160540 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 2160540 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">    2160540 :                &amp;&amp; (*slot)-&gt;predicated_values)</span></a>
<a name="4055"><span class="lineNum">    4055 </span>                :            :         {</a>
<a name="4056"><span class="lineNum">    4056 </span>                :            :           /* ???  Factor this all into a insert_single_predicated_value</a>
<a name="4057"><span class="lineNum">    4057 </span>                :            :              routine.  */</a>
<a name="4058"><span class="lineNum">    4058 </span>  [<span class="branchCov" title="Branch 0 was taken 2160540 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 2160540 times"> + </span>]:<span class="lineCov">    2160540 :           gcc_assert (!vno-&gt;u.values-&gt;next &amp;&amp; vno-&gt;u.values-&gt;n == 1);</span></a>
<a name="4059"><span class="lineNum">    4059 </span>                :            :           basic_block vno_bb</a>
<a name="4060"><span class="lineNum">    4060 </span>                :<span class="lineCov">    2160540 :             = BASIC_BLOCK_FOR_FN (cfun, vno-&gt;u.values-&gt;valid_dominated_by_p[0]);</span></a>
<a name="4061"><span class="lineNum">    4061 </span>                :<span class="lineCov">    2160540 :           vn_pval *nval = vno-&gt;u.values;</span></a>
<a name="4062"><span class="lineNum">    4062 </span>                :<span class="lineCov">    2160540 :           vn_pval **next = &amp;vno-&gt;u.values;</span></a>
<a name="4063"><span class="lineNum">    4063 </span>                :<span class="lineCov">    2160540 :           bool found = false;</span></a>
<a name="4064"><span class="lineNum">    4064 </span>        [<span class="branchCov" title="Branch 0 was taken 2919320 times"> + </span><span class="branchCov" title="Branch 1 was taken 2155510 times"> + </span>]:<span class="lineCov">    5074830 :           for (vn_pval *val = (*slot)-&gt;u.values; val; val = val-&gt;next)</span></a>
<a name="4065"><span class="lineNum">    4065 </span>                :            :             {</a>
<a name="4066"><span class="lineNum">    4066 </span>        [<span class="branchCov" title="Branch 0 was taken 633493 times"> + </span><span class="branchCov" title="Branch 1 was taken 2285830 times"> + </span>]:<span class="lineCov">    2919320 :               if (expressions_equal_p (val-&gt;result, vno-&gt;u.values-&gt;result))</span></a>
<a name="4067"><span class="lineNum">    4067 </span>                :            :                 {</a>
<a name="4068"><span class="lineNum">    4068 </span>                :<span class="lineCov">     633493 :                   found = true;</span></a>
<a name="4069"><span class="lineNum">    4069 </span>        [<span class="branchCov" title="Branch 0 was taken 883094 times"> + </span><span class="branchCov" title="Branch 1 was taken 628464 times"> + </span>]:<span class="lineCov">    1511560 :                   for (unsigned i = 0; i &lt; val-&gt;n; ++i)</span></a>
<a name="4070"><span class="lineNum">    4070 </span>                :            :                     {</a>
<a name="4071"><span class="lineNum">    4071 </span>                :            :                       basic_block val_bb</a>
<a name="4072"><span class="lineNum">    4072 </span>                :<span class="lineCov">     883094 :                         = BASIC_BLOCK_FOR_FN (cfun,</span></a>
<a name="4073"><span class="lineNum">    4073 </span>                :            :                                               val-&gt;valid_dominated_by_p[i]);</a>
<a name="4074"><span class="lineNum">    4074 </span>        [<span class="branchCov" title="Branch 0 was taken 5029 times"> + </span><span class="branchCov" title="Branch 1 was taken 878065 times"> + </span>]:<span class="lineCov">     883094 :                       if (dominated_by_p (CDI_DOMINATORS, vno_bb, val_bb))</span></a>
<a name="4075"><span class="lineNum">    4075 </span>                :            :                         /* Value registered with more generic predicate.  */</a>
<a name="4076"><span class="lineNum">    4076 </span>                :<span class="lineCov">       5029 :                         return *slot;</span></a>
<a name="4077"><span class="lineNum">    4077 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 878065 times"> + </span>]:<span class="lineCov">     878065 :                       else if (dominated_by_p (CDI_DOMINATORS, val_bb, vno_bb))</span></a>
<a name="4078"><span class="lineNum">    4078 </span>                :            :                         /* Shouldn't happen, we insert in RPO order.  */</a>
<a name="4079"><span class="lineNum">    4079 </span>                :<span class="lineNoCov">          0 :                         gcc_unreachable ();</span></a>
<a name="4080"><span class="lineNum">    4080 </span>                :            :                     }</a>
<a name="4081"><span class="lineNum">    4081 </span>                :            :                   /* Append value.  */</a>
<a name="4082"><span class="lineNum">    4082 </span>  [<span class="branchCov" title="Branch 0 was taken 39 times"> + </span><span class="branchCov" title="Branch 1 was taken 628425 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 628464 times"> + </span> :<span class="lineCov">     628464 :                   *next = (vn_pval *) obstack_alloc (&amp;vn_tables_obstack,</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 628464 times"> + </span>]
<a name="4083"><span class="lineNum">    4083 </span>                :            :                                                      sizeof (vn_pval)</a>
<a name="4084"><span class="lineNum">    4084 </span>                :            :                                                      + val-&gt;n * sizeof (int));</a>
<a name="4085"><span class="lineNum">    4085 </span>                :<span class="lineCov">     628464 :                   (*next)-&gt;next = NULL;</span></a>
<a name="4086"><span class="lineNum">    4086 </span>                :<span class="lineCov">     628464 :                   (*next)-&gt;result = val-&gt;result;</span></a>
<a name="4087"><span class="lineNum">    4087 </span>                :<span class="lineCov">     628464 :                   (*next)-&gt;n = val-&gt;n + 1;</span></a>
<a name="4088"><span class="lineNum">    4088 </span>                :<span class="lineCov">     628464 :                   memcpy ((*next)-&gt;valid_dominated_by_p,</span></a>
<a name="4089"><span class="lineNum">    4089 </span>                :<span class="lineCov">     628464 :                           val-&gt;valid_dominated_by_p,</span></a>
<a name="4090"><span class="lineNum">    4090 </span>                :<span class="lineCov">     628464 :                           val-&gt;n * sizeof (int));</span></a>
<a name="4091"><span class="lineNum">    4091 </span>                :<span class="lineCov">     628464 :                   (*next)-&gt;valid_dominated_by_p[val-&gt;n] = vno_bb-&gt;index;</span></a>
<a name="4092"><span class="lineNum">    4092 </span>                :<span class="lineCov">     628464 :                   next = &amp;(*next)-&gt;next;</span></a>
<a name="4093"><span class="lineNum">    4093 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 628464 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     628464 :                   if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 628464 times"> + </span>]
<a name="4094"><span class="lineNum">    4094 </span>                :<span class="lineNoCov">          0 :                     fprintf (dump_file, &quot;Appending predicate to value.\n&quot;);</span></a>
<a name="4095"><span class="lineNum">    4095 </span>                :<span class="lineCov">     628464 :                   continue;</span></a>
<a name="4096"><span class="lineNum">    4096 </span>                :            :                 }</a>
<a name="4097"><span class="lineNum">    4097 </span>                :            :               /* Copy other predicated values.  */</a>
<a name="4098"><span class="lineNum">    4098 </span>  [<span class="branchCov" title="Branch 0 was taken 214 times"> + </span><span class="branchCov" title="Branch 1 was taken 2285620 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 2285830 times"> + </span> :<span class="lineCov">    2285830 :               *next = (vn_pval *) obstack_alloc (&amp;vn_tables_obstack,</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 2285830 times"> + </span>]
<a name="4099"><span class="lineNum">    4099 </span>                :            :                                                  sizeof (vn_pval)</a>
<a name="4100"><span class="lineNum">    4100 </span>                :            :                                                  + (val-&gt;n-1) * sizeof (int));</a>
<a name="4101"><span class="lineNum">    4101 </span>                :<span class="lineCov">    2285830 :               memcpy (*next, val, sizeof (vn_pval) + (val-&gt;n-1) * sizeof (int));</span></a>
<a name="4102"><span class="lineNum">    4102 </span>                :<span class="lineCov">    2285830 :               (*next)-&gt;next = NULL;</span></a>
<a name="4103"><span class="lineNum">    4103 </span>                :<span class="lineCov">    2285830 :               next = &amp;(*next)-&gt;next;</span></a>
<a name="4104"><span class="lineNum">    4104 </span>                :            :             }</a>
<a name="4105"><span class="lineNum">    4105 </span>        [<span class="branchCov" title="Branch 0 was taken 1527040 times"> + </span><span class="branchCov" title="Branch 1 was taken 628464 times"> + </span>]:<span class="lineCov">    2155510 :           if (!found)</span></a>
<a name="4106"><span class="lineNum">    4106 </span>                :<span class="lineCov">    1527040 :             *next = nval;</span></a>
<a name="4107"><span class="lineNum">    4107 </span>                :            : </a>
<a name="4108"><span class="lineNum">    4108 </span>                :<span class="lineCov">    2155510 :           *slot = vno;</span></a>
<a name="4109"><span class="lineNum">    4109 </span>                :<span class="lineCov">    2155510 :           vno-&gt;next = last_inserted_nary;</span></a>
<a name="4110"><span class="lineNum">    4110 </span>                :<span class="lineCov">    2155510 :           last_inserted_nary = vno;</span></a>
<a name="4111"><span class="lineNum">    4111 </span>                :<span class="lineCov">    2155510 :           return vno;</span></a>
<a name="4112"><span class="lineNum">    4112 </span>                :            :         }</a>
<a name="4113"><span class="lineNum">    4113 </span>                :            : </a>
<a name="4114"><span class="lineNum">    4114 </span>                :            :       /* While we do not want to insert things twice it's awkward to</a>
<a name="4115"><span class="lineNum">    4115 </span>                :            :          avoid it in the case where visit_nary_op pattern-matches stuff</a>
<a name="4116"><span class="lineNum">    4116 </span>                :            :          and ends up simplifying the replacement to itself.  We then</a>
<a name="4117"><span class="lineNum">    4117 </span>                :            :          get two inserts, one from visit_nary_op and one from</a>
<a name="4118"><span class="lineNum">    4118 </span>                :            :          vn_nary_build_or_lookup.</a>
<a name="4119"><span class="lineNum">    4119 </span>                :            :          So allow inserts with the same value number.  */</a>
<a name="4120"><span class="lineNum">    4120 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :       if ((*slot)-&gt;u.result == vno-&gt;u.result)</span></a>
<a name="4121"><span class="lineNum">    4121 </span>                :<span class="lineNoCov">          0 :         return *slot;</span></a>
<a name="4122"><span class="lineNum">    4122 </span>                :            :     }</a>
<a name="4123"><span class="lineNum">    4123 </span>                :            : </a>
<a name="4124"><span class="lineNum">    4124 </span>                :            :   /* ???  There's also optimistic vs. previous commited state merging</a>
<a name="4125"><span class="lineNum">    4125 </span>                :            :      that is problematic for the case of unwinding.  */</a>
<a name="4126"><span class="lineNum">    4126 </span>                :            : </a>
<a name="4127"><span class="lineNum">    4127 </span>                :            :   /* ???  We should return NULL if we do not use 'vno' and have the</a>
<a name="4128"><span class="lineNum">    4128 </span>                :            :      caller release it.  */</a>
<a name="4129"><span class="lineNum">    4129 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 5936680 times"> + </span>]:<span class="lineCov">    5936680 :   gcc_assert (!*slot);</span></a>
<a name="4130"><span class="lineNum">    4130 </span>                :            : </a>
<a name="4131"><span class="lineNum">    4131 </span>                :<span class="lineCov">    5936680 :   *slot = vno;</span></a>
<a name="4132"><span class="lineNum">    4132 </span>                :<span class="lineCov">    5936680 :   vno-&gt;next = last_inserted_nary;</span></a>
<a name="4133"><span class="lineNum">    4133 </span>                :<span class="lineCov">    5936680 :   last_inserted_nary = vno;</span></a>
<a name="4134"><span class="lineNum">    4134 </span>                :<span class="lineCov">    5936680 :   return vno;</span></a>
<a name="4135"><span class="lineNum">    4135 </span>                :            : }</a>
<a name="4136"><span class="lineNum">    4136 </span>                :            : </a>
<a name="4137"><span class="lineNum">    4137 </span>                :            : /* Insert a n-ary operation into the current hash table using it's</a>
<a name="4138"><span class="lineNum">    4138 </span>                :            :    pieces.  Return the vn_nary_op_t structure we created and put in</a>
<a name="4139"><span class="lineNum">    4139 </span>                :            :    the hashtable.  */</a>
<a name="4140"><span class="lineNum">    4140 </span>                :            : </a>
<a name="4141"><span class="lineNum">    4141 </span>                :            : vn_nary_op_t</a>
<a name="4142"><span class="lineNum">    4142 </span>                :<span class="lineCov">     175503 : vn_nary_op_insert_pieces (unsigned int length, enum tree_code code,</span></a>
<a name="4143"><span class="lineNum">    4143 </span>                :            :                           tree type, tree *ops,</a>
<a name="4144"><span class="lineNum">    4144 </span>                :            :                           tree result, unsigned int value_id)</a>
<a name="4145"><span class="lineNum">    4145 </span>                :            : {</a>
<a name="4146"><span class="lineNum">    4146 </span>                :<span class="lineCov">     175503 :   vn_nary_op_t vno1 = alloc_vn_nary_op (length, result, value_id);</span></a>
<a name="4147"><span class="lineNum">    4147 </span>                :<span class="lineCov">     175503 :   init_vn_nary_op_from_pieces (vno1, length, code, type, ops);</span></a>
<a name="4148"><span class="lineNum">    4148 </span>                :<span class="lineCov">     175503 :   return vn_nary_op_insert_into (vno1, valid_info-&gt;nary, true);</span></a>
<a name="4149"><span class="lineNum">    4149 </span>                :            : }</a>
<a name="4150"><span class="lineNum">    4150 </span>                :            : </a>
<a name="4151"><span class="lineNum">    4151 </span>                :            : static vn_nary_op_t</a>
<a name="4152"><span class="lineNum">    4152 </span>                :<span class="lineCov">    8667750 : vn_nary_op_insert_pieces_predicated (unsigned int length, enum tree_code code,</span></a>
<a name="4153"><span class="lineNum">    4153 </span>                :            :                                      tree type, tree *ops,</a>
<a name="4154"><span class="lineNum">    4154 </span>                :            :                                      tree result, unsigned int value_id,</a>
<a name="4155"><span class="lineNum">    4155 </span>                :            :                                      edge pred_e)</a>
<a name="4156"><span class="lineNum">    4156 </span>                :            : {</a>
<a name="4157"><span class="lineNum">    4157 </span>                :            :   /* ???  Currently tracking BBs.  */</a>
<a name="4158"><span class="lineNum">    4158 </span>        [<span class="branchCov" title="Branch 0 was taken 2681670 times"> + </span><span class="branchCov" title="Branch 1 was taken 5986070 times"> + </span>]:<span class="lineCov">    8667750 :   if (! single_pred_p (pred_e-&gt;dest))</span></a>
<a name="4159"><span class="lineNum">    4159 </span>                :            :     {</a>
<a name="4160"><span class="lineNum">    4160 </span>                :            :       /* Never record for backedges.  */</a>
<a name="4161"><span class="lineNum">    4161 </span>        [<span class="branchCov" title="Branch 0 was taken 50620 times"> + </span><span class="branchCov" title="Branch 1 was taken 2631050 times"> + </span>]:<span class="lineCov">    2681670 :       if (pred_e-&gt;flags &amp; EDGE_DFS_BACK)</span></a>
<a name="4162"><span class="lineNum">    4162 </span>                :<span class="lineCov">    2645480 :         return NULL;</span></a>
<a name="4163"><span class="lineNum">    4163 </span>                :            :       edge_iterator ei;</a>
<a name="4164"><span class="lineNum">    4164 </span>                :            :       edge e;</a>
<a name="4165"><span class="lineNum">    4165 </span>                :<span class="lineCov">    2631050 :       int cnt = 0;</span></a>
<a name="4166"><span class="lineNum">    4166 </span>                :            :       /* Ignore backedges.  */</a>
<a name="4167"><span class="lineNum">    4167 </span>        [<span class="branchCov" title="Branch 0 was taken 10877400000 times"> + </span><span class="branchCov" title="Branch 1 was taken 2631050 times"> + </span>]:<span class="lineCov">10880100000 :       FOR_EACH_EDGE (e, ei, pred_e-&gt;dest-&gt;preds)</span></a>
<a name="4168"><span class="lineNum">    4168 </span>        [<span class="branchCov" title="Branch 0 was taken 10877400000 times"> + </span><span class="branchCov" title="Branch 1 was taken 40217 times"> + </span>]:<span class="lineCov">10877400000 :         if (! dominated_by_p (CDI_DOMINATORS, e-&gt;src, e-&gt;dest))</span></a>
<a name="4169"><span class="lineNum">    4169 </span>                :<span class="lineCov">10877400000 :           cnt++;</span></a>
<a name="4170"><span class="lineNum">    4170 </span>        [<span class="branchCov" title="Branch 0 was taken 2594860 times"> + </span><span class="branchCov" title="Branch 1 was taken 36195 times"> + </span>]:<span class="lineCov">    2631050 :       if (cnt != 1)</span></a>
<a name="4171"><span class="lineNum">    4171 </span>                :<span class="lineCov">    2594860 :         return NULL;</span></a>
<a name="4172"><span class="lineNum">    4172 </span>                :            :     }</a>
<a name="4173"><span class="lineNum">    4173 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :   if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS)</span></a>
<a name="4174"><span class="lineNum">    4174 </span>                :            :       /* ???  Fix dumping, but currently we only get comparisons.  */</a>
<a name="4175"><span class="lineNum">    4175 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 6022270 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">    6022270 :       &amp;&amp; TREE_CODE_CLASS (code) == tcc_comparison)</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 6022270 times"> + </span>]
<a name="4176"><span class="lineNum">    4176 </span>                :            :     {</a>
<a name="4177"><span class="lineNum">    4177 </span>                :<span class="lineNoCov">          0 :       fprintf (dump_file, &quot;Recording on edge %d-&gt;%d &quot;, pred_e-&gt;src-&gt;index,</span></a>
<a name="4178"><span class="lineNum">    4178 </span>                :<span class="lineNoCov">          0 :                pred_e-&gt;dest-&gt;index);</span></a>
<a name="4179"><span class="lineNum">    4179 </span>                :<span class="lineNoCov">          0 :       print_generic_expr (dump_file, ops[0], TDF_SLIM);</span></a>
<a name="4180"><span class="lineNum">    4180 </span>                :<span class="lineNoCov">          0 :       fprintf (dump_file, &quot; %s &quot;, get_tree_code_name (code));</span></a>
<a name="4181"><span class="lineNum">    4181 </span>                :<span class="lineNoCov">          0 :       print_generic_expr (dump_file, ops[1], TDF_SLIM);</span></a>
<a name="4182"><span class="lineNum">    4182 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :       fprintf (dump_file, &quot; == %s\n&quot;,</span></a>
<a name="4183"><span class="lineNum">    4183 </span>                :<span class="lineNoCov">          0 :                integer_zerop (result) ? &quot;false&quot; : &quot;true&quot;);</span></a>
<a name="4184"><span class="lineNum">    4184 </span>                :            :     }</a>
<a name="4185"><span class="lineNum">    4185 </span>                :<span class="lineCov">    6022270 :   vn_nary_op_t vno1 = alloc_vn_nary_op (length, NULL_TREE, value_id);</span></a>
<a name="4186"><span class="lineNum">    4186 </span>                :<span class="lineCov">    6022270 :   init_vn_nary_op_from_pieces (vno1, length, code, type, ops);</span></a>
<a name="4187"><span class="lineNum">    4187 </span>                :<span class="lineCov">    6022270 :   vno1-&gt;predicated_values = 1;</span></a>
<a name="4188"><span class="lineNum">    4188 </span>  [<span class="branchCov" title="Branch 0 was taken 336 times"> + </span><span class="branchCov" title="Branch 1 was taken 6021930 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 6022270 times"> + </span> :<span class="lineCov">    6022270 :   vno1-&gt;u.values = (vn_pval *) obstack_alloc (&amp;vn_tables_obstack,</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 6022270 times"> + </span>]
<a name="4189"><span class="lineNum">    4189 </span>                :            :                                               sizeof (vn_pval));</a>
<a name="4190"><span class="lineNum">    4190 </span>                :<span class="lineCov">    6022270 :   vno1-&gt;u.values-&gt;next = NULL;</span></a>
<a name="4191"><span class="lineNum">    4191 </span>                :<span class="lineCov">    6022270 :   vno1-&gt;u.values-&gt;result = result;</span></a>
<a name="4192"><span class="lineNum">    4192 </span>                :<span class="lineCov">    6022270 :   vno1-&gt;u.values-&gt;n = 1;</span></a>
<a name="4193"><span class="lineNum">    4193 </span>                :<span class="lineCov">    6022270 :   vno1-&gt;u.values-&gt;valid_dominated_by_p[0] = pred_e-&gt;dest-&gt;index;</span></a>
<a name="4194"><span class="lineNum">    4194 </span>                :<span class="lineCov">    6022270 :   return vn_nary_op_insert_into (vno1, valid_info-&gt;nary, true);</span></a>
<a name="4195"><span class="lineNum">    4195 </span>                :            : }</a>
<a name="4196"><span class="lineNum">    4196 </span>                :            : </a>
<a name="4197"><span class="lineNum">    4197 </span>                :            : static bool</a>
<a name="4198"><span class="lineNum">    4198 </span>                :            : dominated_by_p_w_unex (basic_block bb1, basic_block bb2, bool);</a>
<a name="4199"><span class="lineNum">    4199 </span>                :            : </a>
<a name="4200"><span class="lineNum">    4200 </span>                :            : static tree</a>
<a name="4201"><span class="lineNum">    4201 </span>                :<span class="lineCov">     174867 : vn_nary_op_get_predicated_value (vn_nary_op_t vno, basic_block bb)</span></a>
<a name="4202"><span class="lineNum">    4202 </span>                :            : {</a>
<a name="4203"><span class="lineNum">    4203 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 174867 times"> + </span>]:<span class="lineCov">     174867 :   if (! vno-&gt;predicated_values)</span></a>
<a name="4204"><span class="lineNum">    4204 </span>                :<span class="lineNoCov">          0 :     return vno-&gt;u.result;</span></a>
<a name="4205"><span class="lineNum">    4205 </span>        [<span class="branchCov" title="Branch 0 was taken 243710 times"> + </span><span class="branchCov" title="Branch 1 was taken 169032 times"> + </span>]:<span class="lineCov">     412742 :   for (vn_pval *val = vno-&gt;u.values; val; val = val-&gt;next)</span></a>
<a name="4206"><span class="lineNum">    4206 </span>        [<span class="branchCov" title="Branch 0 was taken 303616 times"> + </span><span class="branchCov" title="Branch 1 was taken 237875 times"> + </span>]:<span class="lineCov">     541491 :     for (unsigned i = 0; i &lt; val-&gt;n; ++i)</span></a>
<a name="4207"><span class="lineNum">    4207 </span>                :            :       /* Do not handle backedge executability optimistically since</a>
<a name="4208"><span class="lineNum">    4208 </span>                :            :          when figuring out whether to iterate we do not consider</a>
<a name="4209"><span class="lineNum">    4209 </span>                :            :          changed predication.  */</a>
<a name="4210"><span class="lineNum">    4210 </span>        [<span class="branchCov" title="Branch 0 was taken 5835 times"> + </span><span class="branchCov" title="Branch 1 was taken 297781 times"> + </span>]:<span class="lineCov">     303616 :       if (dominated_by_p_w_unex</span></a>
<a name="4211"><span class="lineNum">    4211 </span>                :<span class="lineCov">     303616 :             (bb, BASIC_BLOCK_FOR_FN (cfun, val-&gt;valid_dominated_by_p[i]),</span></a>
<a name="4212"><span class="lineNum">    4212 </span>                :            :              false))</a>
<a name="4213"><span class="lineNum">    4213 </span>                :<span class="lineCov">       5835 :         return val-&gt;result;</span></a>
<a name="4214"><span class="lineNum">    4214 </span>                :<span class="lineCov">     169032 :   return NULL_TREE;</span></a>
<a name="4215"><span class="lineNum">    4215 </span>                :            : }</a>
<a name="4216"><span class="lineNum">    4216 </span>                :            : </a>
<a name="4217"><span class="lineNum">    4217 </span>                :            : /* Insert the rhs of STMT into the current hash table with a value number of</a>
<a name="4218"><span class="lineNum">    4218 </span>                :            :    RESULT.  */</a>
<a name="4219"><span class="lineNum">    4219 </span>                :            : </a>
<a name="4220"><span class="lineNum">    4220 </span>                :            : static vn_nary_op_t</a>
<a name="4221"><span class="lineNum">    4221 </span>                :<span class="lineCov">    1811000 : vn_nary_op_insert_stmt (gimple *stmt, tree result)</span></a>
<a name="4222"><span class="lineNum">    4222 </span>                :            : {</a>
<a name="4223"><span class="lineNum">    4223 </span>                :            :   vn_nary_op_t vno1</a>
<a name="4224"><span class="lineNum">    4224 </span>                :<span class="lineCov">    1811000 :     = alloc_vn_nary_op (vn_nary_length_from_stmt (stmt),</span></a>
<a name="4225"><span class="lineNum">    4225 </span>                :<span class="lineCov">    1811000 :                         result, VN_INFO (result)-&gt;value_id);</span></a>
<a name="4226"><span class="lineNum">    4226 </span>                :<span class="lineCov">    1811000 :   init_vn_nary_op_from_stmt (vno1, stmt);</span></a>
<a name="4227"><span class="lineNum">    4227 </span>                :<span class="lineCov">    1811000 :   return vn_nary_op_insert_into (vno1, valid_info-&gt;nary, true);</span></a>
<a name="4228"><span class="lineNum">    4228 </span>                :            : }</a>
<a name="4229"><span class="lineNum">    4229 </span>                :            : </a>
<a name="4230"><span class="lineNum">    4230 </span>                :            : /* Compute a hashcode for PHI operation VP1 and return it.  */</a>
<a name="4231"><span class="lineNum">    4231 </span>                :            : </a>
<a name="4232"><span class="lineNum">    4232 </span>                :            : static inline hashval_t</a>
<a name="4233"><span class="lineNum">    4233 </span>                :<span class="lineCov">    1532530 : vn_phi_compute_hash (vn_phi_t vp1)</span></a>
<a name="4234"><span class="lineNum">    4234 </span>                :            : {</a>
<a name="4235"><span class="lineNum">    4235 </span>                :<span class="lineCov">    1532530 :   inchash::hash hstate;</span></a>
<a name="4236"><span class="lineNum">    4236 </span>                :            :   tree phi1op;</a>
<a name="4237"><span class="lineNum">    4237 </span>                :            :   tree type;</a>
<a name="4238"><span class="lineNum">    4238 </span>                :            :   edge e;</a>
<a name="4239"><span class="lineNum">    4239 </span>                :            :   edge_iterator ei;</a>
<a name="4240"><span class="lineNum">    4240 </span>                :            : </a>
<a name="4241"><span class="lineNum">    4241 </span>                :<span class="lineCov">    1532530 :   hstate.add_int (EDGE_COUNT (vp1-&gt;block-&gt;preds));</span></a>
<a name="4242"><span class="lineNum">    4242 </span>     [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1235250 times"> + </span><span class="branchCov" title="Branch 2 was taken 297283 times"> + </span>]:<span class="lineCov">    1532530 :   switch (EDGE_COUNT (vp1-&gt;block-&gt;preds))</span></a>
<a name="4243"><span class="lineNum">    4243 </span>                :            :     {</a>
<a name="4244"><span class="lineNum">    4244 </span>                :<span class="lineNoCov">          0 :     case 1:</span></a>
<a name="4245"><span class="lineNum">    4245 </span>                :<span class="lineNoCov">          0 :       break;</span></a>
<a name="4246"><span class="lineNum">    4246 </span>                :<span class="lineCov">    1235250 :     case 2:</span></a>
<a name="4247"><span class="lineNum">    4247 </span>        [<span class="branchCov" title="Branch 0 was taken 609679 times"> + </span><span class="branchCov" title="Branch 1 was taken 625570 times"> + </span>]:<span class="lineCov">    1235250 :       if (vp1-&gt;block-&gt;loop_father-&gt;header == vp1-&gt;block)</span></a>
<a name="4248"><span class="lineNum">    4248 </span>                :            :         ;</a>
<a name="4249"><span class="lineNum">    4249 </span>                :            :       else</a>
<a name="4250"><span class="lineNum">    4250 </span>                :<span class="lineCov">     609679 :         break;</span></a>
<a name="4251"><span class="lineNum">    4251 </span>                :            :       /* Fallthru.  */</a>
<a name="4252"><span class="lineNum">    4252 </span>                :            :     default:</a>
<a name="4253"><span class="lineNum">    4253 </span>                :<span class="lineCov">     922853 :       hstate.add_int (vp1-&gt;block-&gt;index);</span></a>
<a name="4254"><span class="lineNum">    4254 </span>                :            :     }</a>
<a name="4255"><span class="lineNum">    4255 </span>                :            : </a>
<a name="4256"><span class="lineNum">    4256 </span>                :            :   /* If all PHI arguments are constants we need to distinguish</a>
<a name="4257"><span class="lineNum">    4257 </span>                :            :      the PHI node via its type.  */</a>
<a name="4258"><span class="lineNum">    4258 </span>                :<span class="lineCov">    1532530 :   type = vp1-&gt;type;</span></a>
<a name="4259"><span class="lineNum">    4259 </span>                :<span class="lineCov">    1532530 :   hstate.merge_hash (vn_hash_type (type));</span></a>
<a name="4260"><span class="lineNum">    4260 </span>                :            : </a>
<a name="4261"><span class="lineNum">    4261 </span>        [<span class="branchCov" title="Branch 0 was taken 4761750 times"> + </span><span class="branchCov" title="Branch 1 was taken 1532530 times"> + </span>]:<span class="lineCov">    6294280 :   FOR_EACH_EDGE (e, ei, vp1-&gt;block-&gt;preds)</span></a>
<a name="4262"><span class="lineNum">    4262 </span>                :            :     {</a>
<a name="4263"><span class="lineNum">    4263 </span>                :            :       /* Don't hash backedge values they need to be handled as VN_TOP</a>
<a name="4264"><span class="lineNum">    4264 </span>                :            :          for optimistic value-numbering.  */</a>
<a name="4265"><span class="lineNum">    4265 </span>        [<span class="branchCov" title="Branch 0 was taken 718513 times"> + </span><span class="branchCov" title="Branch 1 was taken 4043240 times"> + </span>]:<span class="lineCov">    4761750 :       if (e-&gt;flags &amp; EDGE_DFS_BACK)</span></a>
<a name="4266"><span class="lineNum">    4266 </span>                :<span class="lineCov">     718513 :         continue;</span></a>
<a name="4267"><span class="lineNum">    4267 </span>                :            : </a>
<a name="4268"><span class="lineNum">    4268 </span>                :<span class="lineCov">    4043240 :       phi1op = vp1-&gt;phiargs[e-&gt;dest_idx];</span></a>
<a name="4269"><span class="lineNum">    4269 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 4043240 times"> + </span>]:<span class="lineCov">    4043240 :       if (phi1op == VN_TOP)</span></a>
<a name="4270"><span class="lineNum">    4270 </span>                :<span class="lineNoCov">          0 :         continue;</span></a>
<a name="4271"><span class="lineNum">    4271 </span>                :<span class="lineCov">    4043240 :       inchash::add_expr (phi1op, hstate);</span></a>
<a name="4272"><span class="lineNum">    4272 </span>                :            :     }</a>
<a name="4273"><span class="lineNum">    4273 </span>                :            : </a>
<a name="4274"><span class="lineNum">    4274 </span>                :<span class="lineCov">    1532530 :   return hstate.end ();</span></a>
<a name="4275"><span class="lineNum">    4275 </span>                :            : }</a>
<a name="4276"><span class="lineNum">    4276 </span>                :            : </a>
<a name="4277"><span class="lineNum">    4277 </span>                :            : </a>
<a name="4278"><span class="lineNum">    4278 </span>                :            : /* Return true if COND1 and COND2 represent the same condition, set</a>
<a name="4279"><span class="lineNum">    4279 </span>                :            :    *INVERTED_P if one needs to be inverted to make it the same as</a>
<a name="4280"><span class="lineNum">    4280 </span>                :            :    the other.  */</a>
<a name="4281"><span class="lineNum">    4281 </span>                :            : </a>
<a name="4282"><span class="lineNum">    4282 </span>                :            : static bool</a>
<a name="4283"><span class="lineNum">    4283 </span>                :<span class="lineCov">      40384 : cond_stmts_equal_p (gcond *cond1, tree lhs1, tree rhs1,</span></a>
<a name="4284"><span class="lineNum">    4284 </span>                :            :                     gcond *cond2, tree lhs2, tree rhs2, bool *inverted_p)</a>
<a name="4285"><span class="lineNum">    4285 </span>                :            : {</a>
<a name="4286"><span class="lineNum">    4286 </span>                :<span class="lineCov">      40384 :   enum tree_code code1 = gimple_cond_code (cond1);</span></a>
<a name="4287"><span class="lineNum">    4287 </span>                :<span class="lineCov">      40384 :   enum tree_code code2 = gimple_cond_code (cond2);</span></a>
<a name="4288"><span class="lineNum">    4288 </span>                :            : </a>
<a name="4289"><span class="lineNum">    4289 </span>                :<span class="lineCov">      40384 :   *inverted_p = false;</span></a>
<a name="4290"><span class="lineNum">    4290 </span>        [<span class="branchCov" title="Branch 0 was taken 934 times"> + </span><span class="branchCov" title="Branch 1 was taken 39450 times"> + </span>]:<span class="lineCov">      40384 :   if (code1 == code2)</span></a>
<a name="4291"><span class="lineNum">    4291 </span>                :            :     ;</a>
<a name="4292"><span class="lineNum">    4292 </span>        [<span class="branchCov" title="Branch 0 was taken 80 times"> + </span><span class="branchCov" title="Branch 1 was taken 854 times"> + </span>]:<span class="lineCov">        934 :   else if (code1 == swap_tree_comparison (code2))</span></a>
<a name="4293"><span class="lineNum">    4293 </span>                :<span class="lineCov">         80 :     std::swap (lhs2, rhs2);</span></a>
<a name="4294"><span class="lineNum">    4294 </span>        [<span class="branchCov" title="Branch 0 was taken 470 times"> + </span><span class="branchCov" title="Branch 1 was taken 384 times"> + </span>]:<span class="lineCov">        854 :   else if (code1 == invert_tree_comparison (code2, HONOR_NANS (lhs2)))</span></a>
<a name="4295"><span class="lineNum">    4295 </span>                :<span class="lineCov">        470 :     *inverted_p = true;</span></a>
<a name="4296"><span class="lineNum">    4296 </span>        [<span class="branchCov" title="Branch 0 was taken 56 times"> + </span><span class="branchCov" title="Branch 1 was taken 328 times"> + </span>]:<span class="lineCov">        384 :   else if (code1 == invert_tree_comparison</span></a>
<a name="4297"><span class="lineNum">    4297 </span>                :<span class="lineCov">        384 :                       (swap_tree_comparison (code2), HONOR_NANS (lhs2)))</span></a>
<a name="4298"><span class="lineNum">    4298 </span>                :            :     {</a>
<a name="4299"><span class="lineNum">    4299 </span>                :<span class="lineCov">         56 :       std::swap (lhs2, rhs2);</span></a>
<a name="4300"><span class="lineNum">    4300 </span>                :<span class="lineCov">         56 :       *inverted_p = true;</span></a>
<a name="4301"><span class="lineNum">    4301 </span>                :            :     }</a>
<a name="4302"><span class="lineNum">    4302 </span>                :            :   else</a>
<a name="4303"><span class="lineNum">    4303 </span>                :<span class="lineCov">        328 :     return false;</span></a>
<a name="4304"><span class="lineNum">    4304 </span>                :            : </a>
<a name="4305"><span class="lineNum">    4305 </span>                :<span class="lineCov">      40056 :   return ((expressions_equal_p (lhs1, lhs2)</span></a>
<a name="4306"><span class="lineNum">    4306 </span>        [<span class="branchCov" title="Branch 0 was taken 293 times"> + </span><span class="branchCov" title="Branch 1 was taken 2812 times"> + </span>]:<span class="lineCov">       3105 :            &amp;&amp; expressions_equal_p (rhs1, rhs2))</span></a>
<a name="4307"><span class="lineNum">    4307 </span>  [<span class="branchCov" title="Branch 0 was taken 3105 times"> + </span><span class="branchCov" title="Branch 1 was taken 36951 times"> + </span><span class="branchCov" title="Branch 2 was taken 34558 times"> + </span><span class="branchCov" title="Branch 3 was taken 2686 times"> + </span>]:<span class="lineCov">      77719 :           || (commutative_tree_code (code1)</span></a>
<a name="4308"><span class="lineNum">    4308 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 34558 times"> + </span>]:<span class="lineCov">      34558 :               &amp;&amp; expressions_equal_p (lhs1, rhs2)</span></a>
<a name="4309"><span class="lineNum">    4309 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      40056 :               &amp;&amp; expressions_equal_p (rhs1, lhs2)));</span></a>
<a name="4310"><span class="lineNum">    4310 </span>                :            : }</a>
<a name="4311"><span class="lineNum">    4311 </span>                :            : </a>
<a name="4312"><span class="lineNum">    4312 </span>                :            : /* Compare two phi entries for equality, ignoring VN_TOP arguments.  */</a>
<a name="4313"><span class="lineNum">    4313 </span>                :            : </a>
<a name="4314"><span class="lineNum">    4314 </span>                :            : static int</a>
<a name="4315"><span class="lineNum">    4315 </span>                :<span class="lineCov">     338267 : vn_phi_eq (const_vn_phi_t const vp1, const_vn_phi_t const vp2)</span></a>
<a name="4316"><span class="lineNum">    4316 </span>                :            : {</a>
<a name="4317"><span class="lineNum">    4317 </span>        [<span class="branchCov" title="Branch 0 was taken 97111 times"> + </span><span class="branchCov" title="Branch 1 was taken 241156 times"> + </span>]:<span class="lineCov">     338267 :   if (vp1-&gt;hashcode != vp2-&gt;hashcode)</span></a>
<a name="4318"><span class="lineNum">    4318 </span>                :<span class="lineCov">      97111 :     return false;</span></a>
<a name="4319"><span class="lineNum">    4319 </span>                :            : </a>
<a name="4320"><span class="lineNum">    4320 </span>        [<span class="branchCov" title="Branch 0 was taken 40708 times"> + </span><span class="branchCov" title="Branch 1 was taken 200448 times"> + </span>]:<span class="lineCov">     241156 :   if (vp1-&gt;block != vp2-&gt;block)</span></a>
<a name="4321"><span class="lineNum">    4321 </span>                :            :     {</a>
<a name="4322"><span class="lineNum">    4322 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 40708 times"> + </span>]:<span class="lineCov">      40708 :       if (EDGE_COUNT (vp1-&gt;block-&gt;preds) != EDGE_COUNT (vp2-&gt;block-&gt;preds))</span></a>
<a name="4323"><span class="lineNum">    4323 </span>                :<span class="lineNoCov">          0 :         return false;</span></a>
<a name="4324"><span class="lineNum">    4324 </span>                :            : </a>
<a name="4325"><span class="lineNum">    4325 </span>     [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 40708 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span>]:<span class="lineCov">      40708 :       switch (EDGE_COUNT (vp1-&gt;block-&gt;preds))</span></a>
<a name="4326"><span class="lineNum">    4326 </span>                :            :         {</a>
<a name="4327"><span class="lineNum">    4327 </span>                :<span class="lineNoCov">          0 :         case 1:</span></a>
<a name="4328"><span class="lineNum">    4328 </span>                :            :           /* Single-arg PHIs are just copies.  */</a>
<a name="4329"><span class="lineNum">    4329 </span>                :<span class="lineNoCov">          0 :           break;</span></a>
<a name="4330"><span class="lineNum">    4330 </span>                :            : </a>
<a name="4331"><span class="lineNum">    4331 </span>                :<span class="lineCov">      40708 :         case 2:</span></a>
<a name="4332"><span class="lineNum">    4332 </span>                :            :           {</a>
<a name="4333"><span class="lineNum">    4333 </span>                :            :             /* Rule out backedges into the PHI.  */</a>
<a name="4334"><span class="lineNum">    4334 </span>        [<span class="branchCov" title="Branch 0 was taken 40708 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      40708 :             if (vp1-&gt;block-&gt;loop_father-&gt;header == vp1-&gt;block</span></a>
<a name="4335"><span class="lineNum">    4335 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 40708 times"> + </span>]:<span class="lineCov">      40708 :                 || vp2-&gt;block-&gt;loop_father-&gt;header == vp2-&gt;block)</span></a>
<a name="4336"><span class="lineNum">    4336 </span>                :<span class="lineNoCov">          0 :               return false;</span></a>
<a name="4337"><span class="lineNum">    4337 </span>                :            : </a>
<a name="4338"><span class="lineNum">    4338 </span>                :            :             /* If the PHI nodes do not have compatible types</a>
<a name="4339"><span class="lineNum">    4339 </span>                :            :                they are not the same.  */</a>
<a name="4340"><span class="lineNum">    4340 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 40708 times"> + </span>]:<span class="lineCov">      40708 :             if (!types_compatible_p (vp1-&gt;type, vp2-&gt;type))</span></a>
<a name="4341"><span class="lineNum">    4341 </span>                :<span class="lineNoCov">          0 :               return false;</span></a>
<a name="4342"><span class="lineNum">    4342 </span>                :            : </a>
<a name="4343"><span class="lineNum">    4343 </span>                :            :             basic_block idom1</a>
<a name="4344"><span class="lineNum">    4344 </span>                :<span class="lineCov">      40708 :               = get_immediate_dominator (CDI_DOMINATORS, vp1-&gt;block);</span></a>
<a name="4345"><span class="lineNum">    4345 </span>                :            :             basic_block idom2</a>
<a name="4346"><span class="lineNum">    4346 </span>                :<span class="lineCov">      40708 :               = get_immediate_dominator (CDI_DOMINATORS, vp2-&gt;block);</span></a>
<a name="4347"><span class="lineNum">    4347 </span>                :            :             /* If the immediate dominator end in switch stmts multiple</a>
<a name="4348"><span class="lineNum">    4348 </span>                :            :                values may end up in the same PHI arg via intermediate</a>
<a name="4349"><span class="lineNum">    4349 </span>                :            :                CFG merges.  */</a>
<a name="4350"><span class="lineNum">    4350 </span>                :<span class="lineCov">      40708 :             if (EDGE_COUNT (idom1-&gt;succs) != 2</span></a>
<a name="4351"><span class="lineNum">    4351 </span>  [<span class="branchCov" title="Branch 0 was taken 40458 times"> + </span><span class="branchCov" title="Branch 1 was taken 250 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 40458 times"> + </span> :<span class="lineCov">      40708 :                 || EDGE_COUNT (idom2-&gt;succs) != 2)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 250 times"> + </span><span class="branchCov" title="Branch 5 was taken 40458 times"> + </span>]
<a name="4352"><span class="lineNum">    4352 </span>                :<span class="lineCov">        250 :               return false;</span></a>
<a name="4353"><span class="lineNum">    4353 </span>                :            : </a>
<a name="4354"><span class="lineNum">    4354 </span>                :            :             /* Verify the controlling stmt is the same.  */</a>
<a name="4355"><span class="lineNum">    4355 </span>                :<span class="lineCov">      40458 :             gcond *last1 = safe_dyn_cast &lt;gcond *&gt; (last_stmt (idom1));</span></a>
<a name="4356"><span class="lineNum">    4356 </span>                :<span class="lineCov">      40458 :             gcond *last2 = safe_dyn_cast &lt;gcond *&gt; (last_stmt (idom2));</span></a>
<a name="4357"><span class="lineNum">    4357 </span>  [<span class="branchCov" title="Branch 0 was taken 40424 times"> + </span><span class="branchCov" title="Branch 1 was taken 34 times"> + </span><span class="branchCov" title="Branch 2 was taken 40 times"> + </span><span class="branchCov" title="Branch 3 was taken 40384 times"> + </span>]:<span class="lineCov">      40458 :             if (! last1 || ! last2)</span></a>
<a name="4358"><span class="lineNum">    4358 </span>                :<span class="lineCov">         74 :               return false;</span></a>
<a name="4359"><span class="lineNum">    4359 </span>                :            :             bool inverted_p;</a>
<a name="4360"><span class="lineNum">    4360 </span>        [<span class="branchCov" title="Branch 0 was taken 37572 times"> + </span><span class="branchCov" title="Branch 1 was taken 2812 times"> + </span>]:<span class="lineCov">      40384 :             if (! cond_stmts_equal_p (last1, vp1-&gt;cclhs, vp1-&gt;ccrhs,</span></a>
<a name="4361"><span class="lineNum">    4361 </span>                :<span class="lineCov">      40384 :                                       last2, vp2-&gt;cclhs, vp2-&gt;ccrhs,</span></a>
<a name="4362"><span class="lineNum">    4362 </span>                :            :                                       &amp;inverted_p))</a>
<a name="4363"><span class="lineNum">    4363 </span>                :<span class="lineCov">      37572 :               return false;</span></a>
<a name="4364"><span class="lineNum">    4364 </span>                :            : </a>
<a name="4365"><span class="lineNum">    4365 </span>                :            :             /* Get at true/false controlled edges into the PHI.  */</a>
<a name="4366"><span class="lineNum">    4366 </span>                :            :             edge te1, te2, fe1, fe2;</a>
<a name="4367"><span class="lineNum">    4367 </span>                :<span class="lineCov">       2812 :             if (! extract_true_false_controlled_edges (idom1, vp1-&gt;block,</span></a>
<a name="4368"><span class="lineNum">    4368 </span>                :            :                                                        &amp;te1, &amp;fe1)</a>
<a name="4369"><span class="lineNum">    4369 </span>  [<span class="branchCov" title="Branch 0 was taken 1094 times"> + </span><span class="branchCov" title="Branch 1 was taken 1718 times"> + </span><span class="branchCov" title="Branch 2 was taken 8 times"> + </span><span class="branchCov" title="Branch 3 was taken 1086 times"> + </span> :<span class="lineCov">       2812 :                 || ! extract_true_false_controlled_edges (idom2, vp2-&gt;block,</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1726 times"> + </span><span class="branchCov" title="Branch 5 was taken 1086 times"> + </span>]
<a name="4370"><span class="lineNum">    4370 </span>                :            :                                                           &amp;te2, &amp;fe2))</a>
<a name="4371"><span class="lineNum">    4371 </span>                :<span class="lineCov">       1726 :               return false;</span></a>
<a name="4372"><span class="lineNum">    4372 </span>                :            : </a>
<a name="4373"><span class="lineNum">    4373 </span>                :            :             /* Swap edges if the second condition is the inverted of the</a>
<a name="4374"><span class="lineNum">    4374 </span>                :            :                first.  */</a>
<a name="4375"><span class="lineNum">    4375 </span>        [<span class="branchCov" title="Branch 0 was taken 2 times"> + </span><span class="branchCov" title="Branch 1 was taken 1084 times"> + </span>]:<span class="lineCov">       1086 :             if (inverted_p)</span></a>
<a name="4376"><span class="lineNum">    4376 </span>                :<span class="lineCov">          2 :               std::swap (te2, fe2);</span></a>
<a name="4377"><span class="lineNum">    4377 </span>                :            : </a>
<a name="4378"><span class="lineNum">    4378 </span>                :            :             /* ???  Handle VN_TOP specially.  */</a>
<a name="4379"><span class="lineNum">    4379 </span>                :<span class="lineCov">       3258 :             if (! expressions_equal_p (vp1-&gt;phiargs[te1-&gt;dest_idx],</span></a>
<a name="4380"><span class="lineNum">    4380 </span>                :<span class="lineCov">       1086 :                                        vp2-&gt;phiargs[te2-&gt;dest_idx])</span></a>
<a name="4381"><span class="lineNum">    4381 </span>  [<span class="branchCov" title="Branch 0 was taken 1082 times"> + </span><span class="branchCov" title="Branch 1 was taken 4 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 1082 times"> + </span> :<span class="lineCov">       2168 :                 || ! expressions_equal_p (vp1-&gt;phiargs[fe1-&gt;dest_idx],</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 4 times"> + </span><span class="branchCov" title="Branch 5 was taken 1082 times"> + </span>]
<a name="4382"><span class="lineNum">    4382 </span>                :<span class="lineCov">       1082 :                                           vp2-&gt;phiargs[fe2-&gt;dest_idx]))</span></a>
<a name="4383"><span class="lineNum">    4383 </span>                :<span class="lineCov">          4 :               return false;</span></a>
<a name="4384"><span class="lineNum">    4384 </span>                :            : </a>
<a name="4385"><span class="lineNum">    4385 </span>                :<span class="lineCov">       1082 :             return true;</span></a>
<a name="4386"><span class="lineNum">    4386 </span>                :            :           }</a>
<a name="4387"><span class="lineNum">    4387 </span>                :            : </a>
<a name="4388"><span class="lineNum">    4388 </span>                :<span class="lineNoCov">          0 :         default:</span></a>
<a name="4389"><span class="lineNum">    4389 </span>                :<span class="lineNoCov">          0 :           return false;</span></a>
<a name="4390"><span class="lineNum">    4390 </span>                :            :         }</a>
<a name="4391"><span class="lineNum">    4391 </span>                :            :     }</a>
<a name="4392"><span class="lineNum">    4392 </span>                :            : </a>
<a name="4393"><span class="lineNum">    4393 </span>                :            :   /* If the PHI nodes do not have compatible types</a>
<a name="4394"><span class="lineNum">    4394 </span>                :            :      they are not the same.  */</a>
<a name="4395"><span class="lineNum">    4395 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 200448 times"> + </span>]:<span class="lineCov">     200448 :   if (!types_compatible_p (vp1-&gt;type, vp2-&gt;type))</span></a>
<a name="4396"><span class="lineNum">    4396 </span>                :<span class="lineNoCov">          0 :     return false;</span></a>
<a name="4397"><span class="lineNum">    4397 </span>                :            : </a>
<a name="4398"><span class="lineNum">    4398 </span>                :            :   /* Any phi in the same block will have it's arguments in the</a>
<a name="4399"><span class="lineNum">    4399 </span>                :            :      same edge order, because of how we store phi nodes.  */</a>
<a name="4400"><span class="lineNum">    4400 </span>                :<span class="lineCov">     200448 :   unsigned nargs = EDGE_COUNT (vp1-&gt;block-&gt;preds);</span></a>
<a name="4401"><span class="lineNum">    4401 </span>        [<span class="branchCov" title="Branch 0 was taken 411374 times"> + </span><span class="branchCov" title="Branch 1 was taken 118356 times"> + </span>]:<span class="lineCov">     529730 :   for (unsigned i = 0; i &lt; nargs; ++i)</span></a>
<a name="4402"><span class="lineNum">    4402 </span>                :            :     {</a>
<a name="4403"><span class="lineNum">    4403 </span>                :<span class="lineCov">     411374 :       tree phi1op = vp1-&gt;phiargs[i];</span></a>
<a name="4404"><span class="lineNum">    4404 </span>                :<span class="lineCov">     411374 :       tree phi2op = vp2-&gt;phiargs[i];</span></a>
<a name="4405"><span class="lineNum">    4405 </span>        [<span class="branchCov" title="Branch 0 was taken 328846 times"> + </span><span class="branchCov" title="Branch 1 was taken 82528 times"> + </span>]:<span class="lineCov">     411374 :       if (phi1op == phi2op)</span></a>
<a name="4406"><span class="lineNum">    4406 </span>                :<span class="lineCov">     328846 :         continue;</span></a>
<a name="4407"><span class="lineNum">    4407 </span>        [<span class="branchCov" title="Branch 0 was taken 82092 times"> + </span><span class="branchCov" title="Branch 1 was taken 436 times"> + </span>]:<span class="lineCov">      82528 :       if (!expressions_equal_p (phi1op, phi2op))</span></a>
<a name="4408"><span class="lineNum">    4408 </span>                :<span class="lineCov">      82092 :         return false;</span></a>
<a name="4409"><span class="lineNum">    4409 </span>                :            :     }</a>
<a name="4410"><span class="lineNum">    4410 </span>                :            : </a>
<a name="4411"><span class="lineNum">    4411 </span>                :<span class="lineCov">     118356 :   return true;</span></a>
<a name="4412"><span class="lineNum">    4412 </span>                :            : }</a>
<a name="4413"><span class="lineNum">    4413 </span>                :            : </a>
<a name="4414"><span class="lineNum">    4414 </span>                :            : /* Lookup PHI in the current hash table, and return the resulting</a>
<a name="4415"><span class="lineNum">    4415 </span>                :            :    value number if it exists in the hash table.  Return NULL_TREE if</a>
<a name="4416"><span class="lineNum">    4416 </span>                :            :    it does not exist in the hash table. */</a>
<a name="4417"><span class="lineNum">    4417 </span>                :            : </a>
<a name="4418"><span class="lineNum">    4418 </span>                :            : static tree</a>
<a name="4419"><span class="lineNum">    4419 </span>                :<span class="lineCov">     836466 : vn_phi_lookup (gimple *phi, bool backedges_varying_p)</span></a>
<a name="4420"><span class="lineNum">    4420 </span>                :            : {</a>
<a name="4421"><span class="lineNum">    4421 </span>                :            :   vn_phi_s **slot;</a>
<a name="4422"><span class="lineNum">    4422 </span>                :            :   struct vn_phi_s *vp1;</a>
<a name="4423"><span class="lineNum">    4423 </span>                :            :   edge e;</a>
<a name="4424"><span class="lineNum">    4424 </span>                :            :   edge_iterator ei;</a>
<a name="4425"><span class="lineNum">    4425 </span>                :            : </a>
<a name="4426"><span class="lineNum">    4426 </span>                :<span class="lineCov">     836466 :   vp1 = XALLOCAVAR (struct vn_phi_s,</span></a>
<a name="4427"><span class="lineNum">    4427 </span>                :            :                     sizeof (struct vn_phi_s)</a>
<a name="4428"><span class="lineNum">    4428 </span>                :            :                     + (gimple_phi_num_args (phi) - 1) * sizeof (tree));</a>
<a name="4429"><span class="lineNum">    4429 </span>                :            : </a>
<a name="4430"><span class="lineNum">    4430 </span>                :            :   /* Canonicalize the SSA_NAME's to their value number.  */</a>
<a name="4431"><span class="lineNum">    4431 </span>        [<span class="branchCov" title="Branch 0 was taken 2541280 times"> + </span><span class="branchCov" title="Branch 1 was taken 836466 times"> + </span>]:<span class="lineCov">    3377750 :   FOR_EACH_EDGE (e, ei, gimple_bb (phi)-&gt;preds)</span></a>
<a name="4432"><span class="lineNum">    4432 </span>                :            :     {</a>
<a name="4433"><span class="lineNum">    4433 </span>                :<span class="lineCov">    2541280 :       tree def = PHI_ARG_DEF_FROM_EDGE (phi, e);</span></a>
<a name="4434"><span class="lineNum">    4434 </span>        [<span class="branchCov" title="Branch 0 was taken 1764660 times"> + </span><span class="branchCov" title="Branch 1 was taken 776626 times"> + </span>]:<span class="lineCov">    2541280 :       if (TREE_CODE (def) == SSA_NAME</span></a>
<a name="4435"><span class="lineNum">    4435 </span>  [<span class="branchCov" title="Branch 0 was taken 1138330 times"> + </span><span class="branchCov" title="Branch 1 was taken 626324 times"> + </span><span class="branchCov" title="Branch 2 was taken 1091210 times"> + </span><span class="branchCov" title="Branch 3 was taken 47126 times"> + </span>]:<span class="lineCov">    1764660 :           &amp;&amp; (!backedges_varying_p || !(e-&gt;flags &amp; EDGE_DFS_BACK)))</span></a>
<a name="4436"><span class="lineNum">    4436 </span>                :<span class="lineCov">    1717530 :         def = SSA_VAL (def);</span></a>
<a name="4437"><span class="lineNum">    4437 </span>                :<span class="lineCov">    2541280 :       vp1-&gt;phiargs[e-&gt;dest_idx] = def;</span></a>
<a name="4438"><span class="lineNum">    4438 </span>                :            :     }</a>
<a name="4439"><span class="lineNum">    4439 </span>                :<span class="lineCov">     836466 :   vp1-&gt;type = TREE_TYPE (gimple_phi_result (phi));</span></a>
<a name="4440"><span class="lineNum">    4440 </span>                :<span class="lineCov">     836466 :   vp1-&gt;block = gimple_bb (phi);</span></a>
<a name="4441"><span class="lineNum">    4441 </span>                :            :   /* Extract values of the controlling condition.  */</a>
<a name="4442"><span class="lineNum">    4442 </span>                :<span class="lineCov">     836466 :   vp1-&gt;cclhs = NULL_TREE;</span></a>
<a name="4443"><span class="lineNum">    4443 </span>                :<span class="lineCov">     836466 :   vp1-&gt;ccrhs = NULL_TREE;</span></a>
<a name="4444"><span class="lineNum">    4444 </span>                :<span class="lineCov">     836466 :   basic_block idom1 = get_immediate_dominator (CDI_DOMINATORS, vp1-&gt;block);</span></a>
<a name="4445"><span class="lineNum">    4445 </span>        [<span class="branchCov" title="Branch 0 was taken 487271 times"> + </span><span class="branchCov" title="Branch 1 was taken 349195 times"> + </span>]:<span class="lineCov">     836466 :   if (EDGE_COUNT (idom1-&gt;succs) == 2)</span></a>
<a name="4446"><span class="lineNum">    4446 </span>        [<span class="branchCov" title="Branch 0 was taken 481302 times"> + </span><span class="branchCov" title="Branch 1 was taken 5969 times"> + </span>]:<span class="lineCov">     487271 :     if (gcond *last1 = safe_dyn_cast &lt;gcond *&gt; (last_stmt (idom1)))</span></a>
<a name="4447"><span class="lineNum">    4447 </span>                :            :       {</a>
<a name="4448"><span class="lineNum">    4448 </span>                :            :         /* ???  We want to use SSA_VAL here.  But possibly not</a>
<a name="4449"><span class="lineNum">    4449 </span>                :            :            allow VN_TOP.  */</a>
<a name="4450"><span class="lineNum">    4450 </span>                :<span class="lineCov">     481302 :         vp1-&gt;cclhs = vn_valueize (gimple_cond_lhs (last1));</span></a>
<a name="4451"><span class="lineNum">    4451 </span>                :<span class="lineCov">     481302 :         vp1-&gt;ccrhs = vn_valueize (gimple_cond_rhs (last1));</span></a>
<a name="4452"><span class="lineNum">    4452 </span>                :            :       }</a>
<a name="4453"><span class="lineNum">    4453 </span>                :<span class="lineCov">     836466 :   vp1-&gt;hashcode = vn_phi_compute_hash (vp1);</span></a>
<a name="4454"><span class="lineNum">    4454 </span>                :<span class="lineCov">     836466 :   slot = valid_info-&gt;phis-&gt;find_slot_with_hash (vp1, vp1-&gt;hashcode, NO_INSERT);</span></a>
<a name="4455"><span class="lineNum">    4455 </span>        [<span class="branchCov" title="Branch 0 was taken 717028 times"> + </span><span class="branchCov" title="Branch 1 was taken 119438 times"> + </span>]:<span class="lineCov">     836466 :   if (!slot)</span></a>
<a name="4456"><span class="lineNum">    4456 </span>                :<span class="lineCov">     717028 :     return NULL_TREE;</span></a>
<a name="4457"><span class="lineNum">    4457 </span>                :<span class="lineCov">     119438 :   return (*slot)-&gt;result;</span></a>
<a name="4458"><span class="lineNum">    4458 </span>                :            : }</a>
<a name="4459"><span class="lineNum">    4459 </span>                :            : </a>
<a name="4460"><span class="lineNum">    4460 </span>                :            : /* Insert PHI into the current hash table with a value number of</a>
<a name="4461"><span class="lineNum">    4461 </span>                :            :    RESULT.  */</a>
<a name="4462"><span class="lineNum">    4462 </span>                :            : </a>
<a name="4463"><span class="lineNum">    4463 </span>                :            : static vn_phi_t</a>
<a name="4464"><span class="lineNum">    4464 </span>                :<span class="lineCov">     696066 : vn_phi_insert (gimple *phi, tree result, bool backedges_varying_p)</span></a>
<a name="4465"><span class="lineNum">    4465 </span>                :            : {</a>
<a name="4466"><span class="lineNum">    4466 </span>                :            :   vn_phi_s **slot;</a>
<a name="4467"><span class="lineNum">    4467 </span>  [<span class="branchCov" title="Branch 0 was taken 185 times"> + </span><span class="branchCov" title="Branch 1 was taken 695881 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 696066 times"> + </span> :<span class="lineCov">     696066 :   vn_phi_t vp1 = (vn_phi_t) obstack_alloc (&amp;vn_tables_obstack,</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 696066 times"> + </span>]
<a name="4468"><span class="lineNum">    4468 </span>                :            :                                            sizeof (vn_phi_s)</a>
<a name="4469"><span class="lineNum">    4469 </span>                :            :                                            + ((gimple_phi_num_args (phi) - 1)</a>
<a name="4470"><span class="lineNum">    4470 </span>                :            :                                               * sizeof (tree)));</a>
<a name="4471"><span class="lineNum">    4471 </span>                :            :   edge e;</a>
<a name="4472"><span class="lineNum">    4472 </span>                :            :   edge_iterator ei;</a>
<a name="4473"><span class="lineNum">    4473 </span>                :            : </a>
<a name="4474"><span class="lineNum">    4474 </span>                :            :   /* Canonicalize the SSA_NAME's to their value number.  */</a>
<a name="4475"><span class="lineNum">    4475 </span>        [<span class="branchCov" title="Branch 0 was taken 2220460 times"> + </span><span class="branchCov" title="Branch 1 was taken 696066 times"> + </span>]:<span class="lineCov">    2916530 :   FOR_EACH_EDGE (e, ei, gimple_bb (phi)-&gt;preds)</span></a>
<a name="4476"><span class="lineNum">    4476 </span>                :            :     {</a>
<a name="4477"><span class="lineNum">    4477 </span>                :<span class="lineCov">    2220460 :       tree def = PHI_ARG_DEF_FROM_EDGE (phi, e);</span></a>
<a name="4478"><span class="lineNum">    4478 </span>        [<span class="branchCov" title="Branch 0 was taken 1467290 times"> + </span><span class="branchCov" title="Branch 1 was taken 753177 times"> + </span>]:<span class="lineCov">    2220460 :       if (TREE_CODE (def) == SSA_NAME</span></a>
<a name="4479"><span class="lineNum">    4479 </span>  [<span class="branchCov" title="Branch 0 was taken 1099640 times"> + </span><span class="branchCov" title="Branch 1 was taken 367652 times"> + </span><span class="branchCov" title="Branch 2 was taken 1052520 times"> + </span><span class="branchCov" title="Branch 3 was taken 47111 times"> + </span>]:<span class="lineCov">    1467290 :           &amp;&amp; (!backedges_varying_p || !(e-&gt;flags &amp; EDGE_DFS_BACK)))</span></a>
<a name="4480"><span class="lineNum">    4480 </span>                :<span class="lineCov">    1420180 :         def = SSA_VAL (def);</span></a>
<a name="4481"><span class="lineNum">    4481 </span>                :<span class="lineCov">    2220460 :       vp1-&gt;phiargs[e-&gt;dest_idx] = def;</span></a>
<a name="4482"><span class="lineNum">    4482 </span>                :            :     }</a>
<a name="4483"><span class="lineNum">    4483 </span>                :<span class="lineCov">     696066 :   vp1-&gt;value_id = VN_INFO (result)-&gt;value_id;</span></a>
<a name="4484"><span class="lineNum">    4484 </span>                :<span class="lineCov">     696066 :   vp1-&gt;type = TREE_TYPE (gimple_phi_result (phi));</span></a>
<a name="4485"><span class="lineNum">    4485 </span>                :<span class="lineCov">     696066 :   vp1-&gt;block = gimple_bb (phi);</span></a>
<a name="4486"><span class="lineNum">    4486 </span>                :            :   /* Extract values of the controlling condition.  */</a>
<a name="4487"><span class="lineNum">    4487 </span>                :<span class="lineCov">     696066 :   vp1-&gt;cclhs = NULL_TREE;</span></a>
<a name="4488"><span class="lineNum">    4488 </span>                :<span class="lineCov">     696066 :   vp1-&gt;ccrhs = NULL_TREE;</span></a>
<a name="4489"><span class="lineNum">    4489 </span>                :<span class="lineCov">     696066 :   basic_block idom1 = get_immediate_dominator (CDI_DOMINATORS, vp1-&gt;block);</span></a>
<a name="4490"><span class="lineNum">    4490 </span>        [<span class="branchCov" title="Branch 0 was taken 454456 times"> + </span><span class="branchCov" title="Branch 1 was taken 241610 times"> + </span>]:<span class="lineCov">     696066 :   if (EDGE_COUNT (idom1-&gt;succs) == 2)</span></a>
<a name="4491"><span class="lineNum">    4491 </span>        [<span class="branchCov" title="Branch 0 was taken 448745 times"> + </span><span class="branchCov" title="Branch 1 was taken 5711 times"> + </span>]:<span class="lineCov">     454456 :     if (gcond *last1 = safe_dyn_cast &lt;gcond *&gt; (last_stmt (idom1)))</span></a>
<a name="4492"><span class="lineNum">    4492 </span>                :            :       {</a>
<a name="4493"><span class="lineNum">    4493 </span>                :            :         /* ???  We want to use SSA_VAL here.  But possibly not</a>
<a name="4494"><span class="lineNum">    4494 </span>                :            :            allow VN_TOP.  */</a>
<a name="4495"><span class="lineNum">    4495 </span>                :<span class="lineCov">     448745 :         vp1-&gt;cclhs = vn_valueize (gimple_cond_lhs (last1));</span></a>
<a name="4496"><span class="lineNum">    4496 </span>                :<span class="lineCov">     448745 :         vp1-&gt;ccrhs = vn_valueize (gimple_cond_rhs (last1));</span></a>
<a name="4497"><span class="lineNum">    4497 </span>                :            :       }</a>
<a name="4498"><span class="lineNum">    4498 </span>                :<span class="lineCov">     696066 :   vp1-&gt;result = result;</span></a>
<a name="4499"><span class="lineNum">    4499 </span>                :<span class="lineCov">     696066 :   vp1-&gt;hashcode = vn_phi_compute_hash (vp1);</span></a>
<a name="4500"><span class="lineNum">    4500 </span>                :            : </a>
<a name="4501"><span class="lineNum">    4501 </span>                :<span class="lineCov">     696066 :   slot = valid_info-&gt;phis-&gt;find_slot_with_hash (vp1, vp1-&gt;hashcode, INSERT);</span></a>
<a name="4502"><span class="lineNum">    4502 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 696066 times"> + </span>]:<span class="lineCov">     696066 :   gcc_assert (!*slot);</span></a>
<a name="4503"><span class="lineNum">    4503 </span>                :            : </a>
<a name="4504"><span class="lineNum">    4504 </span>                :<span class="lineCov">     696066 :   *slot = vp1;</span></a>
<a name="4505"><span class="lineNum">    4505 </span>                :<span class="lineCov">     696066 :   vp1-&gt;next = last_inserted_phi;</span></a>
<a name="4506"><span class="lineNum">    4506 </span>                :<span class="lineCov">     696066 :   last_inserted_phi = vp1;</span></a>
<a name="4507"><span class="lineNum">    4507 </span>                :<span class="lineCov">     696066 :   return vp1;</span></a>
<a name="4508"><span class="lineNum">    4508 </span>                :            : }</a>
<a name="4509"><span class="lineNum">    4509 </span>                :            : </a>
<a name="4510"><span class="lineNum">    4510 </span>                :            : </a>
<a name="4511"><span class="lineNum">    4511 </span>                :            : /* Return true if BB1 is dominated by BB2 taking into account edges</a>
<a name="4512"><span class="lineNum">    4512 </span>                :            :    that are not executable.  When ALLOW_BACK is false consider not</a>
<a name="4513"><span class="lineNum">    4513 </span>                :            :    executable backedges as executable.  */</a>
<a name="4514"><span class="lineNum">    4514 </span>                :            : </a>
<a name="4515"><span class="lineNum">    4515 </span>                :            : static bool</a>
<a name="4516"><span class="lineNum">    4516 </span>                :<span class="lineCov">    2820570 : dominated_by_p_w_unex (basic_block bb1, basic_block bb2, bool allow_back)</span></a>
<a name="4517"><span class="lineNum">    4517 </span>                :            : {</a>
<a name="4518"><span class="lineNum">    4518 </span>                :            :   edge_iterator ei;</a>
<a name="4519"><span class="lineNum">    4519 </span>                :            :   edge e;</a>
<a name="4520"><span class="lineNum">    4520 </span>                :            : </a>
<a name="4521"><span class="lineNum">    4521 </span>        [<span class="branchCov" title="Branch 0 was taken 1598690 times"> + </span><span class="branchCov" title="Branch 1 was taken 1221880 times"> + </span>]:<span class="lineCov">    2820570 :   if (dominated_by_p (CDI_DOMINATORS, bb1, bb2))</span></a>
<a name="4522"><span class="lineNum">    4522 </span>                :<span class="lineCov">    1598690 :     return true;</span></a>
<a name="4523"><span class="lineNum">    4523 </span>                :            : </a>
<a name="4524"><span class="lineNum">    4524 </span>                :            :   /* Before iterating we'd like to know if there exists a</a>
<a name="4525"><span class="lineNum">    4525 </span>                :            :      (executable) path from bb2 to bb1 at all, if not we can</a>
<a name="4526"><span class="lineNum">    4526 </span>                :            :      directly return false.  For now simply iterate once.  */</a>
<a name="4527"><span class="lineNum">    4527 </span>                :            : </a>
<a name="4528"><span class="lineNum">    4528 </span>                :            :   /* Iterate to the single executable bb1 predecessor.  */</a>
<a name="4529"><span class="lineNum">    4529 </span>        [<span class="branchCov" title="Branch 0 was taken 154415 times"> + </span><span class="branchCov" title="Branch 1 was taken 1067470 times"> + </span>]:<span class="lineCov">    1221880 :   if (EDGE_COUNT (bb1-&gt;preds) &gt; 1)</span></a>
<a name="4530"><span class="lineNum">    4530 </span>                :            :     {</a>
<a name="4531"><span class="lineNum">    4531 </span>                :<span class="lineCov">     154415 :       edge prede = NULL;</span></a>
<a name="4532"><span class="lineNum">    4532 </span>        [<span class="branchCov" title="Branch 0 was taken 310006 times"> + </span><span class="branchCov" title="Branch 1 was taken 5036 times"> + </span>]:<span class="lineCov">     315042 :       FOR_EACH_EDGE (e, ei, bb1-&gt;preds)</span></a>
<a name="4533"><span class="lineNum">    4533 </span>        [<span class="branchCov" title="Branch 0 was taken 8332 times"> + </span><span class="branchCov" title="Branch 1 was taken 301674 times"> + </span>]:<span class="lineCov">     310006 :         if ((e-&gt;flags &amp; EDGE_EXECUTABLE)</span></a>
<a name="4534"><span class="lineNum">    4534 </span>  [<span class="branchCov" title="Branch 0 was taken 2332 times"> + </span><span class="branchCov" title="Branch 1 was taken 6000 times"> + </span><span class="branchCov" title="Branch 2 was taken 2120 times"> + </span><span class="branchCov" title="Branch 3 was taken 212 times"> + </span>]:<span class="lineCov">       8332 :             || (!allow_back &amp;&amp; (e-&gt;flags &amp; EDGE_DFS_BACK)))</span></a>
<a name="4535"><span class="lineNum">    4535 </span>                :            :           {</a>
<a name="4536"><span class="lineNum">    4536 </span>        [<span class="branchCov" title="Branch 0 was taken 149379 times"> + </span><span class="branchCov" title="Branch 1 was taken 154415 times"> + </span>]:<span class="lineCov">     303794 :             if (prede)</span></a>
<a name="4537"><span class="lineNum">    4537 </span>                :            :               {</a>
<a name="4538"><span class="lineNum">    4538 </span>                :<span class="lineCov">     149379 :                 prede = NULL;</span></a>
<a name="4539"><span class="lineNum">    4539 </span>                :<span class="lineCov">     149379 :                 break;</span></a>
<a name="4540"><span class="lineNum">    4540 </span>                :            :               }</a>
<a name="4541"><span class="lineNum">    4541 </span>                :<span class="lineCov">     154415 :             prede = e;</span></a>
<a name="4542"><span class="lineNum">    4542 </span>                :            :           }</a>
<a name="4543"><span class="lineNum">    4543 </span>        [<span class="branchCov" title="Branch 0 was taken 5036 times"> + </span><span class="branchCov" title="Branch 1 was taken 149379 times"> + </span>]:<span class="lineCov">     154415 :       if (prede)</span></a>
<a name="4544"><span class="lineNum">    4544 </span>                :            :         {</a>
<a name="4545"><span class="lineNum">    4545 </span>                :<span class="lineCov">       5036 :           bb1 = prede-&gt;src;</span></a>
<a name="4546"><span class="lineNum">    4546 </span>                :            : </a>
<a name="4547"><span class="lineNum">    4547 </span>                :            :           /* Re-do the dominance check with changed bb1.  */</a>
<a name="4548"><span class="lineNum">    4548 </span>        [<span class="branchCov" title="Branch 0 was taken 1941 times"> + </span><span class="branchCov" title="Branch 1 was taken 3095 times"> + </span>]:<span class="lineCov">       5036 :           if (dominated_by_p (CDI_DOMINATORS, bb1, bb2))</span></a>
<a name="4549"><span class="lineNum">    4549 </span>                :<span class="lineCov">       1941 :             return true;</span></a>
<a name="4550"><span class="lineNum">    4550 </span>                :            :         }</a>
<a name="4551"><span class="lineNum">    4551 </span>                :            :     }</a>
<a name="4552"><span class="lineNum">    4552 </span>                :            : </a>
<a name="4553"><span class="lineNum">    4553 </span>                :            :   /* Iterate to the single executable bb2 successor.  */</a>
<a name="4554"><span class="lineNum">    4554 </span>                :<span class="lineCov">    1219940 :   edge succe = NULL;</span></a>
<a name="4555"><span class="lineNum">    4555 </span>        [<span class="branchCov" title="Branch 0 was taken 1447840 times"> + </span><span class="branchCov" title="Branch 1 was taken 990053 times"> + </span>]:<span class="lineCov">    2437890 :   FOR_EACH_EDGE (e, ei, bb2-&gt;succs)</span></a>
<a name="4556"><span class="lineNum">    4556 </span>        [<span class="branchCov" title="Branch 0 was taken 130980 times"> + </span><span class="branchCov" title="Branch 1 was taken 1316860 times"> + </span>]:<span class="lineCov">    1447840 :     if ((e-&gt;flags &amp; EDGE_EXECUTABLE)</span></a>
<a name="4557"><span class="lineNum">    4557 </span>  [<span class="branchCov" title="Branch 0 was taken 130003 times"> + </span><span class="branchCov" title="Branch 1 was taken 977 times"> + </span><span class="branchCov" title="Branch 2 was taken 39 times"> + </span><span class="branchCov" title="Branch 3 was taken 129964 times"> + </span>]:<span class="lineCov">     130980 :         || (!allow_back &amp;&amp; (e-&gt;flags &amp; EDGE_DFS_BACK)))</span></a>
<a name="4558"><span class="lineNum">    4558 </span>                :            :       {</a>
<a name="4559"><span class="lineNum">    4559 </span>        [<span class="branchCov" title="Branch 0 was taken 229889 times"> + </span><span class="branchCov" title="Branch 1 was taken 1087010 times"> + </span>]:<span class="lineCov">    1316900 :         if (succe)</span></a>
<a name="4560"><span class="lineNum">    4560 </span>                :            :           {</a>
<a name="4561"><span class="lineNum">    4561 </span>                :<span class="lineCov">     229889 :             succe = NULL;</span></a>
<a name="4562"><span class="lineNum">    4562 </span>                :<span class="lineCov">     229889 :             break;</span></a>
<a name="4563"><span class="lineNum">    4563 </span>                :            :           }</a>
<a name="4564"><span class="lineNum">    4564 </span>                :<span class="lineCov">    1087010 :         succe = e;</span></a>
<a name="4565"><span class="lineNum">    4565 </span>                :            :       }</a>
<a name="4566"><span class="lineNum">    4566 </span>        [<span class="branchCov" title="Branch 0 was taken 857119 times"> + </span><span class="branchCov" title="Branch 1 was taken 362823 times"> + </span>]:<span class="lineCov">    1219940 :   if (succe)</span></a>
<a name="4567"><span class="lineNum">    4567 </span>                :            :     {</a>
<a name="4568"><span class="lineNum">    4568 </span>                :            :       /* Verify the reached block is only reached through succe.</a>
<a name="4569"><span class="lineNum">    4569 </span>                :            :          If there is only one edge we can spare us the dominator</a>
<a name="4570"><span class="lineNum">    4570 </span>                :            :          check and iterate directly.  */</a>
<a name="4571"><span class="lineNum">    4571 </span>        [<span class="branchCov" title="Branch 0 was taken 855854 times"> + </span><span class="branchCov" title="Branch 1 was taken 1265 times"> + </span>]:<span class="lineCov">     857119 :       if (EDGE_COUNT (succe-&gt;dest-&gt;preds) &gt; 1)</span></a>
<a name="4572"><span class="lineNum">    4572 </span>                :            :         {</a>
<a name="4573"><span class="lineNum">    4573 </span>        [<span class="branchCov" title="Branch 0 was taken 1506290 times"> + </span><span class="branchCov" title="Branch 1 was taken 18820 times"> + </span>]:<span class="lineCov">    1525110 :           FOR_EACH_EDGE (e, ei, succe-&gt;dest-&gt;preds)</span></a>
<a name="4574"><span class="lineNum">    4574 </span>        [<span class="branchCov" title="Branch 0 was taken 1099820 times"> + </span><span class="branchCov" title="Branch 1 was taken 406465 times"> + </span>]:<span class="lineCov">    1506290 :             if (e != succe</span></a>
<a name="4575"><span class="lineNum">    4575 </span>        [<span class="branchCov" title="Branch 0 was taken 262790 times"> + </span><span class="branchCov" title="Branch 1 was taken 837034 times"> + </span>]:<span class="lineCov">    1099820 :                 &amp;&amp; ((e-&gt;flags &amp; EDGE_EXECUTABLE)</span></a>
<a name="4576"><span class="lineNum">    4576 </span>  [<span class="branchCov" title="Branch 0 was taken 43281 times"> + </span><span class="branchCov" title="Branch 1 was taken 219509 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 43281 times"> + </span>]:<span class="lineCov">     262790 :                     || (!allow_back &amp;&amp; (e-&gt;flags &amp; EDGE_DFS_BACK))))</span></a>
<a name="4577"><span class="lineNum">    4577 </span>                :            :               {</a>
<a name="4578"><span class="lineNum">    4578 </span>                :<span class="lineCov">     837034 :                 succe = NULL;</span></a>
<a name="4579"><span class="lineNum">    4579 </span>                :<span class="lineCov">     837034 :                 break;</span></a>
<a name="4580"><span class="lineNum">    4580 </span>                :            :               }</a>
<a name="4581"><span class="lineNum">    4581 </span>                :            :         }</a>
<a name="4582"><span class="lineNum">    4582 </span>        [<span class="branchCov" title="Branch 0 was taken 20085 times"> + </span><span class="branchCov" title="Branch 1 was taken 837034 times"> + </span>]:<span class="lineCov">     857119 :       if (succe)</span></a>
<a name="4583"><span class="lineNum">    4583 </span>                :            :         {</a>
<a name="4584"><span class="lineNum">    4584 </span>                :<span class="lineCov">      20085 :           bb2 = succe-&gt;dest;</span></a>
<a name="4585"><span class="lineNum">    4585 </span>                :            : </a>
<a name="4586"><span class="lineNum">    4586 </span>                :            :           /* Re-do the dominance check with changed bb2.  */</a>
<a name="4587"><span class="lineNum">    4587 </span>        [<span class="branchCov" title="Branch 0 was taken 1684 times"> + </span><span class="branchCov" title="Branch 1 was taken 18401 times"> + </span>]:<span class="lineCov">      20085 :           if (dominated_by_p (CDI_DOMINATORS, bb1, bb2))</span></a>
<a name="4588"><span class="lineNum">    4588 </span>                :<span class="lineCov">       1684 :             return true;</span></a>
<a name="4589"><span class="lineNum">    4589 </span>                :            :         }</a>
<a name="4590"><span class="lineNum">    4590 </span>                :            :     }</a>
<a name="4591"><span class="lineNum">    4591 </span>                :            : </a>
<a name="4592"><span class="lineNum">    4592 </span>                :            :   /* We could now iterate updating bb1 / bb2.  */</a>
<a name="4593"><span class="lineNum">    4593 </span>                :<span class="lineCov">    1218260 :   return false;</span></a>
<a name="4594"><span class="lineNum">    4594 </span>                :            : }</a>
<a name="4595"><span class="lineNum">    4595 </span>                :            : </a>
<a name="4596"><span class="lineNum">    4596 </span>                :            : /* Set the value number of FROM to TO, return true if it has changed</a>
<a name="4597"><span class="lineNum">    4597 </span>                :            :    as a result.  */</a>
<a name="4598"><span class="lineNum">    4598 </span>                :            : </a>
<a name="4599"><span class="lineNum">    4599 </span>                :            : static inline bool</a>
<a name="4600"><span class="lineNum">    4600 </span>                :<span class="lineCov">    6434860 : set_ssa_val_to (tree from, tree to)</span></a>
<a name="4601"><span class="lineNum">    4601 </span>                :            : {</a>
<a name="4602"><span class="lineNum">    4602 </span>                :<span class="lineCov">    6434860 :   vn_ssa_aux_t from_info = VN_INFO (from);</span></a>
<a name="4603"><span class="lineNum">    4603 </span>                :<span class="lineCov">    6434860 :   tree currval = from_info-&gt;valnum; // SSA_VAL (from)</span></a>
<a name="4604"><span class="lineNum">    4604 </span>                :<span class="lineCov">    6434860 :   poly_int64 toff, coff;</span></a>
<a name="4605"><span class="lineNum">    4605 </span>                :<span class="lineCov">    6434860 :   bool curr_undefined = false;</span></a>
<a name="4606"><span class="lineNum">    4606 </span>                :<span class="lineCov">    6434860 :   bool curr_invariant = false;</span></a>
<a name="4607"><span class="lineNum">    4607 </span>                :            : </a>
<a name="4608"><span class="lineNum">    4608 </span>                :            :   /* The only thing we allow as value numbers are ssa_names</a>
<a name="4609"><span class="lineNum">    4609 </span>                :            :      and invariants.  So assert that here.  We don't allow VN_TOP</a>
<a name="4610"><span class="lineNum">    4610 </span>                :            :      as visiting a stmt should produce a value-number other than</a>
<a name="4611"><span class="lineNum">    4611 </span>                :            :      that.</a>
<a name="4612"><span class="lineNum">    4612 </span>                :            :      ???  Still VN_TOP can happen for unreachable code, so force</a>
<a name="4613"><span class="lineNum">    4613 </span>                :            :      it to varying in that case.  Not all code is prepared to</a>
<a name="4614"><span class="lineNum">    4614 </span>                :            :      get VN_TOP on valueization.  */</a>
<a name="4615"><span class="lineNum">    4615 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 6434860 times"> + </span>]:<span class="lineCov">    6434860 :   if (to == VN_TOP)</span></a>
<a name="4616"><span class="lineNum">    4616 </span>                :            :     {</a>
<a name="4617"><span class="lineNum">    4617 </span>                :            :       /* ???  When iterating and visiting PHI &lt;undef, backedge-value&gt;</a>
<a name="4618"><span class="lineNum">    4618 </span>                :            :          for the first time we rightfully get VN_TOP and we need to</a>
<a name="4619"><span class="lineNum">    4619 </span>                :            :          preserve that to optimize for example gcc.dg/tree-ssa/ssa-sccvn-2.c.</a>
<a name="4620"><span class="lineNum">    4620 </span>                :            :          With SCCVN we were simply lucky we iterated the other PHI</a>
<a name="4621"><span class="lineNum">    4621 </span>                :            :          cycles first and thus visited the backedge-value DEF.  */</a>
<a name="4622"><span class="lineNum">    4622 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :       if (currval == VN_TOP)</span></a>
<a name="4623"><span class="lineNum">    4623 </span>                :<span class="lineNoCov">          0 :         goto set_and_exit;</span></a>
<a name="4624"><span class="lineNum">    4624 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :       if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="4625"><span class="lineNum">    4625 </span>                :<span class="lineNoCov">          0 :         fprintf (dump_file, &quot;Forcing value number to varying on &quot;</span></a>
<a name="4626"><span class="lineNum">    4626 </span>                :            :                  &quot;receiving VN_TOP\n&quot;);</a>
<a name="4627"><span class="lineNum">    4627 </span>                :<span class="lineNoCov">          0 :       to = from;</span></a>
<a name="4628"><span class="lineNum">    4628 </span>                :            :     }</a>
<a name="4629"><span class="lineNum">    4629 </span>                :            : </a>
<a name="4630"><span class="lineNum">    4630 </span>                :            :   gcc_checking_assert (to != NULL_TREE</a>
<a name="4631"><span class="lineNum">    4631 </span>                :            :                        &amp;&amp; ((TREE_CODE (to) == SSA_NAME</a>
<a name="4632"><span class="lineNum">    4632 </span>                :            :                             &amp;&amp; (to == from || SSA_VAL (to) == to))</a>
<a name="4633"><span class="lineNum">    4633 </span>                :            :                            || is_gimple_min_invariant (to)));</a>
<a name="4634"><span class="lineNum">    4634 </span>                :            : </a>
<a name="4635"><span class="lineNum">    4635 </span>        [<span class="branchCov" title="Branch 0 was taken 5391680 times"> + </span><span class="branchCov" title="Branch 1 was taken 1043180 times"> + </span>]:<span class="lineCov">    6434860 :   if (from != to)</span></a>
<a name="4636"><span class="lineNum">    4636 </span>                :            :     {</a>
<a name="4637"><span class="lineNum">    4637 </span>        [<span class="branchCov" title="Branch 0 was taken 443 times"> + </span><span class="branchCov" title="Branch 1 was taken 1042740 times"> + </span>]:<span class="lineCov">    1043180 :       if (currval == from)</span></a>
<a name="4638"><span class="lineNum">    4638 </span>                :            :         {</a>
<a name="4639"><span class="lineNum">    4639 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 443 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        443 :           if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 443 times"> + </span>]
<a name="4640"><span class="lineNum">    4640 </span>                :            :             {</a>
<a name="4641"><span class="lineNum">    4641 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot;Not changing value number of &quot;);</span></a>
<a name="4642"><span class="lineNum">    4642 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (dump_file, from);</span></a>
<a name="4643"><span class="lineNum">    4643 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot; from VARYING to &quot;);</span></a>
<a name="4644"><span class="lineNum">    4644 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (dump_file, to);</span></a>
<a name="4645"><span class="lineNum">    4645 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot;\n&quot;);</span></a>
<a name="4646"><span class="lineNum">    4646 </span>                :            :             }</a>
<a name="4647"><span class="lineNum">    4647 </span>                :<span class="lineCov">        443 :           return false;</span></a>
<a name="4648"><span class="lineNum">    4648 </span>                :            :         }</a>
<a name="4649"><span class="lineNum">    4649 </span>                :<span class="lineCov">    1042740 :       curr_invariant = is_gimple_min_invariant (currval);</span></a>
<a name="4650"><span class="lineNum">    4650 </span>                :<span class="lineCov">    2085480 :       curr_undefined = (TREE_CODE (currval) == SSA_NAME</span></a>
<a name="4651"><span class="lineNum">    4651 </span>  [<span class="branchCov" title="Branch 0 was taken 80894 times"> + </span><span class="branchCov" title="Branch 1 was taken 961848 times"> + </span><span class="branchCov" title="Branch 2 was taken 7434 times"> + </span><span class="branchCov" title="Branch 3 was taken 73460 times"> + </span>]:<span class="lineCov">    1042740 :                         &amp;&amp; ssa_undefined_value_p (currval, false));</span></a>
<a name="4652"><span class="lineNum">    4652 </span>                :<span class="lineCov">    2085480 :       if (currval != VN_TOP</span></a>
<a name="4653"><span class="lineNum">    4653 </span>        [<span class="branchCov" title="Branch 0 was taken 80894 times"> + </span><span class="branchCov" title="Branch 1 was taken 21048 times"> + </span>]:<span class="lineCov">     101942 :           &amp;&amp; !curr_invariant</span></a>
<a name="4654"><span class="lineNum">    4654 </span>        [<span class="branchCov" title="Branch 0 was taken 73460 times"> + </span><span class="branchCov" title="Branch 1 was taken 7434 times"> + </span>]:<span class="lineCov">      80894 :           &amp;&amp; !curr_undefined</span></a>
<a name="4655"><span class="lineNum">    4655 </span>  [<span class="branchCov" title="Branch 0 was taken 101942 times"> + </span><span class="branchCov" title="Branch 1 was taken 940800 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 73460 times"> + </span> :<span class="lineCov">    1144680 :           &amp;&amp; is_gimple_min_invariant (to))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 1042740 times"> + </span>]
<a name="4656"><span class="lineNum">    4656 </span>                :            :         {</a>
<a name="4657"><span class="lineNum">    4657 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :           if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="4658"><span class="lineNum">    4658 </span>                :            :             {</a>
<a name="4659"><span class="lineNum">    4659 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot;Forcing VARYING instead of changing &quot;</span></a>
<a name="4660"><span class="lineNum">    4660 </span>                :            :                        &quot;value number of &quot;);</a>
<a name="4661"><span class="lineNum">    4661 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (dump_file, from);</span></a>
<a name="4662"><span class="lineNum">    4662 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot; from &quot;);</span></a>
<a name="4663"><span class="lineNum">    4663 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (dump_file, currval);</span></a>
<a name="4664"><span class="lineNum">    4664 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot; (non-constant) to &quot;);</span></a>
<a name="4665"><span class="lineNum">    4665 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (dump_file, to);</span></a>
<a name="4666"><span class="lineNum">    4666 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot; (constant)\n&quot;);</span></a>
<a name="4667"><span class="lineNum">    4667 </span>                :            :             }</a>
<a name="4668"><span class="lineNum">    4668 </span>                :<span class="lineNoCov">          0 :           to = from;</span></a>
<a name="4669"><span class="lineNum">    4669 </span>                :            :         }</a>
<a name="4670"><span class="lineNum">    4670 </span>                :<span class="lineCov">    2085480 :       else if (currval != VN_TOP</span></a>
<a name="4671"><span class="lineNum">    4671 </span>        [<span class="branchCov" title="Branch 0 was taken 94508 times"> + </span><span class="branchCov" title="Branch 1 was taken 7434 times"> + </span>]:<span class="lineCov">     101942 :                &amp;&amp; !curr_undefined</span></a>
<a name="4672"><span class="lineNum">    4672 </span>        [<span class="branchCov" title="Branch 0 was taken 82670 times"> + </span><span class="branchCov" title="Branch 1 was taken 11838 times"> + </span>]:<span class="lineCov">      94508 :                &amp;&amp; TREE_CODE (to) == SSA_NAME</span></a>
<a name="4673"><span class="lineNum">    4673 </span>  [<span class="branchCov" title="Branch 0 was taken 101942 times"> + </span><span class="branchCov" title="Branch 1 was taken 940800 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 82670 times"> + </span> :<span class="lineCov">    1144680 :                &amp;&amp; ssa_undefined_value_p (to, false))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 1042740 times"> + </span>]
<a name="4674"><span class="lineNum">    4674 </span>                :            :         {</a>
<a name="4675"><span class="lineNum">    4675 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :           if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="4676"><span class="lineNum">    4676 </span>                :            :             {</a>
<a name="4677"><span class="lineNum">    4677 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot;Forcing VARYING instead of changing &quot;</span></a>
<a name="4678"><span class="lineNum">    4678 </span>                :            :                        &quot;value number of &quot;);</a>
<a name="4679"><span class="lineNum">    4679 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (dump_file, from);</span></a>
<a name="4680"><span class="lineNum">    4680 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot; from &quot;);</span></a>
<a name="4681"><span class="lineNum">    4681 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (dump_file, currval);</span></a>
<a name="4682"><span class="lineNum">    4682 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot; (non-undefined) to &quot;);</span></a>
<a name="4683"><span class="lineNum">    4683 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (dump_file, to);</span></a>
<a name="4684"><span class="lineNum">    4684 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot; (undefined)\n&quot;);</span></a>
<a name="4685"><span class="lineNum">    4685 </span>                :            :             }</a>
<a name="4686"><span class="lineNum">    4686 </span>                :<span class="lineNoCov">          0 :           to = from;</span></a>
<a name="4687"><span class="lineNum">    4687 </span>                :            :         }</a>
<a name="4688"><span class="lineNum">    4688 </span>        [<span class="branchCov" title="Branch 0 was taken 856810 times"> + </span><span class="branchCov" title="Branch 1 was taken 185932 times"> + </span>]:<span class="lineCov">    1042740 :       else if (TREE_CODE (to) == SSA_NAME</span></a>
<a name="4689"><span class="lineNum">    4689 </span>        [<span class="branchCov" title="Branch 0 was taken 925 times"> + </span><span class="branchCov" title="Branch 1 was taken 855885 times"> + </span>]:<span class="lineCov">     856810 :                &amp;&amp; SSA_NAME_OCCURS_IN_ABNORMAL_PHI (to))</span></a>
<a name="4690"><span class="lineNum">    4690 </span>                :<span class="lineCov">        925 :         to = from;</span></a>
<a name="4691"><span class="lineNum">    4691 </span>                :            :     }</a>
<a name="4692"><span class="lineNum">    4692 </span>                :            : </a>
<a name="4693"><span class="lineNum">    4693 </span>                :<span class="lineCov">    5391680 : set_and_exit:</span></a>
<a name="4694"><span class="lineNum">    4694 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 6434420 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">    6434420 :   if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 6434420 times"> + </span>]
<a name="4695"><span class="lineNum">    4695 </span>                :            :     {</a>
<a name="4696"><span class="lineNum">    4696 </span>                :<span class="lineNoCov">          0 :       fprintf (dump_file, &quot;Setting value number of &quot;);</span></a>
<a name="4697"><span class="lineNum">    4697 </span>                :<span class="lineNoCov">          0 :       print_generic_expr (dump_file, from);</span></a>
<a name="4698"><span class="lineNum">    4698 </span>                :<span class="lineNoCov">          0 :       fprintf (dump_file, &quot; to &quot;);</span></a>
<a name="4699"><span class="lineNum">    4699 </span>                :<span class="lineNoCov">          0 :       print_generic_expr (dump_file, to);</span></a>
<a name="4700"><span class="lineNum">    4700 </span>                :            :     }</a>
<a name="4701"><span class="lineNum">    4701 </span>                :            : </a>
<a name="4702"><span class="lineNum">    4702 </span>                :<span class="lineCov">    6434420 :   if (currval != to</span></a>
<a name="4703"><span class="lineNum">    4703 </span>        [<span class="branchCov" title="Branch 0 was taken 5429330 times"> + </span><span class="branchCov" title="Branch 1 was taken 190 times"> + </span>]:<span class="lineCov">    5429520 :       &amp;&amp; !operand_equal_p (currval, to, 0)</span></a>
<a name="4704"><span class="lineNum">    4704 </span>                :            :       /* Different undefined SSA names are not actually different.  See</a>
<a name="4705"><span class="lineNum">    4705 </span>                :            :          PR82320 for a testcase were we'd otherwise not terminate iteration.  */</a>
<a name="4706"><span class="lineNum">    4706 </span>        [<span class="branchCov" title="Branch 0 was taken 594 times"> + </span><span class="branchCov" title="Branch 1 was taken 5428740 times"> + </span>]:<span class="lineCov">    5429330 :       &amp;&amp; !(curr_undefined</span></a>
<a name="4707"><span class="lineNum">    4707 </span>        [<span class="branchCov" title="Branch 0 was taken 436 times"> + </span><span class="branchCov" title="Branch 1 was taken 158 times"> + </span>]:<span class="lineCov">        594 :            &amp;&amp; TREE_CODE (to) == SSA_NAME</span></a>
<a name="4708"><span class="lineNum">    4708 </span>        [<span class="branchCov" title="Branch 0 was taken 348 times"> + </span><span class="branchCov" title="Branch 1 was taken 88 times"> + </span>]:<span class="lineCov">        436 :            &amp;&amp; ssa_undefined_value_p (to, false))</span></a>
<a name="4709"><span class="lineNum">    4709 </span>                :            :       /* ???  For addresses involving volatile objects or types operand_equal_p</a>
<a name="4710"><span class="lineNum">    4710 </span>                :            :          does not reliably detect ADDR_EXPRs as equal.  We know we are only</a>
<a name="4711"><span class="lineNum">    4711 </span>                :            :          getting invariant gimple addresses here, so can use</a>
<a name="4712"><span class="lineNum">    4712 </span>                :            :          get_addr_base_and_unit_offset to do this comparison.  */</a>
<a name="4713"><span class="lineNum">    4713 </span>  [<span class="branchCov" title="Branch 0 was taken 5429520 times"> + </span><span class="branchCov" title="Branch 1 was taken 1004900 times"> + </span><span class="branchCov" title="Branch 2 was taken 12020 times"> + </span><span class="branchCov" title="Branch 3 was taken 5417220 times"> + </span> :<span class="lineCov">   11876000 :       &amp;&amp; !(TREE_CODE (currval) == ADDR_EXPR</span></a>
<span class="lineNum">         </span>   <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchCov" title="Branch 6 was taken 5429240 times"> + </span><span class="branchCov" title="Branch 7 was taken 1005180 times"> + </span>]
<a name="4714"><span class="lineNum">    4714 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 12020 times"> + </span>]:<span class="lineCov">      12020 :            &amp;&amp; TREE_CODE (to) == ADDR_EXPR</span></a>
<a name="4715"><span class="lineNum">    4715 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :            &amp;&amp; (get_addr_base_and_unit_offset (TREE_OPERAND (currval, 0), &amp;coff)</span></a>
<a name="4716"><span class="lineNum">    4716 </span>                :<span class="lineNoCov">          0 :                == get_addr_base_and_unit_offset (TREE_OPERAND (to, 0), &amp;toff))</span></a>
<a name="4717"><span class="lineNum">    4717 </span>                :<span class="lineNoCov">          0 :            &amp;&amp; known_eq (coff, toff)))</span></a>
<a name="4718"><span class="lineNum">    4718 </span>                :            :     {</a>
<a name="4719"><span class="lineNum">    4719 </span>                :<span class="lineCov">    5429240 :       if (to != from</span></a>
<a name="4720"><span class="lineNum">    4720 </span>        [<span class="branchCov" title="Branch 0 was taken 14788 times"> + </span><span class="branchCov" title="Branch 1 was taken 939875 times"> + </span>]:<span class="lineCov">     954663 :           &amp;&amp; currval != VN_TOP</span></a>
<a name="4721"><span class="lineNum">    4721 </span>        [<span class="branchCov" title="Branch 0 was taken 14282 times"> + </span><span class="branchCov" title="Branch 1 was taken 506 times"> + </span>]:<span class="lineCov">      14788 :           &amp;&amp; !curr_undefined</span></a>
<a name="4722"><span class="lineNum">    4722 </span>                :            :           /* We do not want to allow lattice transitions from one value</a>
<a name="4723"><span class="lineNum">    4723 </span>                :            :              to another since that may lead to not terminating iteration</a>
<a name="4724"><span class="lineNum">    4724 </span>                :            :              (see PR95049).  Since there's no convenient way to check</a>
<a name="4725"><span class="lineNum">    4725 </span>                :            :              for the allowed transition of VAL -&gt; PHI (loop entry value,</a>
<a name="4726"><span class="lineNum">    4726 </span>                :            :              same on two PHIs, to same PHI result) we restrict the check</a>
<a name="4727"><span class="lineNum">    4727 </span>                :            :              to invariants.  */</a>
<a name="4728"><span class="lineNum">    4728 </span>        [<span class="branchCov" title="Branch 0 was taken 9210 times"> + </span><span class="branchCov" title="Branch 1 was taken 5072 times"> + </span>]:<span class="lineCov">      14282 :           &amp;&amp; curr_invariant</span></a>
<a name="4729"><span class="lineNum">    4729 </span>  [<span class="branchCov" title="Branch 0 was taken 954663 times"> + </span><span class="branchCov" title="Branch 1 was taken 4474580 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 9210 times"> + </span> :<span class="lineCov">    6383900 :           &amp;&amp; is_gimple_min_invariant (to))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 5429240 times"> + </span>]
<a name="4730"><span class="lineNum">    4730 </span>                :            :         {</a>
<a name="4731"><span class="lineNum">    4731 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :           if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="4732"><span class="lineNum">    4732 </span>                :<span class="lineNoCov">          0 :             fprintf (dump_file, &quot; forced VARYING&quot;);</span></a>
<a name="4733"><span class="lineNum">    4733 </span>                :<span class="lineNoCov">          0 :           to = from;</span></a>
<a name="4734"><span class="lineNum">    4734 </span>                :            :         }</a>
<a name="4735"><span class="lineNum">    4735 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 5429240 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">    5429240 :       if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 5429240 times"> + </span>]
<a name="4736"><span class="lineNum">    4736 </span>                :<span class="lineNoCov">          0 :         fprintf (dump_file, &quot; (changed)\n&quot;);</span></a>
<a name="4737"><span class="lineNum">    4737 </span>                :<span class="lineCov">    5429240 :       from_info-&gt;valnum = to;</span></a>
<a name="4738"><span class="lineNum">    4738 </span>                :<span class="lineCov">    5429240 :       return true;</span></a>
<a name="4739"><span class="lineNum">    4739 </span>                :            :     }</a>
<a name="4740"><span class="lineNum">    4740 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1005180 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">    1005180 :   if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 1005180 times"> + </span>]
<a name="4741"><span class="lineNum">    4741 </span>                :<span class="lineNoCov">          0 :     fprintf (dump_file, &quot;\n&quot;);</span></a>
<a name="4742"><span class="lineNum">    4742 </span>                :<span class="lineCov">    1005180 :   return false;</span></a>
<a name="4743"><span class="lineNum">    4743 </span>                :            : }</a>
<a name="4744"><span class="lineNum">    4744 </span>                :            : </a>
<a name="4745"><span class="lineNum">    4745 </span>                :            : /* Set all definitions in STMT to value number to themselves.</a>
<a name="4746"><span class="lineNum">    4746 </span>                :            :    Return true if a value number changed. */</a>
<a name="4747"><span class="lineNum">    4747 </span>                :            : </a>
<a name="4748"><span class="lineNum">    4748 </span>                :            : static bool</a>
<a name="4749"><span class="lineNum">    4749 </span>                :<span class="lineCov">   10432600 : defs_to_varying (gimple *stmt)</span></a>
<a name="4750"><span class="lineNum">    4750 </span>                :            : {</a>
<a name="4751"><span class="lineNum">    4751 </span>                :<span class="lineCov">   10432600 :   bool changed = false;</span></a>
<a name="4752"><span class="lineNum">    4752 </span>                :            :   ssa_op_iter iter;</a>
<a name="4753"><span class="lineNum">    4753 </span>                :            :   def_operand_p defp;</a>
<a name="4754"><span class="lineNum">    4754 </span>                :            : </a>
<a name="4755"><span class="lineNum">    4755 </span>        [<span class="branchCov" title="Branch 0 was taken 1027060 times"> + </span><span class="branchCov" title="Branch 1 was taken 10432600 times"> + </span>]:<span class="lineCov">   11459700 :   FOR_EACH_SSA_DEF_OPERAND (defp, stmt, iter, SSA_OP_ALL_DEFS)</span></a>
<a name="4756"><span class="lineNum">    4756 </span>                :            :     {</a>
<a name="4757"><span class="lineNum">    4757 </span>                :<span class="lineCov">    1027060 :       tree def = DEF_FROM_PTR (defp);</span></a>
<a name="4758"><span class="lineNum">    4758 </span>                :<span class="lineCov">    1027060 :       changed |= set_ssa_val_to (def, def);</span></a>
<a name="4759"><span class="lineNum">    4759 </span>                :            :     }</a>
<a name="4760"><span class="lineNum">    4760 </span>                :<span class="lineCov">   10432600 :   return changed;</span></a>
<a name="4761"><span class="lineNum">    4761 </span>                :            : }</a>
<a name="4762"><span class="lineNum">    4762 </span>                :            : </a>
<a name="4763"><span class="lineNum">    4763 </span>                :            : /* Visit a copy between LHS and RHS, return true if the value number</a>
<a name="4764"><span class="lineNum">    4764 </span>                :            :    changed.  */</a>
<a name="4765"><span class="lineNum">    4765 </span>                :            : </a>
<a name="4766"><span class="lineNum">    4766 </span>                :            : static bool</a>
<a name="4767"><span class="lineNum">    4767 </span>                :<span class="lineCov">     120676 : visit_copy (tree lhs, tree rhs)</span></a>
<a name="4768"><span class="lineNum">    4768 </span>                :            : {</a>
<a name="4769"><span class="lineNum">    4769 </span>                :            :   /* Valueize.  */</a>
<a name="4770"><span class="lineNum">    4770 </span>                :<span class="lineCov">     120676 :   rhs = SSA_VAL (rhs);</span></a>
<a name="4771"><span class="lineNum">    4771 </span>                :            : </a>
<a name="4772"><span class="lineNum">    4772 </span>                :<span class="lineCov">     120676 :   return set_ssa_val_to (lhs, rhs);</span></a>
<a name="4773"><span class="lineNum">    4773 </span>                :            : }</a>
<a name="4774"><span class="lineNum">    4774 </span>                :            : </a>
<a name="4775"><span class="lineNum">    4775 </span>                :            : /* Lookup a value for OP in type WIDE_TYPE where the value in type of OP</a>
<a name="4776"><span class="lineNum">    4776 </span>                :            :    is the same.  */</a>
<a name="4777"><span class="lineNum">    4777 </span>                :            : </a>
<a name="4778"><span class="lineNum">    4778 </span>                :            : static tree</a>
<a name="4779"><span class="lineNum">    4779 </span>                :<span class="lineCov">      47315 : valueized_wider_op (tree wide_type, tree op, bool allow_truncate)</span></a>
<a name="4780"><span class="lineNum">    4780 </span>                :            : {</a>
<a name="4781"><span class="lineNum">    4781 </span>        [<span class="branchCov" title="Branch 0 was taken 38009 times"> + </span><span class="branchCov" title="Branch 1 was taken 9306 times"> + </span>]:<span class="lineCov">      47315 :   if (TREE_CODE (op) == SSA_NAME)</span></a>
<a name="4782"><span class="lineNum">    4782 </span>                :<span class="lineCov">      38009 :     op = vn_valueize (op);</span></a>
<a name="4783"><span class="lineNum">    4783 </span>                :            : </a>
<a name="4784"><span class="lineNum">    4784 </span>                :            :   /* Either we have the op widened available.  */</a>
<a name="4785"><span class="lineNum">    4785 </span>                :<span class="lineCov">      47315 :   tree ops[3] = {};</span></a>
<a name="4786"><span class="lineNum">    4786 </span>                :<span class="lineCov">      47315 :   ops[0] = op;</span></a>
<a name="4787"><span class="lineNum">    4787 </span>                :<span class="lineCov">      47315 :   tree tem = vn_nary_op_lookup_pieces (1, NOP_EXPR,</span></a>
<a name="4788"><span class="lineNum">    4788 </span>                :            :                                        wide_type, ops, NULL);</a>
<a name="4789"><span class="lineNum">    4789 </span>        [<span class="branchCov" title="Branch 0 was taken 5430 times"> + </span><span class="branchCov" title="Branch 1 was taken 41885 times"> + </span>]:<span class="lineCov">      47315 :   if (tem)</span></a>
<a name="4790"><span class="lineNum">    4790 </span>                :<span class="lineCov">       5430 :     return tem;</span></a>
<a name="4791"><span class="lineNum">    4791 </span>                :            : </a>
<a name="4792"><span class="lineNum">    4792 </span>                :            :   /* Or the op is truncated from some existing value.  */</a>
<a name="4793"><span class="lineNum">    4793 </span>  [<span class="branchCov" title="Branch 0 was taken 25105 times"> + </span><span class="branchCov" title="Branch 1 was taken 16780 times"> + </span><span class="branchCov" title="Branch 2 was taken 20379 times"> + </span><span class="branchCov" title="Branch 3 was taken 4726 times"> + </span>]:<span class="lineCov">      41885 :   if (allow_truncate &amp;&amp; TREE_CODE (op) == SSA_NAME)</span></a>
<a name="4794"><span class="lineNum">    4794 </span>                :            :     {</a>
<a name="4795"><span class="lineNum">    4795 </span>                :<span class="lineCov">      20379 :       gimple *def = SSA_NAME_DEF_STMT (op);</span></a>
<a name="4796"><span class="lineNum">    4796 </span>                :<span class="lineCov">      20379 :       if (is_gimple_assign (def)</span></a>
<a name="4797"><span class="lineNum">    4797 </span>  [<span class="branchCov" title="Branch 0 was taken 19130 times"> + </span><span class="branchCov" title="Branch 1 was taken 1249 times"> + </span><span class="branchCov" title="Branch 2 was taken 6680 times"> + </span><span class="branchCov" title="Branch 3 was taken 12450 times"> + </span> :<span class="lineCov">      20379 :           &amp;&amp; CONVERT_EXPR_CODE_P (gimple_assign_rhs_code (def)))</span></a>
<span class="lineNum">         </span>   <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 6680 times"> + </span><span class="branchCov" title="Branch 6 was taken 12450 times"> + </span><span class="branchCov" title="Branch 7 was taken 7929 times"> + </span>]
<a name="4798"><span class="lineNum">    4798 </span>                :            :         {</a>
<a name="4799"><span class="lineNum">    4799 </span>                :<span class="lineCov">      12450 :           tem = gimple_assign_rhs1 (def);</span></a>
<a name="4800"><span class="lineNum">    4800 </span>        [<span class="branchCov" title="Branch 0 was taken 7520 times"> + </span><span class="branchCov" title="Branch 1 was taken 4930 times"> + </span>]:<span class="lineCov">      12450 :           if (useless_type_conversion_p (wide_type, TREE_TYPE (tem)))</span></a>
<a name="4801"><span class="lineNum">    4801 </span>                :            :             {</a>
<a name="4802"><span class="lineNum">    4802 </span>        [<span class="branchCov" title="Branch 0 was taken 7520 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       7520 :               if (TREE_CODE (tem) == SSA_NAME)</span></a>
<a name="4803"><span class="lineNum">    4803 </span>                :<span class="lineCov">       7520 :                 tem = vn_valueize (tem);</span></a>
<a name="4804"><span class="lineNum">    4804 </span>                :<span class="lineCov">       7520 :               return tem;</span></a>
<a name="4805"><span class="lineNum">    4805 </span>                :            :             }</a>
<a name="4806"><span class="lineNum">    4806 </span>                :            :         }</a>
<a name="4807"><span class="lineNum">    4807 </span>                :            :     }</a>
<a name="4808"><span class="lineNum">    4808 </span>                :            : </a>
<a name="4809"><span class="lineNum">    4809 </span>                :            :   /* For constants simply extend it.  */</a>
<a name="4810"><span class="lineNum">    4810 </span>        [<span class="branchCov" title="Branch 0 was taken 9464 times"> + </span><span class="branchCov" title="Branch 1 was taken 24901 times"> + </span>]:<span class="lineCov">      34365 :   if (TREE_CODE (op) == INTEGER_CST)</span></a>
<a name="4811"><span class="lineNum">    4811 </span>                :<span class="lineCov">       9464 :     return wide_int_to_tree (wide_type, wi::to_wide (op));</span></a>
<a name="4812"><span class="lineNum">    4812 </span>                :            : </a>
<a name="4813"><span class="lineNum">    4813 </span>                :<span class="lineCov">      24901 :   return NULL_TREE;</span></a>
<a name="4814"><span class="lineNum">    4814 </span>                :            : }</a>
<a name="4815"><span class="lineNum">    4815 </span>                :            : </a>
<a name="4816"><span class="lineNum">    4816 </span>                :            : /* Visit a nary operator RHS, value number it, and return true if the</a>
<a name="4817"><span class="lineNum">    4817 </span>                :            :    value number of LHS has changed as a result.  */</a>
<a name="4818"><span class="lineNum">    4818 </span>                :            : </a>
<a name="4819"><span class="lineNum">    4819 </span>                :            : static bool</a>
<a name="4820"><span class="lineNum">    4820 </span>                :<span class="lineCov">    1961500 : visit_nary_op (tree lhs, gassign *stmt)</span></a>
<a name="4821"><span class="lineNum">    4821 </span>                :            : {</a>
<a name="4822"><span class="lineNum">    4822 </span>                :            :   vn_nary_op_t vnresult;</a>
<a name="4823"><span class="lineNum">    4823 </span>                :<span class="lineCov">    1961500 :   tree result = vn_nary_op_lookup_stmt (stmt, &amp;vnresult);</span></a>
<a name="4824"><span class="lineNum">    4824 </span>  [<span class="branchCov" title="Branch 0 was taken 1813510 times"> + </span><span class="branchCov" title="Branch 1 was taken 147994 times"> + </span><span class="branchCov" title="Branch 2 was taken 6267 times"> + </span><span class="branchCov" title="Branch 3 was taken 1807240 times"> + </span>]:<span class="lineCov">    1961500 :   if (! result &amp;&amp; vnresult)</span></a>
<a name="4825"><span class="lineNum">    4825 </span>                :<span class="lineCov">       6267 :     result = vn_nary_op_get_predicated_value (vnresult, gimple_bb (stmt));</span></a>
<a name="4826"><span class="lineNum">    4826 </span>        [<span class="branchCov" title="Branch 0 was taken 150465 times"> + </span><span class="branchCov" title="Branch 1 was taken 1811040 times"> + </span>]:<span class="lineCov">    1961500 :   if (result)</span></a>
<a name="4827"><span class="lineNum">    4827 </span>                :<span class="lineCov">     150465 :     return set_ssa_val_to (lhs, result);</span></a>
<a name="4828"><span class="lineNum">    4828 </span>                :            : </a>
<a name="4829"><span class="lineNum">    4829 </span>                :            :   /* Do some special pattern matching for redundancies of operations</a>
<a name="4830"><span class="lineNum">    4830 </span>                :            :      in different types.  */</a>
<a name="4831"><span class="lineNum">    4831 </span>                :<span class="lineCov">    1811040 :   enum tree_code code = gimple_assign_rhs_code (stmt);</span></a>
<a name="4832"><span class="lineNum">    4832 </span>                :<span class="lineCov">    1811040 :   tree type = TREE_TYPE (lhs);</span></a>
<a name="4833"><span class="lineNum">    4833 </span>                :<span class="lineCov">    1811040 :   tree rhs1 = gimple_assign_rhs1 (stmt);</span></a>
<a name="4834"><span class="lineNum">    4834 </span>  [<span class="branchCov" title="Branch 0 was taken 566474 times"> + </span><span class="branchCov" title="Branch 1 was taken 150502 times"> + </span><span class="branchCov" title="Branch 2 was taken 11099 times"> + </span><span class="branchCov" title="Branch 3 was taken 118307 times"> + </span> :<span class="lineCov">    1811040 :   switch (code)</span></a>
<span class="lineNum">         </span>            <span class="branchCov" title="Branch 4 was taken 964658 times"> + </span>]
<a name="4835"><span class="lineNum">    4835 </span>                :            :     {</a>
<a name="4836"><span class="lineNum">    4836 </span>                :<span class="lineCov">     566474 :     CASE_CONVERT:</span></a>
<a name="4837"><span class="lineNum">    4837 </span>                :            :       /* Match arithmetic done in a different type where we can easily</a>
<a name="4838"><span class="lineNum">    4838 </span>                :            :          substitute the result from some earlier sign-changed or widened</a>
<a name="4839"><span class="lineNum">    4839 </span>                :            :          operation.  */</a>
<a name="4840"><span class="lineNum">    4840 </span>  [<span class="branchCov" title="Branch 0 was taken 565294 times"> + </span><span class="branchCov" title="Branch 1 was taken 1180 times"> + </span><span class="branchCov" title="Branch 2 was taken 563118 times"> + </span><span class="branchCov" title="Branch 3 was taken 2176 times"> + </span> :<span class="lineCov">     566474 :       if (INTEGRAL_TYPE_P (type)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 540219 times"> + </span><span class="branchCov" title="Branch 5 was taken 22899 times"> + </span>]
<a name="4841"><span class="lineNum">    4841 </span>        [<span class="branchCov" title="Branch 0 was taken 515492 times"> + </span><span class="branchCov" title="Branch 1 was taken 28083 times"> + </span>]:<span class="lineCov">     543575 :           &amp;&amp; TREE_CODE (rhs1) == SSA_NAME</span></a>
<a name="4842"><span class="lineNum">    4842 </span>                :            :           /* We only handle sign-changes, zero-extension -&gt; &amp; mask or</a>
<a name="4843"><span class="lineNum">    4843 </span>                :            :              sign-extension if we know the inner operation doesn't</a>
<a name="4844"><span class="lineNum">    4844 </span>                :            :              overflow.  */</a>
<a name="4845"><span class="lineNum">    4845 </span>                :<span class="lineCov">     515492 :           &amp;&amp; (((TYPE_UNSIGNED (TREE_TYPE (rhs1))</span></a>
<a name="4846"><span class="lineNum">    4846 </span>  [<span class="branchCov" title="Branch 0 was taken 170982 times"> + </span><span class="branchCov" title="Branch 1 was taken 138 times"> + </span><span class="branchCov" title="Branch 2 was taken 170982 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     171120 :                 || (INTEGRAL_TYPE_P (TREE_TYPE (rhs1))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 170952 times"> + </span><span class="branchCov" title="Branch 5 was taken 30 times"> + </span>]
<a name="4847"><span class="lineNum">    4847 </span>  [<span class="branchCov" title="Branch 0 was taken 171120 times"> + </span><span class="branchCov" title="Branch 1 was taken 344372 times"> + </span><span class="branchCov" title="Branch 2 was taken 171090 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     686582 :                     &amp;&amp; TYPE_OVERFLOW_UNDEFINED (TREE_TYPE (rhs1))))</span></a>
<span class="lineNum">         </span><span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 171090 times"> + </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span><span class="branchCov" title="Branch 8 was taken 171090 times"> + </span> 
<span class="lineNum">         </span>   <span class="branchNoCov" title="Branch 9 was not taken"> - </span><span class="branchCov" title="Branch 10 was taken 171085 times"> + </span><span class="branchCov" title="Branch 11 was taken 5 times"> + </span><span class="branchCov" title="Branch 12 was taken 171085 times"> + </span> 
<span class="lineNum">         </span>            <span class="branchNoCov" title="Branch 13 was not taken"> - </span>]
<a name="4848"><span class="lineNum">    4848 </span>        [<span class="branchCov" title="Branch 0 was taken 269926 times"> + </span><span class="branchCov" title="Branch 1 was taken 245531 times"> + </span>]:<span class="lineCov">     515457 :                &amp;&amp; TYPE_PRECISION (type) &gt; TYPE_PRECISION (TREE_TYPE (rhs1)))</span></a>
<a name="4849"><span class="lineNum">    4849 </span>        [<span class="branchCov" title="Branch 0 was taken 163450 times"> + </span><span class="branchCov" title="Branch 1 was taken 106511 times"> + </span>]:<span class="lineCov">     269961 :               || TYPE_PRECISION (type) == TYPE_PRECISION (TREE_TYPE (rhs1))))</span></a>
<a name="4850"><span class="lineNum">    4850 </span>                :            :         {</a>
<a name="4851"><span class="lineNum">    4851 </span>                :<span class="lineCov">     408981 :           gassign *def = dyn_cast &lt;gassign *&gt; (SSA_NAME_DEF_STMT (rhs1));</span></a>
<a name="4852"><span class="lineNum">    4852 </span>                :<span class="lineCov">     408981 :           if (def</span></a>
<a name="4853"><span class="lineNum">    4853 </span>  [<span class="branchCov" title="Branch 0 was taken 292350 times"> + </span><span class="branchCov" title="Branch 1 was taken 116631 times"> + </span><span class="branchCov" title="Branch 2 was taken 268080 times"> + </span><span class="branchCov" title="Branch 3 was taken 24270 times"> + </span> :<span class="lineCov">     677061 :               &amp;&amp; (gimple_assign_rhs_code (def) == PLUS_EXPR</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 34875 times"> + </span><span class="branchCov" title="Branch 5 was taken 374106 times"> + </span>]
<a name="4854"><span class="lineNum">    4854 </span>        [<span class="branchCov" title="Branch 0 was taken 262746 times"> + </span><span class="branchCov" title="Branch 1 was taken 5334 times"> + </span>]:<span class="lineCov">     268080 :                   || gimple_assign_rhs_code (def) == MINUS_EXPR</span></a>
<a name="4855"><span class="lineNum">    4855 </span>        [<span class="branchCov" title="Branch 0 was taken 5271 times"> + </span><span class="branchCov" title="Branch 1 was taken 257475 times"> + </span>]:<span class="lineCov">     262746 :                   || gimple_assign_rhs_code (def) == MULT_EXPR))</span></a>
<a name="4856"><span class="lineNum">    4856 </span>                :            :             {</a>
<a name="4857"><span class="lineNum">    4857 </span>                :<span class="lineCov">      34875 :               tree ops[3] = {};</span></a>
<a name="4858"><span class="lineNum">    4858 </span>                :            :               /* When requiring a sign-extension we cannot model a</a>
<a name="4859"><span class="lineNum">    4859 </span>                :            :                  previous truncation with a single op so don't bother.  */</a>
<a name="4860"><span class="lineNum">    4860 </span>                :<span class="lineCov">      34875 :               bool allow_truncate = TYPE_UNSIGNED (TREE_TYPE (rhs1));</span></a>
<a name="4861"><span class="lineNum">    4861 </span>                :            :               /* Either we have the op widened available.  */</a>
<a name="4862"><span class="lineNum">    4862 </span>                :<span class="lineCov">      34875 :               ops[0] = valueized_wider_op (type, gimple_assign_rhs1 (def),</span></a>
<a name="4863"><span class="lineNum">    4863 </span>                :            :                                            allow_truncate);</a>
<a name="4864"><span class="lineNum">    4864 </span>        [<span class="branchCov" title="Branch 0 was taken 12440 times"> + </span><span class="branchCov" title="Branch 1 was taken 22435 times"> + </span>]:<span class="lineCov">      34875 :               if (ops[0])</span></a>
<a name="4865"><span class="lineNum">    4865 </span>                :<span class="lineCov">      12440 :                 ops[1] = valueized_wider_op (type, gimple_assign_rhs2 (def),</span></a>
<a name="4866"><span class="lineNum">    4866 </span>                :            :                                              allow_truncate);</a>
<a name="4867"><span class="lineNum">    4867 </span>  [<span class="branchCov" title="Branch 0 was taken 12440 times"> + </span><span class="branchCov" title="Branch 1 was taken 22435 times"> + </span><span class="branchCov" title="Branch 2 was taken 9974 times"> + </span><span class="branchCov" title="Branch 3 was taken 2466 times"> + </span>]:<span class="lineCov">      34875 :               if (ops[0] &amp;&amp; ops[1])</span></a>
<a name="4868"><span class="lineNum">    4868 </span>                :            :                 {</a>
<a name="4869"><span class="lineNum">    4869 </span>                :<span class="lineCov">       9974 :                   ops[0] = vn_nary_op_lookup_pieces</span></a>
<a name="4870"><span class="lineNum">    4870 </span>                :<span class="lineCov">       9974 :                       (2, gimple_assign_rhs_code (def), type, ops, NULL);</span></a>
<a name="4871"><span class="lineNum">    4871 </span>                :            :                   /* We have wider operation available.  */</a>
<a name="4872"><span class="lineNum">    4872 </span>                :<span class="lineCov">      19948 :                   if (ops[0]</span></a>
<a name="4873"><span class="lineNum">    4873 </span>                :            :                       /* If the leader is a wrapping operation we can</a>
<a name="4874"><span class="lineNum">    4874 </span>                :            :                          insert it for code hoisting w/o introducing</a>
<a name="4875"><span class="lineNum">    4875 </span>                :            :                          undefined overflow.  If it is not it has to</a>
<a name="4876"><span class="lineNum">    4876 </span>                :            :                          be available.  See PR86554.  */</a>
<a name="4877"><span class="lineNum">    4877 </span>  [<span class="branchCov" title="Branch 0 was taken 41 times"> + </span><span class="branchCov" title="Branch 1 was taken 9933 times"> + </span><span class="branchCov" title="Branch 2 was taken 41 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">       9995 :                       &amp;&amp; (TYPE_OVERFLOW_WRAPS (TREE_TYPE (ops[0]))</span></a>
<span class="lineNum">         </span><span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 41 times"> + </span><span class="branchCov" title="Branch 6 was taken 21 times"> + </span><span class="branchCov" title="Branch 7 was taken 20 times"> + </span><span class="branchNoCov" title="Branch 8 was not taken"> - </span> 
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 9 was taken 21 times"> + </span><span class="branchCov" title="Branch 10 was taken 21 times"> + </span><span class="branchCov" title="Branch 11 was taken 20 times"> + </span><span class="branchCov" title="Branch 12 was taken 37 times"> + </span> 
<span class="lineNum">         </span>            <span class="branchCov" title="Branch 13 was taken 9937 times"> + </span>]
<a name="4878"><span class="lineNum">    4878 </span>  [<span class="branchCov" title="Branch 0 was taken 21 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 21 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">         21 :                           || (rpo_avail &amp;&amp; vn_context_bb</span></a>
<a name="4879"><span class="lineNum">    4879 </span>        [<span class="branchCov" title="Branch 0 was taken 17 times"> + </span><span class="branchCov" title="Branch 1 was taken 4 times"> + </span>]:<span class="lineCov">         21 :                               &amp;&amp; rpo_avail-&gt;eliminate_avail (vn_context_bb,</span></a>
<a name="4880"><span class="lineNum">    4880 </span>                :<span class="lineCov">         21 :                                                              ops[0]))))</span></a>
<a name="4881"><span class="lineNum">    4881 </span>                :            :                     {</a>
<a name="4882"><span class="lineNum">    4882 </span>                :<span class="lineCov">         37 :                       unsigned lhs_prec = TYPE_PRECISION (type);</span></a>
<a name="4883"><span class="lineNum">    4883 </span>                :<span class="lineCov">         37 :                       unsigned rhs_prec = TYPE_PRECISION (TREE_TYPE (rhs1));</span></a>
<a name="4884"><span class="lineNum">    4884 </span>        [<span class="branchCov" title="Branch 0 was taken 14 times"> + </span><span class="branchCov" title="Branch 1 was taken 23 times"> + </span>]:<span class="lineCov">         37 :                       if (lhs_prec == rhs_prec</span></a>
<a name="4885"><span class="lineNum">    4885 </span>  [<span class="branchCov" title="Branch 0 was taken 14 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 14 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">         14 :                           || (INTEGRAL_TYPE_P (TREE_TYPE (rhs1))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 14 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span>]
<a name="4886"><span class="lineNum">    4886 </span>  [<span class="branchCov" title="Branch 0 was taken 14 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 14 times"> + </span> :<span class="lineCov">         14 :                               &amp;&amp; TYPE_OVERFLOW_UNDEFINED (TREE_TYPE (rhs1))))</span></a>
<span class="lineNum">         </span><span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchCov" title="Branch 6 was taken 14 times"> + </span><span class="branchNoCov" title="Branch 7 was not taken"> - </span><span class="branchCov" title="Branch 8 was taken 14 times"> + </span> 
<span class="lineNum">         </span>      <span class="branchNoCov" title="Branch 9 was not taken"> - </span><span class="branchCov" title="Branch 10 was taken 14 times"> + </span><span class="branchNoCov" title="Branch 11 was not taken"> - </span>]
<a name="4887"><span class="lineNum">    4887 </span>                :            :                         {</a>
<a name="4888"><span class="lineNum">    4888 </span>                :            :                           gimple_match_op match_op (gimple_match_cond::UNCOND,</a>
<a name="4889"><span class="lineNum">    4889 </span>                :<span class="lineCov">         37 :                                                     NOP_EXPR, type, ops[0]);</span></a>
<a name="4890"><span class="lineNum">    4890 </span>                :<span class="lineCov">         37 :                           result = vn_nary_build_or_lookup (&amp;match_op);</span></a>
<a name="4891"><span class="lineNum">    4891 </span>        [<span class="branchCov" title="Branch 0 was taken 37 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">         37 :                           if (result)</span></a>
<a name="4892"><span class="lineNum">    4892 </span>                :            :                             {</a>
<a name="4893"><span class="lineNum">    4893 </span>                :<span class="lineCov">         37 :                               bool changed = set_ssa_val_to (lhs, result);</span></a>
<a name="4894"><span class="lineNum">    4894 </span>                :<span class="lineCov">         37 :                               vn_nary_op_insert_stmt (stmt, result);</span></a>
<a name="4895"><span class="lineNum">    4895 </span>                :<span class="lineCov">         37 :                               return changed;</span></a>
<a name="4896"><span class="lineNum">    4896 </span>                :<span class="lineNoCov">          0 :                             }</span></a>
<a name="4897"><span class="lineNum">    4897 </span>                :            :                         }</a>
<a name="4898"><span class="lineNum">    4898 </span>                :            :                       else</a>
<a name="4899"><span class="lineNum">    4899 </span>                :            :                         {</a>
<a name="4900"><span class="lineNum">    4900 </span>                :            :                           tree mask = wide_int_to_tree</a>
<a name="4901"><span class="lineNum">    4901 </span>                :<span class="lineNoCov">          0 :                             (type, wi::mask (rhs_prec, false, lhs_prec));</span></a>
<a name="4902"><span class="lineNum">    4902 </span>                :            :                           gimple_match_op match_op (gimple_match_cond::UNCOND,</a>
<a name="4903"><span class="lineNum">    4903 </span>                :            :                                                     BIT_AND_EXPR,</a>
<a name="4904"><span class="lineNum">    4904 </span>                :            :                                                     TREE_TYPE (lhs),</a>
<a name="4905"><span class="lineNum">    4905 </span>                :<span class="lineNoCov">          0 :                                                     ops[0], mask);</span></a>
<a name="4906"><span class="lineNum">    4906 </span>                :<span class="lineNoCov">          0 :                           result = vn_nary_build_or_lookup (&amp;match_op);</span></a>
<a name="4907"><span class="lineNum">    4907 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                           if (result)</span></a>
<a name="4908"><span class="lineNum">    4908 </span>                :            :                             {</a>
<a name="4909"><span class="lineNum">    4909 </span>                :<span class="lineNoCov">          0 :                               bool changed = set_ssa_val_to (lhs, result);</span></a>
<a name="4910"><span class="lineNum">    4910 </span>                :<span class="lineNoCov">          0 :                               vn_nary_op_insert_stmt (stmt, result);</span></a>
<a name="4911"><span class="lineNum">    4911 </span>                :<span class="lineNoCov">          0 :                               return changed;</span></a>
<a name="4912"><span class="lineNum">    4912 </span>                :            :                             }</a>
<a name="4913"><span class="lineNum">    4913 </span>                :            :                         }</a>
<a name="4914"><span class="lineNum">    4914 </span>                :            :                     }</a>
<a name="4915"><span class="lineNum">    4915 </span>                :            :                 }</a>
<a name="4916"><span class="lineNum">    4916 </span>                :            :             }</a>
<a name="4917"><span class="lineNum">    4917 </span>                :            :         }</a>
<a name="4918"><span class="lineNum">    4918 </span>                :<span class="lineCov">     566437 :       break;</span></a>
<a name="4919"><span class="lineNum">    4919 </span>                :<span class="lineCov">     150502 :     case BIT_AND_EXPR:</span></a>
<a name="4920"><span class="lineNum">    4920 </span>  [<span class="branchCov" title="Branch 0 was taken 131269 times"> + </span><span class="branchCov" title="Branch 1 was taken 15814 times"> + </span><span class="branchCov" title="Branch 2 was taken 130113 times"> + </span><span class="branchCov" title="Branch 3 was taken 1156 times"> + </span>]:<span class="lineCov">     147083 :       if (INTEGRAL_TYPE_P (type)</span></a>
<a name="4921"><span class="lineNum">    4921 </span>        [<span class="branchCov" title="Branch 0 was taken 149346 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     149346 :           &amp;&amp; TREE_CODE (rhs1) == SSA_NAME</span></a>
<a name="4922"><span class="lineNum">    4922 </span>        [<span class="branchCov" title="Branch 0 was taken 112627 times"> + </span><span class="branchCov" title="Branch 1 was taken 36719 times"> + </span>]:<span class="lineCov">     149346 :           &amp;&amp; TREE_CODE (gimple_assign_rhs2 (stmt)) == INTEGER_CST</span></a>
<a name="4923"><span class="lineNum">    4923 </span>        [<span class="branchCov" title="Branch 0 was taken 112627 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     112627 :           &amp;&amp; !SSA_NAME_OCCURS_IN_ABNORMAL_PHI (rhs1)</span></a>
<a name="4924"><span class="lineNum">    4924 </span>        [<span class="branchCov" title="Branch 0 was taken 112627 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     112627 :           &amp;&amp; default_vn_walk_kind != VN_NOWALK</span></a>
<a name="4925"><span class="lineNum">    4925 </span>                :            :           &amp;&amp; CHAR_BIT == 8</a>
<a name="4926"><span class="lineNum">    4926 </span>                :            :           &amp;&amp; BITS_PER_UNIT == 8</a>
<a name="4927"><span class="lineNum">    4927 </span>                :            :           &amp;&amp; BYTES_BIG_ENDIAN == WORDS_BIG_ENDIAN</a>
<a name="4928"><span class="lineNum">    4928 </span>        [<span class="branchCov" title="Branch 0 was taken 112627 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     112627 :           &amp;&amp; !integer_all_onesp (gimple_assign_rhs2 (stmt))</span></a>
<a name="4929"><span class="lineNum">    4929 </span>  [<span class="branchCov" title="Branch 0 was taken 147083 times"> + </span><span class="branchCov" title="Branch 1 was taken 3419 times"> + </span><span class="branchCov" title="Branch 2 was taken 112627 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     301004 :           &amp;&amp; !integer_zerop (gimple_assign_rhs2 (stmt)))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 112627 times"> + </span><span class="branchCov" title="Branch 5 was taken 37875 times"> + </span>]
<a name="4930"><span class="lineNum">    4930 </span>                :            :         {</a>
<a name="4931"><span class="lineNum">    4931 </span>                :<span class="lineCov">     112627 :           gassign *ass = dyn_cast &lt;gassign *&gt; (SSA_NAME_DEF_STMT (rhs1));</span></a>
<a name="4932"><span class="lineNum">    4932 </span>                :<span class="lineCov">     112627 :           if (ass</span></a>
<a name="4933"><span class="lineNum">    4933 </span>        [<span class="branchCov" title="Branch 0 was taken 96545 times"> + </span><span class="branchCov" title="Branch 1 was taken 1977 times"> + </span>]:<span class="lineCov">      98522 :               &amp;&amp; !gimple_has_volatile_ops (ass)</span></a>
<a name="4934"><span class="lineNum">    4934 </span>  [<span class="branchCov" title="Branch 0 was taken 98522 times"> + </span><span class="branchCov" title="Branch 1 was taken 14105 times"> + </span><span class="branchCov" title="Branch 2 was taken 21035 times"> + </span><span class="branchCov" title="Branch 3 was taken 75510 times"> + </span> :<span class="lineCov">     211149 :               &amp;&amp; vn_get_stmt_kind (ass) == VN_REFERENCE)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 21035 times"> + </span><span class="branchCov" title="Branch 5 was taken 91592 times"> + </span>]
<a name="4935"><span class="lineNum">    4935 </span>                :            :             {</a>
<a name="4936"><span class="lineNum">    4936 </span>                :<span class="lineCov">      21035 :               tree last_vuse = gimple_vuse (ass);</span></a>
<a name="4937"><span class="lineNum">    4937 </span>                :<span class="lineCov">      21035 :               tree op = gimple_assign_rhs1 (ass);</span></a>
<a name="4938"><span class="lineNum">    4938 </span>                :<span class="lineCov">      21035 :               tree result = vn_reference_lookup (op, gimple_vuse (ass),</span></a>
<a name="4939"><span class="lineNum">    4939 </span>                :            :                                                  default_vn_walk_kind,</a>
<a name="4940"><span class="lineNum">    4940 </span>                :            :                                                  NULL, true, &amp;last_vuse,</a>
<a name="4941"><span class="lineNum">    4941 </span>                :            :                                                  gimple_assign_rhs2 (stmt));</a>
<a name="4942"><span class="lineNum">    4942 </span>                :<span class="lineCov">      21035 :               if (result</span></a>
<a name="4943"><span class="lineNum">    4943 </span>  [<span class="branchCov" title="Branch 0 was taken 39 times"> + </span><span class="branchCov" title="Branch 1 was taken 20996 times"> + </span><span class="branchCov" title="Branch 2 was taken 39 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">      21035 :                   &amp;&amp; useless_type_conversion_p (TREE_TYPE (result),</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 39 times"> + </span><span class="branchCov" title="Branch 5 was taken 20996 times"> + </span>]
<a name="4944"><span class="lineNum">    4944 </span>                :            :                                                 TREE_TYPE (op)))</a>
<a name="4945"><span class="lineNum">    4945 </span>                :<span class="lineCov">         39 :                 return set_ssa_val_to (lhs, result);</span></a>
<a name="4946"><span class="lineNum">    4946 </span>                :            :             }</a>
<a name="4947"><span class="lineNum">    4947 </span>                :            :         }</a>
<a name="4948"><span class="lineNum">    4948 </span>                :<span class="lineCov">     150463 :       break;</span></a>
<a name="4949"><span class="lineNum">    4949 </span>                :<span class="lineCov">      11099 :     case TRUNC_DIV_EXPR:</span></a>
<a name="4950"><span class="lineNum">    4950 </span>        [<span class="branchCov" title="Branch 0 was taken 6359 times"> + </span><span class="branchCov" title="Branch 1 was taken 4740 times"> + </span>]:<span class="lineCov">      11099 :       if (TYPE_UNSIGNED (type))</span></a>
<a name="4951"><span class="lineNum">    4951 </span>                :<span class="lineCov">       6359 :         break;</span></a>
<a name="4952"><span class="lineNum">    4952 </span>                :            :       /* Fallthru.  */</a>
<a name="4953"><span class="lineNum">    4953 </span>                :            :     case RDIV_EXPR:</a>
<a name="4954"><span class="lineNum">    4954 </span>                :            :     case MULT_EXPR:</a>
<a name="4955"><span class="lineNum">    4955 </span>                :            :       /* Match up ([-]a){/,*}([-])b with v=a{/,*}b, replacing it with -v.  */</a>
<a name="4956"><span class="lineNum">    4956 </span>        [<span class="branchCov" title="Branch 0 was taken 123047 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     123047 :       if (! HONOR_SIGN_DEPENDENT_ROUNDING (type))</span></a>
<a name="4957"><span class="lineNum">    4957 </span>                :            :         {</a>
<a name="4958"><span class="lineNum">    4958 </span>                :            :           tree rhs[2];</a>
<a name="4959"><span class="lineNum">    4959 </span>                :<span class="lineCov">     123047 :           rhs[0] = rhs1;</span></a>
<a name="4960"><span class="lineNum">    4960 </span>                :<span class="lineCov">     123047 :           rhs[1] = gimple_assign_rhs2 (stmt);</span></a>
<a name="4961"><span class="lineNum">    4961 </span>        [<span class="branchCov" title="Branch 0 was taken 245937 times"> + </span><span class="branchCov" title="Branch 1 was taken 122768 times"> + </span>]:<span class="lineCov">     368705 :           for (unsigned i = 0; i &lt;= 1; ++i)</span></a>
<a name="4962"><span class="lineNum">    4962 </span>                :            :             {</a>
<a name="4963"><span class="lineNum">    4963 </span>        [<span class="branchCov" title="Branch 0 was taken 123047 times"> + </span><span class="branchCov" title="Branch 1 was taken 122890 times"> + </span>]:<span class="lineCov">     245937 :               unsigned j = i == 0 ? 1 : 0;</span></a>
<a name="4964"><span class="lineNum">    4964 </span>                :            :               tree ops[2];</a>
<a name="4965"><span class="lineNum">    4965 </span>                :            :               gimple_match_op match_op (gimple_match_cond::UNCOND,</a>
<a name="4966"><span class="lineNum">    4966 </span>                :<span class="lineCov">     245937 :                                         NEGATE_EXPR, type, rhs[i]);</span></a>
<a name="4967"><span class="lineNum">    4967 </span>                :<span class="lineCov">     245937 :               ops[i] = vn_nary_build_or_lookup_1 (&amp;match_op, false);</span></a>
<a name="4968"><span class="lineNum">    4968 </span>                :<span class="lineCov">     245937 :               ops[j] = rhs[j];</span></a>
<a name="4969"><span class="lineNum">    4969 </span>                :<span class="lineCov">     491874 :               if (ops[i]</span></a>
<a name="4970"><span class="lineNum">    4970 </span>  [<span class="branchCov" title="Branch 0 was taken 82712 times"> + </span><span class="branchCov" title="Branch 1 was taken 163225 times"> + </span><span class="branchCov" title="Branch 2 was taken 279 times"> + </span><span class="branchCov" title="Branch 3 was taken 82433 times"> + </span> :<span class="lineCov">     245937 :                   &amp;&amp; (ops[0] = vn_nary_op_lookup_pieces (2, code,</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 279 times"> + </span><span class="branchCov" title="Branch 5 was taken 245658 times"> + </span>]
<a name="4971"><span class="lineNum">    4971 </span>                :            :                                                          type, ops, NULL)))</a>
<a name="4972"><span class="lineNum">    4972 </span>                :            :                 {</a>
<a name="4973"><span class="lineNum">    4973 </span>                :            :                   gimple_match_op match_op (gimple_match_cond::UNCOND,</a>
<a name="4974"><span class="lineNum">    4974 </span>                :<span class="lineCov">        279 :                                             NEGATE_EXPR, type, ops[0]);</span></a>
<a name="4975"><span class="lineNum">    4975 </span>                :<span class="lineCov">        279 :                   result = vn_nary_build_or_lookup (&amp;match_op);</span></a>
<a name="4976"><span class="lineNum">    4976 </span>        [<span class="branchCov" title="Branch 0 was taken 279 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">        279 :                   if (result)</span></a>
<a name="4977"><span class="lineNum">    4977 </span>                :            :                     {</a>
<a name="4978"><span class="lineNum">    4978 </span>                :<span class="lineCov">        279 :                       bool changed = set_ssa_val_to (lhs, result);</span></a>
<a name="4979"><span class="lineNum">    4979 </span>                :<span class="lineCov">        279 :                       vn_nary_op_insert_stmt (stmt, result);</span></a>
<a name="4980"><span class="lineNum">    4980 </span>                :<span class="lineCov">        279 :                       return changed;</span></a>
<a name="4981"><span class="lineNum">    4981 </span>                :            :                     }</a>
<a name="4982"><span class="lineNum">    4982 </span>                :            :                 }</a>
<a name="4983"><span class="lineNum">    4983 </span>                :            :             }</a>
<a name="4984"><span class="lineNum">    4984 </span>                :            :         }</a>
<a name="4985"><span class="lineNum">    4985 </span>                :<span class="lineCov">     122768 :       break;</span></a>
<a name="4986"><span class="lineNum">    4986 </span>                :<span class="lineCov">     964658 :     default:</span></a>
<a name="4987"><span class="lineNum">    4987 </span>                :<span class="lineCov">     964658 :       break;</span></a>
<a name="4988"><span class="lineNum">    4988 </span>                :            :     }</a>
<a name="4989"><span class="lineNum">    4989 </span>                :            : </a>
<a name="4990"><span class="lineNum">    4990 </span>                :<span class="lineCov">    1810680 :   bool changed = set_ssa_val_to (lhs, lhs);</span></a>
<a name="4991"><span class="lineNum">    4991 </span>                :<span class="lineCov">    1810680 :   vn_nary_op_insert_stmt (stmt, lhs);</span></a>
<a name="4992"><span class="lineNum">    4992 </span>                :<span class="lineCov">    1810680 :   return changed;</span></a>
<a name="4993"><span class="lineNum">    4993 </span>                :            : }</a>
<a name="4994"><span class="lineNum">    4994 </span>                :            : </a>
<a name="4995"><span class="lineNum">    4995 </span>                :            : /* Visit a call STMT storing into LHS.  Return true if the value number</a>
<a name="4996"><span class="lineNum">    4996 </span>                :            :    of the LHS has changed as a result.  */</a>
<a name="4997"><span class="lineNum">    4997 </span>                :            : </a>
<a name="4998"><span class="lineNum">    4998 </span>                :            : static bool</a>
<a name="4999"><span class="lineNum">    4999 </span>                :<span class="lineCov">     265893 : visit_reference_op_call (tree lhs, gcall *stmt)</span></a>
<a name="5000"><span class="lineNum">    5000 </span>                :            : {</a>
<a name="5001"><span class="lineNum">    5001 </span>                :<span class="lineCov">     265893 :   bool changed = false;</span></a>
<a name="5002"><span class="lineNum">    5002 </span>                :            :   struct vn_reference_s vr1;</a>
<a name="5003"><span class="lineNum">    5003 </span>                :<span class="lineCov">     265893 :   vn_reference_t vnresult = NULL;</span></a>
<a name="5004"><span class="lineNum">    5004 </span>                :<span class="lineCov">     265893 :   tree vdef = gimple_vdef (stmt);</span></a>
<a name="5005"><span class="lineNum">    5005 </span>                :            : </a>
<a name="5006"><span class="lineNum">    5006 </span>                :            :   /* Non-ssa lhs is handled in copy_reference_ops_from_call.  */</a>
<a name="5007"><span class="lineNum">    5007 </span>  [<span class="branchCov" title="Branch 0 was taken 124526 times"> + </span><span class="branchCov" title="Branch 1 was taken 141367 times"> + </span><span class="branchCov" title="Branch 2 was taken 1976 times"> + </span><span class="branchCov" title="Branch 3 was taken 122550 times"> + </span>]:<span class="lineCov">     265893 :   if (lhs &amp;&amp; TREE_CODE (lhs) != SSA_NAME)</span></a>
<a name="5008"><span class="lineNum">    5008 </span>                :<span class="lineCov">       1976 :     lhs = NULL_TREE;</span></a>
<a name="5009"><span class="lineNum">    5009 </span>                :            : </a>
<a name="5010"><span class="lineNum">    5010 </span>                :<span class="lineCov">     265893 :   vn_reference_lookup_call (stmt, &amp;vnresult, &amp;vr1);</span></a>
<a name="5011"><span class="lineNum">    5011 </span>        [<span class="branchCov" title="Branch 0 was taken 18042 times"> + </span><span class="branchCov" title="Branch 1 was taken 247851 times"> + </span>]:<span class="lineCov">     265893 :   if (vnresult)</span></a>
<a name="5012"><span class="lineNum">    5012 </span>                :            :     {</a>
<a name="5013"><span class="lineNum">    5013 </span>  [<span class="branchCov" title="Branch 0 was taken 4442 times"> + </span><span class="branchCov" title="Branch 1 was taken 13600 times"> + </span><span class="branchCov" title="Branch 2 was taken 4442 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">      18042 :       if (vnresult-&gt;result_vdef &amp;&amp; vdef)</span></a>
<a name="5014"><span class="lineNum">    5014 </span>                :<span class="lineCov">       4442 :         changed |= set_ssa_val_to (vdef, vnresult-&gt;result_vdef);</span></a>
<a name="5015"><span class="lineNum">    5015 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 13600 times"> + </span>]:<span class="lineCov">      13600 :       else if (vdef)</span></a>
<a name="5016"><span class="lineNum">    5016 </span>                :            :         /* If the call was discovered to be pure or const reflect</a>
<a name="5017"><span class="lineNum">    5017 </span>                :            :            that as far as possible.  */</a>
<a name="5018"><span class="lineNum">    5018 </span>                :<span class="lineNoCov">          0 :         changed |= set_ssa_val_to (vdef, vuse_ssa_val (gimple_vuse (stmt)));</span></a>
<a name="5019"><span class="lineNum">    5019 </span>                :            : </a>
<a name="5020"><span class="lineNum">    5020 </span>  [<span class="branchCov" title="Branch 0 was taken 13650 times"> + </span><span class="branchCov" title="Branch 1 was taken 4392 times"> + </span><span class="branchCov" title="Branch 2 was taken 18 times"> + </span><span class="branchCov" title="Branch 3 was taken 13632 times"> + </span>]:<span class="lineCov">      18042 :       if (!vnresult-&gt;result &amp;&amp; lhs)</span></a>
<a name="5021"><span class="lineNum">    5021 </span>                :<span class="lineCov">         18 :         vnresult-&gt;result = lhs;</span></a>
<a name="5022"><span class="lineNum">    5022 </span>                :            : </a>
<a name="5023"><span class="lineNum">    5023 </span>  [<span class="branchCov" title="Branch 0 was taken 4410 times"> + </span><span class="branchCov" title="Branch 1 was taken 13632 times"> + </span><span class="branchCov" title="Branch 2 was taken 4377 times"> + </span><span class="branchCov" title="Branch 3 was taken 33 times"> + </span>]:<span class="lineCov">      18042 :       if (vnresult-&gt;result &amp;&amp; lhs)</span></a>
<a name="5024"><span class="lineNum">    5024 </span>                :<span class="lineCov">       4377 :         changed |= set_ssa_val_to (lhs, vnresult-&gt;result);</span></a>
<a name="5025"><span class="lineNum">    5025 </span>                :            :     }</a>
<a name="5026"><span class="lineNum">    5026 </span>                :            :   else</a>
<a name="5027"><span class="lineNum">    5027 </span>                :            :     {</a>
<a name="5028"><span class="lineNum">    5028 </span>                :            :       vn_reference_t vr2;</a>
<a name="5029"><span class="lineNum">    5029 </span>                :            :       vn_reference_s **slot;</a>
<a name="5030"><span class="lineNum">    5030 </span>                :<span class="lineCov">     247851 :       tree vdef_val = vdef;</span></a>
<a name="5031"><span class="lineNum">    5031 </span>        [<span class="branchCov" title="Branch 0 was taken 166845 times"> + </span><span class="branchCov" title="Branch 1 was taken 81006 times"> + </span>]:<span class="lineCov">     247851 :       if (vdef)</span></a>
<a name="5032"><span class="lineNum">    5032 </span>                :            :         {</a>
<a name="5033"><span class="lineNum">    5033 </span>                :            :           /* If we value numbered an indirect functions function to</a>
<a name="5034"><span class="lineNum">    5034 </span>                :            :              one not clobbering memory value number its VDEF to its</a>
<a name="5035"><span class="lineNum">    5035 </span>                :            :              VUSE.  */</a>
<a name="5036"><span class="lineNum">    5036 </span>                :<span class="lineCov">     166845 :           tree fn = gimple_call_fn (stmt);</span></a>
<a name="5037"><span class="lineNum">    5037 </span>  [<span class="branchCov" title="Branch 0 was taken 166845 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 6589 times"> + </span><span class="branchCov" title="Branch 3 was taken 160256 times"> + </span>]:<span class="lineCov">     166845 :           if (fn &amp;&amp; TREE_CODE (fn) == SSA_NAME)</span></a>
<a name="5038"><span class="lineNum">    5038 </span>                :            :             {</a>
<a name="5039"><span class="lineNum">    5039 </span>                :<span class="lineCov">       6589 :               fn = SSA_VAL (fn);</span></a>
<a name="5040"><span class="lineNum">    5040 </span>                :<span class="lineCov">      13178 :               if (TREE_CODE (fn) == ADDR_EXPR</span></a>
<a name="5041"><span class="lineNum">    5041 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                   &amp;&amp; TREE_CODE (TREE_OPERAND (fn, 0)) == FUNCTION_DECL</span></a>
<a name="5042"><span class="lineNum">    5042 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 6589 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 6589 times"> + </span>]:<span class="lineCov">       6589 :                   &amp;&amp; (flags_from_decl_or_type (TREE_OPERAND (fn, 0))</span></a>
<a name="5043"><span class="lineNum">    5043 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                       &amp; (ECF_CONST | ECF_PURE)))</span></a>
<a name="5044"><span class="lineNum">    5044 </span>                :<span class="lineNoCov">          0 :                 vdef_val = vuse_ssa_val (gimple_vuse (stmt));</span></a>
<a name="5045"><span class="lineNum">    5045 </span>                :            :             }</a>
<a name="5046"><span class="lineNum">    5046 </span>                :<span class="lineCov">     166845 :           changed |= set_ssa_val_to (vdef, vdef_val);</span></a>
<a name="5047"><span class="lineNum">    5047 </span>                :            :         }</a>
<a name="5048"><span class="lineNum">    5048 </span>        [<span class="branchCov" title="Branch 0 was taken 118173 times"> + </span><span class="branchCov" title="Branch 1 was taken 129678 times"> + </span>]:<span class="lineCov">     247851 :       if (lhs)</span></a>
<a name="5049"><span class="lineNum">    5049 </span>                :<span class="lineCov">     118173 :         changed |= set_ssa_val_to (lhs, lhs);</span></a>
<a name="5050"><span class="lineNum">    5050 </span>  [<span class="branchCov" title="Branch 0 was taken 43 times"> + </span><span class="branchCov" title="Branch 1 was taken 247808 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 247851 times"> + </span> :<span class="lineCov">     247851 :       vr2 = XOBNEW (&amp;vn_tables_obstack, vn_reference_s);</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 247851 times"> + </span>]
<a name="5051"><span class="lineNum">    5051 </span>                :<span class="lineCov">     247851 :       vr2-&gt;vuse = vr1.vuse;</span></a>
<a name="5052"><span class="lineNum">    5052 </span>                :            :       /* As we are not walking the virtual operand chain we know the</a>
<a name="5053"><span class="lineNum">    5053 </span>                :            :          shared_lookup_references are still original so we can re-use</a>
<a name="5054"><span class="lineNum">    5054 </span>                :            :          them here.  */</a>
<a name="5055"><span class="lineNum">    5055 </span>                :<span class="lineCov">     247851 :       vr2-&gt;operands = vr1.operands.copy ();</span></a>
<a name="5056"><span class="lineNum">    5056 </span>                :<span class="lineCov">     247853 :       vr2-&gt;type = vr1.type;</span></a>
<a name="5057"><span class="lineNum">    5057 </span>                :<span class="lineCov">     247853 :       vr2-&gt;punned = vr1.punned;</span></a>
<a name="5058"><span class="lineNum">    5058 </span>                :<span class="lineCov">     247853 :       vr2-&gt;set = vr1.set;</span></a>
<a name="5059"><span class="lineNum">    5059 </span>                :<span class="lineCov">     247853 :       vr2-&gt;base_set = vr1.base_set;</span></a>
<a name="5060"><span class="lineNum">    5060 </span>                :<span class="lineCov">     247853 :       vr2-&gt;hashcode = vr1.hashcode;</span></a>
<a name="5061"><span class="lineNum">    5061 </span>                :<span class="lineCov">     247853 :       vr2-&gt;result = lhs;</span></a>
<a name="5062"><span class="lineNum">    5062 </span>                :<span class="lineCov">     247853 :       vr2-&gt;result_vdef = vdef_val;</span></a>
<a name="5063"><span class="lineNum">    5063 </span>                :<span class="lineCov">     247853 :       vr2-&gt;value_id = 0;</span></a>
<a name="5064"><span class="lineNum">    5064 </span>                :<span class="lineCov">     247853 :       slot = valid_info-&gt;references-&gt;find_slot_with_hash (vr2, vr2-&gt;hashcode,</span></a>
<a name="5065"><span class="lineNum">    5065 </span>                :            :                                                           INSERT);</a>
<a name="5066"><span class="lineNum">    5066 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 247853 times"> + </span>]:<span class="lineCov">     247853 :       gcc_assert (!*slot);</span></a>
<a name="5067"><span class="lineNum">    5067 </span>                :<span class="lineCov">     247853 :       *slot = vr2;</span></a>
<a name="5068"><span class="lineNum">    5068 </span>                :<span class="lineCov">     247853 :       vr2-&gt;next = last_inserted_ref;</span></a>
<a name="5069"><span class="lineNum">    5069 </span>                :<span class="lineCov">     247853 :       last_inserted_ref = vr2;</span></a>
<a name="5070"><span class="lineNum">    5070 </span>                :            :     }</a>
<a name="5071"><span class="lineNum">    5071 </span>                :            : </a>
<a name="5072"><span class="lineNum">    5072 </span>                :<span class="lineCov">     265895 :   return changed;</span></a>
<a name="5073"><span class="lineNum">    5073 </span>                :            : }</a>
<a name="5074"><span class="lineNum">    5074 </span>                :            : </a>
<a name="5075"><span class="lineNum">    5075 </span>                :            : /* Visit a load from a reference operator RHS, part of STMT, value number it,</a>
<a name="5076"><span class="lineNum">    5076 </span>                :            :    and return true if the value number of the LHS has changed as a result.  */</a>
<a name="5077"><span class="lineNum">    5077 </span>                :            : </a>
<a name="5078"><span class="lineNum">    5078 </span>                :            : static bool</a>
<a name="5079"><span class="lineNum">    5079 </span>                :<span class="lineCov">    1255340 : visit_reference_op_load (tree lhs, tree op, gimple *stmt)</span></a>
<a name="5080"><span class="lineNum">    5080 </span>                :            : {</a>
<a name="5081"><span class="lineNum">    5081 </span>                :<span class="lineCov">    1255340 :   bool changed = false;</span></a>
<a name="5082"><span class="lineNum">    5082 </span>                :            :   tree last_vuse;</a>
<a name="5083"><span class="lineNum">    5083 </span>                :            :   tree result;</a>
<a name="5084"><span class="lineNum">    5084 </span>                :            :   vn_reference_t res;</a>
<a name="5085"><span class="lineNum">    5085 </span>                :            : </a>
<a name="5086"><span class="lineNum">    5086 </span>                :<span class="lineCov">    1255340 :   last_vuse = gimple_vuse (stmt);</span></a>
<a name="5087"><span class="lineNum">    5087 </span>                :<span class="lineCov">    1255340 :   result = vn_reference_lookup (op, gimple_vuse (stmt),</span></a>
<a name="5088"><span class="lineNum">    5088 </span>                :            :                                 default_vn_walk_kind, &amp;res, true, &amp;last_vuse);</a>
<a name="5089"><span class="lineNum">    5089 </span>                :            : </a>
<a name="5090"><span class="lineNum">    5090 </span>                :            :   /* We handle type-punning through unions by value-numbering based</a>
<a name="5091"><span class="lineNum">    5091 </span>                :            :      on offset and size of the access.  Be prepared to handle a</a>
<a name="5092"><span class="lineNum">    5092 </span>                :            :      type-mismatch here via creating a VIEW_CONVERT_EXPR.  */</a>
<a name="5093"><span class="lineNum">    5093 </span>                :<span class="lineCov">    1255340 :   if (result</span></a>
<a name="5094"><span class="lineNum">    5094 </span>  [<span class="branchCov" title="Branch 0 was taken 443965 times"> + </span><span class="branchCov" title="Branch 1 was taken 811378 times"> + </span><span class="branchCov" title="Branch 2 was taken 498 times"> + </span><span class="branchCov" title="Branch 3 was taken 443467 times"> + </span> :<span class="lineCov">    1255340 :       &amp;&amp; !useless_type_conversion_p (TREE_TYPE (result), TREE_TYPE (op)))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 498 times"> + </span><span class="branchCov" title="Branch 5 was taken 1254840 times"> + </span>]
<a name="5095"><span class="lineNum">    5095 </span>                :            :     {</a>
<a name="5096"><span class="lineNum">    5096 </span>                :            :       /* Avoid the type punning in case the result mode has padding where</a>
<a name="5097"><span class="lineNum">    5097 </span>                :            :          the op we lookup has not.  */</a>
<a name="5098"><span class="lineNum">    5098 </span>                :<span class="lineCov">        996 :       if (maybe_lt (GET_MODE_PRECISION (TYPE_MODE (TREE_TYPE (result))),</span></a>
<a name="5099"><span class="lineNum">    5099 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 498 times"> + </span><span class="branchCov" title="Branch 2 was taken 21 times"> + </span><span class="branchCov" title="Branch 3 was taken 477 times"> + </span> :<span class="lineCov">       1494 :                     GET_MODE_PRECISION (TYPE_MODE (TREE_TYPE (op)))))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 60 times"> + </span><span class="branchCov" title="Branch 5 was taken 438 times"> + </span>]
<a name="5100"><span class="lineNum">    5100 </span>                :<span class="lineCov">         60 :         result = NULL_TREE;</span></a>
<a name="5101"><span class="lineNum">    5101 </span>                :            :       else</a>
<a name="5102"><span class="lineNum">    5102 </span>                :            :         {</a>
<a name="5103"><span class="lineNum">    5103 </span>                :            :           /* We will be setting the value number of lhs to the value number</a>
<a name="5104"><span class="lineNum">    5104 </span>                :            :              of VIEW_CONVERT_EXPR &lt;TREE_TYPE (result)&gt; (result).</a>
<a name="5105"><span class="lineNum">    5105 </span>                :            :              So first simplify and lookup this expression to see if it</a>
<a name="5106"><span class="lineNum">    5106 </span>                :            :              is already available.  */</a>
<a name="5107"><span class="lineNum">    5107 </span>                :            :           gimple_match_op res_op (gimple_match_cond::UNCOND,</a>
<a name="5108"><span class="lineNum">    5108 </span>                :<span class="lineCov">        438 :                                   VIEW_CONVERT_EXPR, TREE_TYPE (op), result);</span></a>
<a name="5109"><span class="lineNum">    5109 </span>                :<span class="lineCov">        438 :           result = vn_nary_build_or_lookup (&amp;res_op);</span></a>
<a name="5110"><span class="lineNum">    5110 </span>                :<span class="lineCov">        438 :           if (result</span></a>
<a name="5111"><span class="lineNum">    5111 </span>        [<span class="branchCov" title="Branch 0 was taken 423 times"> + </span><span class="branchCov" title="Branch 1 was taken 15 times"> + </span>]:<span class="lineCov">        438 :               &amp;&amp; TREE_CODE (result) == SSA_NAME</span></a>
<a name="5112"><span class="lineNum">    5112 </span>  [<span class="branchCov" title="Branch 0 was taken 438 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 357 times"> + </span><span class="branchCov" title="Branch 3 was taken 66 times"> + </span> :<span class="lineCov">        876 :               &amp;&amp; VN_INFO (result)-&gt;needs_insertion)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 357 times"> + </span><span class="branchCov" title="Branch 5 was taken 81 times"> + </span>]
<a name="5113"><span class="lineNum">    5113 </span>                :            :             /* Track whether this is the canonical expression for different</a>
<a name="5114"><span class="lineNum">    5114 </span>                :            :                typed loads.  We use that as a stopgap measure for code</a>
<a name="5115"><span class="lineNum">    5115 </span>                :            :                hoisting when dealing with floating point loads.  */</a>
<a name="5116"><span class="lineNum">    5116 </span>                :<span class="lineCov">        357 :             res-&gt;punned = true;</span></a>
<a name="5117"><span class="lineNum">    5117 </span>                :            :         }</a>
<a name="5118"><span class="lineNum">    5118 </span>                :            : </a>
<a name="5119"><span class="lineNum">    5119 </span>                :            :       /* When building the conversion fails avoid inserting the reference</a>
<a name="5120"><span class="lineNum">    5120 </span>                :            :          again.  */</a>
<a name="5121"><span class="lineNum">    5121 </span>        [<span class="branchCov" title="Branch 0 was taken 60 times"> + </span><span class="branchCov" title="Branch 1 was taken 438 times"> + </span>]:<span class="lineCov">        498 :       if (!result)</span></a>
<a name="5122"><span class="lineNum">    5122 </span>                :<span class="lineCov">         60 :         return set_ssa_val_to (lhs, lhs);</span></a>
<a name="5123"><span class="lineNum">    5123 </span>                :            :     }</a>
<a name="5124"><span class="lineNum">    5124 </span>                :            : </a>
<a name="5125"><span class="lineNum">    5125 </span>        [<span class="branchCov" title="Branch 0 was taken 443905 times"> + </span><span class="branchCov" title="Branch 1 was taken 811378 times"> + </span>]:<span class="lineCov">    1255280 :   if (result)</span></a>
<a name="5126"><span class="lineNum">    5126 </span>                :<span class="lineCov">     443905 :     changed = set_ssa_val_to (lhs, result);</span></a>
<a name="5127"><span class="lineNum">    5127 </span>                :            :   else</a>
<a name="5128"><span class="lineNum">    5128 </span>                :            :     {</a>
<a name="5129"><span class="lineNum">    5129 </span>                :<span class="lineCov">     811378 :       changed = set_ssa_val_to (lhs, lhs);</span></a>
<a name="5130"><span class="lineNum">    5130 </span>                :<span class="lineCov">     811378 :       vn_reference_insert (op, lhs, last_vuse, NULL_TREE);</span></a>
<a name="5131"><span class="lineNum">    5131 </span>                :            :     }</a>
<a name="5132"><span class="lineNum">    5132 </span>                :            : </a>
<a name="5133"><span class="lineNum">    5133 </span>                :<span class="lineCov">    1255280 :   return changed;</span></a>
<a name="5134"><span class="lineNum">    5134 </span>                :            : }</a>
<a name="5135"><span class="lineNum">    5135 </span>                :            : </a>
<a name="5136"><span class="lineNum">    5136 </span>                :            : </a>
<a name="5137"><span class="lineNum">    5137 </span>                :            : /* Visit a store to a reference operator LHS, part of STMT, value number it,</a>
<a name="5138"><span class="lineNum">    5138 </span>                :            :    and return true if the value number of the LHS has changed as a result.  */</a>
<a name="5139"><span class="lineNum">    5139 </span>                :            : </a>
<a name="5140"><span class="lineNum">    5140 </span>                :            : static bool</a>
<a name="5141"><span class="lineNum">    5141 </span>                :<span class="lineCov">     638440 : visit_reference_op_store (tree lhs, tree op, gimple *stmt)</span></a>
<a name="5142"><span class="lineNum">    5142 </span>                :            : {</a>
<a name="5143"><span class="lineNum">    5143 </span>                :<span class="lineCov">     638440 :   bool changed = false;</span></a>
<a name="5144"><span class="lineNum">    5144 </span>                :<span class="lineCov">     638440 :   vn_reference_t vnresult = NULL;</span></a>
<a name="5145"><span class="lineNum">    5145 </span>                :            :   tree assign;</a>
<a name="5146"><span class="lineNum">    5146 </span>                :<span class="lineCov">     638440 :   bool resultsame = false;</span></a>
<a name="5147"><span class="lineNum">    5147 </span>                :<span class="lineCov">     638440 :   tree vuse = gimple_vuse (stmt);</span></a>
<a name="5148"><span class="lineNum">    5148 </span>                :<span class="lineCov">     638440 :   tree vdef = gimple_vdef (stmt);</span></a>
<a name="5149"><span class="lineNum">    5149 </span>                :            : </a>
<a name="5150"><span class="lineNum">    5150 </span>        [<span class="branchCov" title="Branch 0 was taken 353206 times"> + </span><span class="branchCov" title="Branch 1 was taken 285234 times"> + </span>]:<span class="lineCov">     638440 :   if (TREE_CODE (op) == SSA_NAME)</span></a>
<a name="5151"><span class="lineNum">    5151 </span>                :<span class="lineCov">     353206 :     op = SSA_VAL (op);</span></a>
<a name="5152"><span class="lineNum">    5152 </span>                :            : </a>
<a name="5153"><span class="lineNum">    5153 </span>                :            :   /* First we want to lookup using the *vuses* from the store and see</a>
<a name="5154"><span class="lineNum">    5154 </span>                :            :      if there the last store to this location with the same address</a>
<a name="5155"><span class="lineNum">    5155 </span>                :            :      had the same value.</a>
<a name="5156"><span class="lineNum">    5156 </span>                :            : </a>
<a name="5157"><span class="lineNum">    5157 </span>                :            :      The vuses represent the memory state before the store.  If the</a>
<a name="5158"><span class="lineNum">    5158 </span>                :            :      memory state, address, and value of the store is the same as the</a>
<a name="5159"><span class="lineNum">    5159 </span>                :            :      last store to this location, then this store will produce the</a>
<a name="5160"><span class="lineNum">    5160 </span>                :            :      same memory state as that store.</a>
<a name="5161"><span class="lineNum">    5161 </span>                :            : </a>
<a name="5162"><span class="lineNum">    5162 </span>                :            :      In this case the vdef versions for this store are value numbered to those</a>
<a name="5163"><span class="lineNum">    5163 </span>                :            :      vuse versions, since they represent the same memory state after</a>
<a name="5164"><span class="lineNum">    5164 </span>                :            :      this store.</a>
<a name="5165"><span class="lineNum">    5165 </span>                :            : </a>
<a name="5166"><span class="lineNum">    5166 </span>                :            :      Otherwise, the vdefs for the store are used when inserting into</a>
<a name="5167"><span class="lineNum">    5167 </span>                :            :      the table, since the store generates a new memory state.  */</a>
<a name="5168"><span class="lineNum">    5168 </span>                :            : </a>
<a name="5169"><span class="lineNum">    5169 </span>                :<span class="lineCov">     638440 :   vn_reference_lookup (lhs, vuse, VN_NOWALK, &amp;vnresult, false);</span></a>
<a name="5170"><span class="lineNum">    5170 </span>                :<span class="lineCov">     638440 :   if (vnresult</span></a>
<a name="5171"><span class="lineNum">    5171 </span>  [<span class="branchCov" title="Branch 0 was taken 75771 times"> + </span><span class="branchCov" title="Branch 1 was taken 562669 times"> + </span><span class="branchCov" title="Branch 2 was taken 75771 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">     638440 :       &amp;&amp; vnresult-&gt;result)</span></a>
<a name="5172"><span class="lineNum">    5172 </span>                :            :     {</a>
<a name="5173"><span class="lineNum">    5173 </span>                :<span class="lineCov">      75771 :       tree result = vnresult-&gt;result;</span></a>
<a name="5174"><span class="lineNum">    5174 </span>                :            :       gcc_checking_assert (TREE_CODE (result) != SSA_NAME</a>
<a name="5175"><span class="lineNum">    5175 </span>                :            :                            || result == SSA_VAL (result));</a>
<a name="5176"><span class="lineNum">    5176 </span>                :<span class="lineCov">      75771 :       resultsame = expressions_equal_p (result, op);</span></a>
<a name="5177"><span class="lineNum">    5177 </span>        [<span class="branchCov" title="Branch 0 was taken 1032 times"> + </span><span class="branchCov" title="Branch 1 was taken 74739 times"> + </span>]:<span class="lineCov">      75771 :       if (resultsame)</span></a>
<a name="5178"><span class="lineNum">    5178 </span>                :            :         {</a>
<a name="5179"><span class="lineNum">    5179 </span>                :            :           /* If the TBAA state isn't compatible for downstream reads</a>
<a name="5180"><span class="lineNum">    5180 </span>                :            :              we cannot value-number the VDEFs the same.  */</a>
<a name="5181"><span class="lineNum">    5181 </span>                :<span class="lineCov">       1032 :           ao_ref lhs_ref;</span></a>
<a name="5182"><span class="lineNum">    5182 </span>                :<span class="lineCov">       1032 :           ao_ref_init (&amp;lhs_ref, lhs);</span></a>
<a name="5183"><span class="lineNum">    5183 </span>                :<span class="lineCov">       1032 :           alias_set_type set = ao_ref_alias_set (&amp;lhs_ref);</span></a>
<a name="5184"><span class="lineNum">    5184 </span>                :<span class="lineCov">       1032 :           alias_set_type base_set = ao_ref_base_alias_set (&amp;lhs_ref);</span></a>
<a name="5185"><span class="lineNum">    5185 </span>                :<span class="lineCov">       2064 :           if ((vnresult-&gt;set != set</span></a>
<a name="5186"><span class="lineNum">    5186 </span>        [<span class="branchCov" title="Branch 0 was taken 8 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">          8 :                &amp;&amp; ! alias_set_subset_of (set, vnresult-&gt;set))</span></a>
<a name="5187"><span class="lineNum">    5187 </span>  [<span class="branchCov" title="Branch 0 was taken 8 times"> + </span><span class="branchCov" title="Branch 1 was taken 1024 times"> + </span><span class="branchCov" title="Branch 2 was taken 5 times"> + </span><span class="branchCov" title="Branch 3 was taken 1027 times"> + </span> :<span class="lineCov">       1045 :               || (vnresult-&gt;base_set != base_set</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 4 times"> + </span><span class="branchCov" title="Branch 5 was taken 1028 times"> + </span>]
<a name="5188"><span class="lineNum">    5188 </span>        [<span class="branchCov" title="Branch 0 was taken 4 times"> + </span><span class="branchCov" title="Branch 1 was taken 1 time"> + </span>]:<span class="lineCov">          5 :                   &amp;&amp; ! alias_set_subset_of (base_set, vnresult-&gt;base_set)))</span></a>
<a name="5189"><span class="lineNum">    5189 </span>                :<span class="lineCov">          4 :             resultsame = false;</span></a>
<a name="5190"><span class="lineNum">    5190 </span>                :            :         }</a>
<a name="5191"><span class="lineNum">    5191 </span>                :            :     }</a>
<a name="5192"><span class="lineNum">    5192 </span>                :            : </a>
<a name="5193"><span class="lineNum">    5193 </span>        [<span class="branchCov" title="Branch 0 was taken 637412 times"> + </span><span class="branchCov" title="Branch 1 was taken 1028 times"> + </span>]:<span class="lineCov">     638440 :   if (!resultsame)</span></a>
<a name="5194"><span class="lineNum">    5194 </span>                :            :     {</a>
<a name="5195"><span class="lineNum">    5195 </span>                :            :       /* Only perform the following when being called from PRE</a>
<a name="5196"><span class="lineNum">    5196 </span>                :            :          which embeds tail merging.  */</a>
<a name="5197"><span class="lineNum">    5197 </span>        [<span class="branchCov" title="Branch 0 was taken 155755 times"> + </span><span class="branchCov" title="Branch 1 was taken 481657 times"> + </span>]:<span class="lineCov">     637412 :       if (default_vn_walk_kind == VN_WALK)</span></a>
<a name="5198"><span class="lineNum">    5198 </span>                :            :         {</a>
<a name="5199"><span class="lineNum">    5199 </span>                :<span class="lineCov">     155755 :           assign = build2 (MODIFY_EXPR, TREE_TYPE (lhs), lhs, op);</span></a>
<a name="5200"><span class="lineNum">    5200 </span>                :<span class="lineCov">     155755 :           vn_reference_lookup (assign, vuse, VN_NOWALK, &amp;vnresult, false);</span></a>
<a name="5201"><span class="lineNum">    5201 </span>        [<span class="branchCov" title="Branch 0 was taken 3116 times"> + </span><span class="branchCov" title="Branch 1 was taken 152639 times"> + </span>]:<span class="lineCov">     155755 :           if (vnresult)</span></a>
<a name="5202"><span class="lineNum">    5202 </span>                :            :             {</a>
<a name="5203"><span class="lineNum">    5203 </span>                :<span class="lineCov">       3116 :               VN_INFO (vdef)-&gt;visited = true;</span></a>
<a name="5204"><span class="lineNum">    5204 </span>                :<span class="lineCov">       3116 :               return set_ssa_val_to (vdef, vnresult-&gt;result_vdef);</span></a>
<a name="5205"><span class="lineNum">    5205 </span>                :            :             }</a>
<a name="5206"><span class="lineNum">    5206 </span>                :            :         }</a>
<a name="5207"><span class="lineNum">    5207 </span>                :            : </a>
<a name="5208"><span class="lineNum">    5208 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 634296 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     634296 :       if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 634296 times"> + </span>]
<a name="5209"><span class="lineNum">    5209 </span>                :            :         {</a>
<a name="5210"><span class="lineNum">    5210 </span>                :<span class="lineNoCov">          0 :           fprintf (dump_file, &quot;No store match\n&quot;);</span></a>
<a name="5211"><span class="lineNum">    5211 </span>                :<span class="lineNoCov">          0 :           fprintf (dump_file, &quot;Value numbering store &quot;);</span></a>
<a name="5212"><span class="lineNum">    5212 </span>                :<span class="lineNoCov">          0 :           print_generic_expr (dump_file, lhs);</span></a>
<a name="5213"><span class="lineNum">    5213 </span>                :<span class="lineNoCov">          0 :           fprintf (dump_file, &quot; to &quot;);</span></a>
<a name="5214"><span class="lineNum">    5214 </span>                :<span class="lineNoCov">          0 :           print_generic_expr (dump_file, op);</span></a>
<a name="5215"><span class="lineNum">    5215 </span>                :<span class="lineNoCov">          0 :           fprintf (dump_file, &quot;\n&quot;);</span></a>
<a name="5216"><span class="lineNum">    5216 </span>                :            :         }</a>
<a name="5217"><span class="lineNum">    5217 </span>                :            :       /* Have to set value numbers before insert, since insert is</a>
<a name="5218"><span class="lineNum">    5218 </span>                :            :          going to valueize the references in-place.  */</a>
<a name="5219"><span class="lineNum">    5219 </span>        [<span class="branchCov" title="Branch 0 was taken 634296 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     634296 :       if (vdef)</span></a>
<a name="5220"><span class="lineNum">    5220 </span>                :<span class="lineCov">     634296 :         changed |= set_ssa_val_to (vdef, vdef);</span></a>
<a name="5221"><span class="lineNum">    5221 </span>                :            : </a>
<a name="5222"><span class="lineNum">    5222 </span>                :            :       /* Do not insert structure copies into the tables.  */</a>
<a name="5223"><span class="lineNum">    5223 </span>                :<span class="lineCov">     634296 :       if (is_gimple_min_invariant (op)</span></a>
<a name="5224"><span class="lineNum">    5224 </span>  [<span class="branchCov" title="Branch 0 was taken 368178 times"> + </span><span class="branchCov" title="Branch 1 was taken 266118 times"> + </span><span class="branchCov" title="Branch 2 was taken 342384 times"> + </span><span class="branchCov" title="Branch 3 was taken 25794 times"> + </span> :<span class="lineCov">     634296 :           || is_gimple_reg (op))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 608502 times"> + </span><span class="branchCov" title="Branch 5 was taken 25794 times"> + </span>]
<a name="5225"><span class="lineNum">    5225 </span>                :<span class="lineCov">     608502 :         vn_reference_insert (lhs, op, vdef, NULL);</span></a>
<a name="5226"><span class="lineNum">    5226 </span>                :            : </a>
<a name="5227"><span class="lineNum">    5227 </span>                :            :       /* Only perform the following when being called from PRE</a>
<a name="5228"><span class="lineNum">    5228 </span>                :            :          which embeds tail merging.  */</a>
<a name="5229"><span class="lineNum">    5229 </span>        [<span class="branchCov" title="Branch 0 was taken 152639 times"> + </span><span class="branchCov" title="Branch 1 was taken 481657 times"> + </span>]:<span class="lineCov">     634296 :       if (default_vn_walk_kind == VN_WALK)</span></a>
<a name="5230"><span class="lineNum">    5230 </span>                :            :         {</a>
<a name="5231"><span class="lineNum">    5231 </span>                :<span class="lineCov">     152639 :           assign = build2 (MODIFY_EXPR, TREE_TYPE (lhs), lhs, op);</span></a>
<a name="5232"><span class="lineNum">    5232 </span>                :<span class="lineCov">     152639 :           vn_reference_insert (assign, lhs, vuse, vdef);</span></a>
<a name="5233"><span class="lineNum">    5233 </span>                :            :         }</a>
<a name="5234"><span class="lineNum">    5234 </span>                :            :     }</a>
<a name="5235"><span class="lineNum">    5235 </span>                :            :   else</a>
<a name="5236"><span class="lineNum">    5236 </span>                :            :     {</a>
<a name="5237"><span class="lineNum">    5237 </span>                :            :       /* We had a match, so value number the vdef to have the value</a>
<a name="5238"><span class="lineNum">    5238 </span>                :            :          number of the vuse it came from.  */</a>
<a name="5239"><span class="lineNum">    5239 </span>                :            : </a>
<a name="5240"><span class="lineNum">    5240 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1028 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">       1028 :       if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 1028 times"> + </span>]
<a name="5241"><span class="lineNum">    5241 </span>                :<span class="lineNoCov">          0 :         fprintf (dump_file, &quot;Store matched earlier value, &quot;</span></a>
<a name="5242"><span class="lineNum">    5242 </span>                :            :                  &quot;value numbering store vdefs to matching vuses.\n&quot;);</a>
<a name="5243"><span class="lineNum">    5243 </span>                :            : </a>
<a name="5244"><span class="lineNum">    5244 </span>                :<span class="lineCov">       1028 :       changed |= set_ssa_val_to (vdef, SSA_VAL (vuse));</span></a>
<a name="5245"><span class="lineNum">    5245 </span>                :            :     }</a>
<a name="5246"><span class="lineNum">    5246 </span>                :            : </a>
<a name="5247"><span class="lineNum">    5247 </span>                :<span class="lineCov">     635324 :   return changed;</span></a>
<a name="5248"><span class="lineNum">    5248 </span>                :            : }</a>
<a name="5249"><span class="lineNum">    5249 </span>                :            : </a>
<a name="5250"><span class="lineNum">    5250 </span>                :            : /* Visit and value number PHI, return true if the value number</a>
<a name="5251"><span class="lineNum">    5251 </span>                :            :    changed.  When BACKEDGES_VARYING_P is true then assume all</a>
<a name="5252"><span class="lineNum">    5252 </span>                :            :    backedge values are varying.  When INSERTED is not NULL then</a>
<a name="5253"><span class="lineNum">    5253 </span>                :            :    this is just a ahead query for a possible iteration, set INSERTED</a>
<a name="5254"><span class="lineNum">    5254 </span>                :            :    to true if we'd insert into the hashtable.  */</a>
<a name="5255"><span class="lineNum">    5255 </span>                :            : </a>
<a name="5256"><span class="lineNum">    5256 </span>                :            : static bool</a>
<a name="5257"><span class="lineNum">    5257 </span>                :<span class="lineCov">    1032940 : visit_phi (gimple *phi, bool *inserted, bool backedges_varying_p)</span></a>
<a name="5258"><span class="lineNum">    5258 </span>                :            : {</a>
<a name="5259"><span class="lineNum">    5259 </span>                :<span class="lineCov">    1032940 :   tree result, sameval = VN_TOP, seen_undef = NULL_TREE;</span></a>
<a name="5260"><span class="lineNum">    5260 </span>                :<span class="lineCov">    1032940 :   tree backedge_val = NULL_TREE;</span></a>
<a name="5261"><span class="lineNum">    5261 </span>                :<span class="lineCov">    1032940 :   bool seen_non_backedge = false;</span></a>
<a name="5262"><span class="lineNum">    5262 </span>                :<span class="lineCov">    1032940 :   tree sameval_base = NULL_TREE;</span></a>
<a name="5263"><span class="lineNum">    5263 </span>                :<span class="lineCov">    1032940 :   poly_int64 soff, doff;</span></a>
<a name="5264"><span class="lineNum">    5264 </span>                :<span class="lineCov">    1032940 :   unsigned n_executable = 0;</span></a>
<a name="5265"><span class="lineNum">    5265 </span>                :            :   edge_iterator ei;</a>
<a name="5266"><span class="lineNum">    5266 </span>                :            :   edge e;</a>
<a name="5267"><span class="lineNum">    5267 </span>                :            : </a>
<a name="5268"><span class="lineNum">    5268 </span>                :            :   /* TODO: We could check for this in initialization, and replace this</a>
<a name="5269"><span class="lineNum">    5269 </span>                :            :      with a gcc_assert.  */</a>
<a name="5270"><span class="lineNum">    5270 </span>        [<span class="branchCov" title="Branch 0 was taken 5105 times"> + </span><span class="branchCov" title="Branch 1 was taken 1027840 times"> + </span>]:<span class="lineCov">    1032940 :   if (SSA_NAME_OCCURS_IN_ABNORMAL_PHI (PHI_RESULT (phi)))</span></a>
<a name="5271"><span class="lineNum">    5271 </span>                :<span class="lineCov">       5105 :     return set_ssa_val_to (PHI_RESULT (phi), PHI_RESULT (phi));</span></a>
<a name="5272"><span class="lineNum">    5272 </span>                :            : </a>
<a name="5273"><span class="lineNum">    5273 </span>                :            :   /* We track whether a PHI was CSEd to to avoid excessive iterations</a>
<a name="5274"><span class="lineNum">    5274 </span>                :            :      that would be necessary only because the PHI changed arguments</a>
<a name="5275"><span class="lineNum">    5275 </span>                :            :      but not value.  */</a>
<a name="5276"><span class="lineNum">    5276 </span>        [<span class="branchCov" title="Branch 0 was taken 823113 times"> + </span><span class="branchCov" title="Branch 1 was taken 204725 times"> + </span>]:<span class="lineCov">    1027840 :   if (!inserted)</span></a>
<a name="5277"><span class="lineNum">    5277 </span>                :<span class="lineCov">     823113 :     gimple_set_plf (phi, GF_PLF_1, false);</span></a>
<a name="5278"><span class="lineNum">    5278 </span>                :            : </a>
<a name="5279"><span class="lineNum">    5279 </span>                :            :   /* See if all non-TOP arguments have the same value.  TOP is</a>
<a name="5280"><span class="lineNum">    5280 </span>                :            :      equivalent to everything, so we can ignore it.  */</a>
<a name="5281"><span class="lineNum">    5281 </span>        [<span class="branchCov" title="Branch 0 was taken 2087800 times"> + </span><span class="branchCov" title="Branch 1 was taken 222839 times"> + </span>]:<span class="lineCov">    2310640 :   FOR_EACH_EDGE (e, ei, gimple_bb (phi)-&gt;preds)</span></a>
<a name="5282"><span class="lineNum">    5282 </span>        [<span class="branchCov" title="Branch 0 was taken 1939840 times"> + </span><span class="branchCov" title="Branch 1 was taken 147960 times"> + </span>]:<span class="lineCov">    2087800 :     if (e-&gt;flags &amp; EDGE_EXECUTABLE)</span></a>
<a name="5283"><span class="lineNum">    5283 </span>                :            :       {</a>
<a name="5284"><span class="lineNum">    5284 </span>                :<span class="lineCov">    1939840 :         tree def = PHI_ARG_DEF_FROM_EDGE (phi, e);</span></a>
<a name="5285"><span class="lineNum">    5285 </span>                :            : </a>
<a name="5286"><span class="lineNum">    5286 </span>        [<span class="branchCov" title="Branch 0 was taken 16297 times"> + </span><span class="branchCov" title="Branch 1 was taken 1923540 times"> + </span>]:<span class="lineCov">    1939840 :         if (def == PHI_RESULT (phi))</span></a>
<a name="5287"><span class="lineNum">    5287 </span>                :<span class="lineCov">      16297 :           continue;</span></a>
<a name="5288"><span class="lineNum">    5288 </span>                :<span class="lineCov">    1923540 :         ++n_executable;</span></a>
<a name="5289"><span class="lineNum">    5289 </span>        [<span class="branchCov" title="Branch 0 was taken 1618830 times"> + </span><span class="branchCov" title="Branch 1 was taken 304712 times"> + </span>]:<span class="lineCov">    1923540 :         if (TREE_CODE (def) == SSA_NAME)</span></a>
<a name="5290"><span class="lineNum">    5290 </span>                :            :           {</a>
<a name="5291"><span class="lineNum">    5291 </span>  [<span class="branchCov" title="Branch 0 was taken 943718 times"> + </span><span class="branchCov" title="Branch 1 was taken 675109 times"> + </span><span class="branchCov" title="Branch 2 was taken 897313 times"> + </span><span class="branchCov" title="Branch 3 was taken 46405 times"> + </span>]:<span class="lineCov">    1618830 :             if (!backedges_varying_p || !(e-&gt;flags &amp; EDGE_DFS_BACK))</span></a>
<a name="5292"><span class="lineNum">    5292 </span>                :<span class="lineCov">    1572420 :               def = SSA_VAL (def);</span></a>
<a name="5293"><span class="lineNum">    5293 </span>        [<span class="branchCov" title="Branch 0 was taken 391242 times"> + </span><span class="branchCov" title="Branch 1 was taken 1227580 times"> + </span>]:<span class="lineCov">    1618830 :             if (e-&gt;flags &amp; EDGE_DFS_BACK)</span></a>
<a name="5294"><span class="lineNum">    5294 </span>                :<span class="lineCov">     391242 :               backedge_val = def;</span></a>
<a name="5295"><span class="lineNum">    5295 </span>                :            :           }</a>
<a name="5296"><span class="lineNum">    5296 </span>        [<span class="branchCov" title="Branch 0 was taken 1527980 times"> + </span><span class="branchCov" title="Branch 1 was taken 395564 times"> + </span>]:<span class="lineCov">    1923540 :         if (!(e-&gt;flags &amp; EDGE_DFS_BACK))</span></a>
<a name="5297"><span class="lineNum">    5297 </span>                :<span class="lineCov">    1527980 :           seen_non_backedge = true;</span></a>
<a name="5298"><span class="lineNum">    5298 </span>        [<span class="branchCov" title="Branch 0 was taken 1923540 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">    1923540 :         if (def == VN_TOP)</span></a>
<a name="5299"><span class="lineNum">    5299 </span>                :            :           ;</a>
<a name="5300"><span class="lineNum">    5300 </span>                :            :         /* Ignore undefined defs for sameval but record one.  */</a>
<a name="5301"><span class="lineNum">    5301 </span>                :<span class="lineCov">    3847080 :         else if (TREE_CODE (def) == SSA_NAME</span></a>
<a name="5302"><span class="lineNum">    5302 </span>        [<span class="branchCov" title="Branch 0 was taken 742819 times"> + </span><span class="branchCov" title="Branch 1 was taken 805433 times"> + </span>]:<span class="lineCov">    1548250 :                  &amp;&amp; ! virtual_operand_p (def)</span></a>
<a name="5303"><span class="lineNum">    5303 </span>  [<span class="branchCov" title="Branch 0 was taken 1548250 times"> + </span><span class="branchCov" title="Branch 1 was taken 375287 times"> + </span><span class="branchCov" title="Branch 2 was taken 17352 times"> + </span><span class="branchCov" title="Branch 3 was taken 725467 times"> + </span> :<span class="lineCov">    3471790 :                  &amp;&amp; ssa_undefined_value_p (def, false))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 17352 times"> + </span><span class="branchCov" title="Branch 5 was taken 1906190 times"> + </span>]
<a name="5304"><span class="lineNum">    5304 </span>                :<span class="lineCov">      17352 :           seen_undef = def;</span></a>
<a name="5305"><span class="lineNum">    5305 </span>        [<span class="branchCov" title="Branch 0 was taken 1023590 times"> + </span><span class="branchCov" title="Branch 1 was taken 882596 times"> + </span>]:<span class="lineCov">    1906190 :         else if (sameval == VN_TOP)</span></a>
<a name="5306"><span class="lineNum">    5306 </span>                :<span class="lineCov">    1023590 :           sameval = def;</span></a>
<a name="5307"><span class="lineNum">    5307 </span>        [<span class="branchCov" title="Branch 0 was taken 804999 times"> + </span><span class="branchCov" title="Branch 1 was taken 77597 times"> + </span>]:<span class="lineCov">     882596 :         else if (!expressions_equal_p (def, sameval))</span></a>
<a name="5308"><span class="lineNum">    5308 </span>                :            :           {</a>
<a name="5309"><span class="lineNum">    5309 </span>                :            :             /* We know we're arriving only with invariant addresses here,</a>
<a name="5310"><span class="lineNum">    5310 </span>                :            :                try harder comparing them.  We can do some caching here</a>
<a name="5311"><span class="lineNum">    5311 </span>                :            :                which we cannot do in expressions_equal_p.  */</a>
<a name="5312"><span class="lineNum">    5312 </span>        [<span class="branchCov" title="Branch 0 was taken 17060 times"> + </span><span class="branchCov" title="Branch 1 was taken 787939 times"> + </span>]:<span class="lineCov">     804999 :             if (TREE_CODE (def) == ADDR_EXPR</span></a>
<a name="5313"><span class="lineNum">    5313 </span>        [<span class="branchCov" title="Branch 0 was taken 11194 times"> + </span><span class="branchCov" title="Branch 1 was taken 5866 times"> + </span>]:<span class="lineCov">      17060 :                 &amp;&amp; TREE_CODE (sameval) == ADDR_EXPR</span></a>
<a name="5314"><span class="lineNum">    5314 </span>        [<span class="branchCov" title="Branch 0 was taken 11194 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      11194 :                 &amp;&amp; sameval_base != (void *)-1)</span></a>
<a name="5315"><span class="lineNum">    5315 </span>                :            :               {</a>
<a name="5316"><span class="lineNum">    5316 </span>        [<span class="branchCov" title="Branch 0 was taken 11194 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      11194 :                 if (!sameval_base)</span></a>
<a name="5317"><span class="lineNum">    5317 </span>                :            :                   sameval_base = get_addr_base_and_unit_offset</a>
<a name="5318"><span class="lineNum">    5318 </span>                :<span class="lineCov">      11194 :                                    (TREE_OPERAND (sameval, 0), &amp;soff);</span></a>
<a name="5319"><span class="lineNum">    5319 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 11194 times"> + </span>]:<span class="lineCov">      11194 :                 if (!sameval_base)</span></a>
<a name="5320"><span class="lineNum">    5320 </span>                :<span class="lineNoCov">          0 :                   sameval_base = (tree)(void *)-1;</span></a>
<a name="5321"><span class="lineNum">    5321 </span>                :<span class="lineCov">      11194 :                 else if ((get_addr_base_and_unit_offset</span></a>
<a name="5322"><span class="lineNum">    5322 </span>                :<span class="lineCov">      11194 :                             (TREE_OPERAND (def, 0), &amp;doff) == sameval_base)</span></a>
<a name="5323"><span class="lineNum">    5323 </span>  [<span class="branchCov" title="Branch 0 was taken 7839 times"> + </span><span class="branchCov" title="Branch 1 was taken 3355 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 7839 times"> + </span> :<span class="lineCov">      11194 :                          &amp;&amp; known_eq (soff, doff))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 11194 times"> + </span>]
<a name="5324"><span class="lineNum">    5324 </span>                :<span class="lineNoCov">          0 :                   continue;</span></a>
<a name="5325"><span class="lineNum">    5325 </span>                :            :               }</a>
<a name="5326"><span class="lineNum">    5326 </span>                :<span class="lineCov">     804999 :             sameval = NULL_TREE;</span></a>
<a name="5327"><span class="lineNum">    5327 </span>                :<span class="lineCov">     804999 :             break;</span></a>
<a name="5328"><span class="lineNum">    5328 </span>                :            :           }</a>
<a name="5329"><span class="lineNum">    5329 </span>                :            :       }</a>
<a name="5330"><span class="lineNum">    5330 </span>                :            : </a>
<a name="5331"><span class="lineNum">    5331 </span>                :            :   /* If the value we want to use is flowing over the backedge and we</a>
<a name="5332"><span class="lineNum">    5332 </span>                :            :      should take it as VARYING but it has a non-VARYING value drop to</a>
<a name="5333"><span class="lineNum">    5333 </span>                :            :      VARYING.</a>
<a name="5334"><span class="lineNum">    5334 </span>                :            :      If we value-number a virtual operand never value-number to the</a>
<a name="5335"><span class="lineNum">    5335 </span>                :            :      value from the backedge as that confuses the alias-walking code.</a>
<a name="5336"><span class="lineNum">    5336 </span>                :            :      See gcc.dg/torture/pr87176.c.  If the value is the same on a</a>
<a name="5337"><span class="lineNum">    5337 </span>                :            :      non-backedge everything is OK though.  */</a>
<a name="5338"><span class="lineNum">    5338 </span>                :            :   bool visited_p;</a>
<a name="5339"><span class="lineNum">    5339 </span>                :<span class="lineCov">    1027840 :   if ((backedge_val</span></a>
<a name="5340"><span class="lineNum">    5340 </span>        [<span class="branchCov" title="Branch 0 was taken 252 times"> + </span><span class="branchCov" title="Branch 1 was taken 387593 times"> + </span>]:<span class="lineCov">     387845 :        &amp;&amp; !seen_non_backedge</span></a>
<a name="5341"><span class="lineNum">    5341 </span>        [<span class="branchCov" title="Branch 0 was taken 252 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">        252 :        &amp;&amp; TREE_CODE (backedge_val) == SSA_NAME</span></a>
<a name="5342"><span class="lineNum">    5342 </span>        [<span class="branchCov" title="Branch 0 was taken 138 times"> + </span><span class="branchCov" title="Branch 1 was taken 114 times"> + </span>]:<span class="lineCov">        252 :        &amp;&amp; sameval == backedge_val</span></a>
<a name="5343"><span class="lineNum">    5343 </span>                :<span class="lineCov">        138 :        &amp;&amp; (SSA_NAME_IS_VIRTUAL_OPERAND (backedge_val)</span></a>
<a name="5344"><span class="lineNum">    5344 </span>  [<span class="branchCov" title="Branch 0 was taken 72 times"> + </span><span class="branchCov" title="Branch 1 was taken 66 times"> + </span><span class="branchCov" title="Branch 2 was taken 72 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">        138 :            || SSA_VAL (backedge_val) != backedge_val))</span></a>
<a name="5345"><span class="lineNum">    5345 </span>                :            :       /* Do not value-number a virtual operand to sth not visited though</a>
<a name="5346"><span class="lineNum">    5346 </span>                :            :          given that allows us to escape a region in alias walking.  */</a>
<a name="5347"><span class="lineNum">    5347 </span>  [<span class="branchCov" title="Branch 0 was taken 387845 times"> + </span><span class="branchCov" title="Branch 1 was taken 639993 times"> + </span><span class="branchCov" title="Branch 2 was taken 222773 times"> + </span><span class="branchCov" title="Branch 3 was taken 804999 times"> + </span> :<span class="lineCov">    1638460 :       || (sameval</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 4928 times"> + </span><span class="branchCov" title="Branch 5 was taken 1022910 times"> + </span>]
<a name="5348"><span class="lineNum">    5348 </span>        [<span class="branchCov" title="Branch 0 was taken 156895 times"> + </span><span class="branchCov" title="Branch 1 was taken 65878 times"> + </span>]:<span class="lineCov">     222773 :           &amp;&amp; TREE_CODE (sameval) == SSA_NAME</span></a>
<a name="5349"><span class="lineNum">    5349 </span>        [<span class="branchCov" title="Branch 0 was taken 104516 times"> + </span><span class="branchCov" title="Branch 1 was taken 52379 times"> + </span>]:<span class="lineCov">     156895 :           &amp;&amp; !SSA_NAME_IS_DEFAULT_DEF (sameval)</span></a>
<a name="5350"><span class="lineNum">    5350 </span>        [<span class="branchCov" title="Branch 0 was taken 45583 times"> + </span><span class="branchCov" title="Branch 1 was taken 58933 times"> + </span>]:<span class="lineCov">     104516 :           &amp;&amp; SSA_NAME_IS_VIRTUAL_OPERAND (sameval)</span></a>
<a name="5351"><span class="lineNum">    5351 </span>        [<span class="branchCov" title="Branch 0 was taken 4862 times"> + </span><span class="branchCov" title="Branch 1 was taken 40721 times"> + </span>]:<span class="lineCov">      45583 :           &amp;&amp; (SSA_VAL (sameval, &amp;visited_p), !visited_p)))</span></a>
<a name="5352"><span class="lineNum">    5352 </span>                :            :     /* Note this just drops to VARYING without inserting the PHI into</a>
<a name="5353"><span class="lineNum">    5353 </span>                :            :        the hashes.  */</a>
<a name="5354"><span class="lineNum">    5354 </span>                :<span class="lineCov">       4928 :     result = PHI_RESULT (phi);</span></a>
<a name="5355"><span class="lineNum">    5355 </span>                :            :   /* If none of the edges was executable keep the value-number at VN_TOP,</a>
<a name="5356"><span class="lineNum">    5356 </span>                :            :      if only a single edge is exectuable use its value.  */</a>
<a name="5357"><span class="lineNum">    5357 </span>        [<span class="branchCov" title="Branch 0 was taken 185877 times"> + </span><span class="branchCov" title="Branch 1 was taken 837033 times"> + </span>]:<span class="lineCov">    1022910 :   else if (n_executable &lt;= 1)</span></a>
<a name="5358"><span class="lineNum">    5358 </span>        [<span class="branchCov" title="Branch 0 was taken 3680 times"> + </span><span class="branchCov" title="Branch 1 was taken 182197 times"> + </span>]:<span class="lineCov">     185877 :     result = seen_undef ? seen_undef : sameval;</span></a>
<a name="5359"><span class="lineNum">    5359 </span>                :            :   /* If we saw only undefined values and VN_TOP use one of the</a>
<a name="5360"><span class="lineNum">    5360 </span>                :            :      undefined values.  */</a>
<a name="5361"><span class="lineNum">    5361 </span>        [<span class="branchCov" title="Branch 0 was taken 567 times"> + </span><span class="branchCov" title="Branch 1 was taken 836466 times"> + </span>]:<span class="lineCov">     837033 :   else if (sameval == VN_TOP)</span></a>
<a name="5362"><span class="lineNum">    5362 </span>        [<span class="branchCov" title="Branch 0 was taken 567 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">        567 :     result = seen_undef ? seen_undef : sameval;</span></a>
<a name="5363"><span class="lineNum">    5363 </span>                :            :   /* First see if it is equivalent to a phi node in this block.  We prefer</a>
<a name="5364"><span class="lineNum">    5364 </span>                :            :      this as it allows IV elimination - see PRs 66502 and 67167.  */</a>
<a name="5365"><span class="lineNum">    5365 </span>        [<span class="branchCov" title="Branch 0 was taken 119438 times"> + </span><span class="branchCov" title="Branch 1 was taken 717028 times"> + </span>]:<span class="lineCov">     836466 :   else if ((result = vn_phi_lookup (phi, backedges_varying_p)))</span></a>
<a name="5366"><span class="lineNum">    5366 </span>                :            :     {</a>
<a name="5367"><span class="lineNum">    5367 </span>                :<span class="lineCov">     119438 :       if (!inserted</span></a>
<a name="5368"><span class="lineNum">    5368 </span>        [<span class="branchCov" title="Branch 0 was taken 1968 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       1968 :           &amp;&amp; TREE_CODE (result) == SSA_NAME</span></a>
<a name="5369"><span class="lineNum">    5369 </span>  [<span class="branchCov" title="Branch 0 was taken 1968 times"> + </span><span class="branchCov" title="Branch 1 was taken 117470 times"> + </span><span class="branchCov" title="Branch 2 was taken 1968 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     121406 :           &amp;&amp; gimple_code (SSA_NAME_DEF_STMT (result)) == GIMPLE_PHI)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1968 times"> + </span><span class="branchCov" title="Branch 5 was taken 117470 times"> + </span>]
<a name="5370"><span class="lineNum">    5370 </span>                :            :         {</a>
<a name="5371"><span class="lineNum">    5371 </span>                :<span class="lineCov">       1968 :           gimple_set_plf (SSA_NAME_DEF_STMT (result), GF_PLF_1, true);</span></a>
<a name="5372"><span class="lineNum">    5372 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1968 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">       1968 :           if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 1968 times"> + </span>]
<a name="5373"><span class="lineNum">    5373 </span>                :            :             {</a>
<a name="5374"><span class="lineNum">    5374 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot;Marking CSEd to PHI node &quot;);</span></a>
<a name="5375"><span class="lineNum">    5375 </span>                :<span class="lineNoCov">          0 :               print_gimple_expr (dump_file, SSA_NAME_DEF_STMT (result),</span></a>
<a name="5376"><span class="lineNum">    5376 </span>                :            :                                  0, TDF_SLIM);</a>
<a name="5377"><span class="lineNum">    5377 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot;\n&quot;);</span></a>
<a name="5378"><span class="lineNum">    5378 </span>                :            :             }</a>
<a name="5379"><span class="lineNum">    5379 </span>                :            :         }</a>
<a name="5380"><span class="lineNum">    5380 </span>                :            :     }</a>
<a name="5381"><span class="lineNum">    5381 </span>                :            :   /* If all values are the same use that, unless we've seen undefined</a>
<a name="5382"><span class="lineNum">    5382 </span>                :            :      values as well and the value isn't constant.</a>
<a name="5383"><span class="lineNum">    5383 </span>                :            :      CCP/copyprop have the same restriction to not remove uninit warnings.  */</a>
<a name="5384"><span class="lineNum">    5384 </span>                :<span class="lineCov">     717028 :   else if (sameval</span></a>
<a name="5385"><span class="lineNum">    5385 </span>  [<span class="branchCov" title="Branch 0 was taken 27757 times"> + </span><span class="branchCov" title="Branch 1 was taken 689271 times"> + </span><span class="branchCov" title="Branch 2 was taken 7292 times"> + </span><span class="branchCov" title="Branch 3 was taken 20465 times"> + </span> :<span class="lineCov">     717028 :            &amp;&amp; (! seen_undef || is_gimple_min_invariant (sameval)))</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 497 times"> + </span><span class="branchCov" title="Branch 5 was taken 6795 times"> + </span><span class="branchCov" title="Branch 6 was taken 20962 times"> + </span><span class="branchCov" title="Branch 7 was taken 696066 times"> + </span>]
<a name="5386"><span class="lineNum">    5386 </span>                :<span class="lineCov">      20962 :     result = sameval;</span></a>
<a name="5387"><span class="lineNum">    5387 </span>                :            :   else</a>
<a name="5388"><span class="lineNum">    5388 </span>                :            :     {</a>
<a name="5389"><span class="lineNum">    5389 </span>                :<span class="lineCov">     696066 :       result = PHI_RESULT (phi);</span></a>
<a name="5390"><span class="lineNum">    5390 </span>                :            :       /* Only insert PHIs that are varying, for constant value numbers</a>
<a name="5391"><span class="lineNum">    5391 </span>                :            :          we mess up equivalences otherwise as we are only comparing</a>
<a name="5392"><span class="lineNum">    5392 </span>                :            :          the immediate controlling predicates.  */</a>
<a name="5393"><span class="lineNum">    5393 </span>                :<span class="lineCov">     696066 :       vn_phi_insert (phi, result, backedges_varying_p);</span></a>
<a name="5394"><span class="lineNum">    5394 </span>        [<span class="branchCov" title="Branch 0 was taken 79820 times"> + </span><span class="branchCov" title="Branch 1 was taken 616246 times"> + </span>]:<span class="lineCov">     696066 :       if (inserted)</span></a>
<a name="5395"><span class="lineNum">    5395 </span>                :<span class="lineCov">      79820 :         *inserted = true;</span></a>
<a name="5396"><span class="lineNum">    5396 </span>                :            :     }</a>
<a name="5397"><span class="lineNum">    5397 </span>                :            : </a>
<a name="5398"><span class="lineNum">    5398 </span>                :<span class="lineCov">    1027840 :   return set_ssa_val_to (PHI_RESULT (phi), result);</span></a>
<a name="5399"><span class="lineNum">    5399 </span>                :            : }</a>
<a name="5400"><span class="lineNum">    5400 </span>                :            : </a>
<a name="5401"><span class="lineNum">    5401 </span>                :            : /* Try to simplify RHS using equivalences and constant folding.  */</a>
<a name="5402"><span class="lineNum">    5402 </span>                :            : </a>
<a name="5403"><span class="lineNum">    5403 </span>                :            : static tree</a>
<a name="5404"><span class="lineNum">    5404 </span>                :<span class="lineCov">    4008650 : try_to_simplify (gassign *stmt)</span></a>
<a name="5405"><span class="lineNum">    5405 </span>                :            : {</a>
<a name="5406"><span class="lineNum">    5406 </span>                :<span class="lineCov">    4008650 :   enum tree_code code = gimple_assign_rhs_code (stmt);</span></a>
<a name="5407"><span class="lineNum">    5407 </span>                :            :   tree tem;</a>
<a name="5408"><span class="lineNum">    5408 </span>                :            : </a>
<a name="5409"><span class="lineNum">    5409 </span>                :            :   /* For stores we can end up simplifying a SSA_NAME rhs.  Just return</a>
<a name="5410"><span class="lineNum">    5410 </span>                :            :      in this case, there is no point in doing extra work.  */</a>
<a name="5411"><span class="lineNum">    5411 </span>        [<span class="branchCov" title="Branch 0 was taken 353225 times"> + </span><span class="branchCov" title="Branch 1 was taken 3655420 times"> + </span>]:<span class="lineCov">    4008650 :   if (code == SSA_NAME)</span></a>
<a name="5412"><span class="lineNum">    5412 </span>                :<span class="lineCov">     353225 :     return NULL_TREE;</span></a>
<a name="5413"><span class="lineNum">    5413 </span>                :            : </a>
<a name="5414"><span class="lineNum">    5414 </span>                :            :   /* First try constant folding based on our current lattice.  */</a>
<a name="5415"><span class="lineNum">    5415 </span>                :<span class="lineCov">    3655420 :   mprts_hook = vn_lookup_simplify_result;</span></a>
<a name="5416"><span class="lineNum">    5416 </span>                :<span class="lineCov">    3655420 :   tem = gimple_fold_stmt_to_constant_1 (stmt, vn_valueize, vn_valueize);</span></a>
<a name="5417"><span class="lineNum">    5417 </span>                :<span class="lineCov">    3655420 :   mprts_hook = NULL;</span></a>
<a name="5418"><span class="lineNum">    5418 </span>                :<span class="lineCov">    3655420 :   if (tem</span></a>
<a name="5419"><span class="lineNum">    5419 </span>  [<span class="branchCov" title="Branch 0 was taken 482306 times"> + </span><span class="branchCov" title="Branch 1 was taken 3173120 times"> + </span><span class="branchCov" title="Branch 2 was taken 435009 times"> + </span><span class="branchCov" title="Branch 3 was taken 47297 times"> + </span> :<span class="lineCov">    4090430 :       &amp;&amp; (TREE_CODE (tem) == SSA_NAME</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 411059 times"> + </span><span class="branchCov" title="Branch 5 was taken 3244360 times"> + </span>]
<a name="5420"><span class="lineNum">    5420 </span>        [<span class="branchCov" title="Branch 0 was taken 363762 times"> + </span><span class="branchCov" title="Branch 1 was taken 71247 times"> + </span>]:<span class="lineCov">     435009 :           || is_gimple_min_invariant (tem)))</span></a>
<a name="5421"><span class="lineNum">    5421 </span>                :<span class="lineCov">     411059 :     return tem;</span></a>
<a name="5422"><span class="lineNum">    5422 </span>                :            : </a>
<a name="5423"><span class="lineNum">    5423 </span>                :<span class="lineCov">    3244360 :   return NULL_TREE;</span></a>
<a name="5424"><span class="lineNum">    5424 </span>                :            : }</a>
<a name="5425"><span class="lineNum">    5425 </span>                :            : </a>
<a name="5426"><span class="lineNum">    5426 </span>                :            : /* Visit and value number STMT, return true if the value number</a>
<a name="5427"><span class="lineNum">    5427 </span>                :            :    changed.  */</a>
<a name="5428"><span class="lineNum">    5428 </span>                :            : </a>
<a name="5429"><span class="lineNum">    5429 </span>                :            : static bool</a>
<a name="5430"><span class="lineNum">    5430 </span>                :<span class="lineCov">   15605700 : visit_stmt (gimple *stmt, bool backedges_varying_p = false)</span></a>
<a name="5431"><span class="lineNum">    5431 </span>                :            : {</a>
<a name="5432"><span class="lineNum">    5432 </span>                :<span class="lineCov">   15605700 :   bool changed = false;</span></a>
<a name="5433"><span class="lineNum">    5433 </span>                :            : </a>
<a name="5434"><span class="lineNum">    5434 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 15605700 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">   15605700 :   if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 15605700 times"> + </span>]
<a name="5435"><span class="lineNum">    5435 </span>                :            :     {</a>
<a name="5436"><span class="lineNum">    5436 </span>                :<span class="lineNoCov">          0 :       fprintf (dump_file, &quot;Value numbering stmt = &quot;);</span></a>
<a name="5437"><span class="lineNum">    5437 </span>                :<span class="lineNoCov">          0 :       print_gimple_stmt (dump_file, stmt, 0);</span></a>
<a name="5438"><span class="lineNum">    5438 </span>                :            :     }</a>
<a name="5439"><span class="lineNum">    5439 </span>                :            : </a>
<a name="5440"><span class="lineNum">    5440 </span>        [<span class="branchCov" title="Branch 0 was taken 826125 times"> + </span><span class="branchCov" title="Branch 1 was taken 14779500 times"> + </span>]:<span class="lineCov">   15605700 :   if (gimple_code (stmt) == GIMPLE_PHI)</span></a>
<a name="5441"><span class="lineNum">    5441 </span>                :<span class="lineCov">     826125 :     changed = visit_phi (stmt, NULL, backedges_varying_p);</span></a>
<a name="5442"><span class="lineNum">    5442 </span>        [<span class="branchCov" title="Branch 0 was taken 285659 times"> + </span><span class="branchCov" title="Branch 1 was taken 14493900 times"> + </span>]:<span class="lineCov">   14779500 :   else if (gimple_has_volatile_ops (stmt))</span></a>
<a name="5443"><span class="lineNum">    5443 </span>                :<span class="lineCov">     285659 :     changed = defs_to_varying (stmt);</span></a>
<a name="5444"><span class="lineNum">    5444 </span>        [<span class="branchCov" title="Branch 0 was taken 4082030 times"> + </span><span class="branchCov" title="Branch 1 was taken 10411900 times"> + </span>]:<span class="lineCov">   14493900 :   else if (gassign *ass = dyn_cast &lt;gassign *&gt; (stmt))</span></a>
<a name="5445"><span class="lineNum">    5445 </span>                :            :     {</a>
<a name="5446"><span class="lineNum">    5446 </span>                :<span class="lineCov">    4082030 :       enum tree_code code = gimple_assign_rhs_code (ass);</span></a>
<a name="5447"><span class="lineNum">    5447 </span>                :<span class="lineCov">    4082030 :       tree lhs = gimple_assign_lhs (ass);</span></a>
<a name="5448"><span class="lineNum">    5448 </span>                :<span class="lineCov">    4082030 :       tree rhs1 = gimple_assign_rhs1 (ass);</span></a>
<a name="5449"><span class="lineNum">    5449 </span>                :            :       tree simplified;</a>
<a name="5450"><span class="lineNum">    5450 </span>                :            : </a>
<a name="5451"><span class="lineNum">    5451 </span>                :            :       /* Shortcut for copies. Simplifying copies is pointless,</a>
<a name="5452"><span class="lineNum">    5452 </span>                :            :          since we copy the expression and value they represent.  */</a>
<a name="5453"><span class="lineNum">    5453 </span>        [<span class="branchCov" title="Branch 0 was taken 426604 times"> + </span><span class="branchCov" title="Branch 1 was taken 3655420 times"> + </span>]:<span class="lineCov">    4082030 :       if (code == SSA_NAME</span></a>
<a name="5454"><span class="lineNum">    5454 </span>        [<span class="branchCov" title="Branch 0 was taken 73379 times"> + </span><span class="branchCov" title="Branch 1 was taken 353225 times"> + </span>]:<span class="lineCov">     426604 :           &amp;&amp; TREE_CODE (lhs) == SSA_NAME)</span></a>
<a name="5455"><span class="lineNum">    5455 </span>                :            :         {</a>
<a name="5456"><span class="lineNum">    5456 </span>                :<span class="lineCov">      73379 :           changed = visit_copy (lhs, rhs1);</span></a>
<a name="5457"><span class="lineNum">    5457 </span>                :<span class="lineCov">      73379 :           goto done;</span></a>
<a name="5458"><span class="lineNum">    5458 </span>                :            :         }</a>
<a name="5459"><span class="lineNum">    5459 </span>                :<span class="lineCov">    4008650 :       simplified = try_to_simplify (ass);</span></a>
<a name="5460"><span class="lineNum">    5460 </span>        [<span class="branchCov" title="Branch 0 was taken 411059 times"> + </span><span class="branchCov" title="Branch 1 was taken 3597590 times"> + </span>]:<span class="lineCov">    4008650 :       if (simplified)</span></a>
<a name="5461"><span class="lineNum">    5461 </span>                :            :         {</a>
<a name="5462"><span class="lineNum">    5462 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 411059 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     411059 :           if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 411059 times"> + </span>]
<a name="5463"><span class="lineNum">    5463 </span>                :            :             {</a>
<a name="5464"><span class="lineNum">    5464 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot;RHS &quot;);</span></a>
<a name="5465"><span class="lineNum">    5465 </span>                :<span class="lineNoCov">          0 :               print_gimple_expr (dump_file, ass, 0);</span></a>
<a name="5466"><span class="lineNum">    5466 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot; simplified to &quot;);</span></a>
<a name="5467"><span class="lineNum">    5467 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (dump_file, simplified);</span></a>
<a name="5468"><span class="lineNum">    5468 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot;\n&quot;);</span></a>
<a name="5469"><span class="lineNum">    5469 </span>                :            :             }</a>
<a name="5470"><span class="lineNum">    5470 </span>                :            :         }</a>
<a name="5471"><span class="lineNum">    5471 </span>                :            :       /* Setting value numbers to constants will occasionally</a>
<a name="5472"><span class="lineNum">    5472 </span>                :            :          screw up phi congruence because constants are not</a>
<a name="5473"><span class="lineNum">    5473 </span>                :            :          uniquely associated with a single ssa name that can be</a>
<a name="5474"><span class="lineNum">    5474 </span>                :            :          looked up.  */</a>
<a name="5475"><span class="lineNum">    5475 </span>                :<span class="lineCov">    4008650 :       if (simplified</span></a>
<a name="5476"><span class="lineNum">    5476 </span>        [<span class="branchCov" title="Branch 0 was taken 363762 times"> + </span><span class="branchCov" title="Branch 1 was taken 47297 times"> + </span>]:<span class="lineCov">     411059 :           &amp;&amp; is_gimple_min_invariant (simplified)</span></a>
<a name="5477"><span class="lineNum">    5477 </span>  [<span class="branchCov" title="Branch 0 was taken 411059 times"> + </span><span class="branchCov" title="Branch 1 was taken 3597590 times"> + </span><span class="branchCov" title="Branch 2 was taken 104330 times"> + </span><span class="branchCov" title="Branch 3 was taken 259432 times"> + </span> :<span class="lineCov">    4419710 :           &amp;&amp; TREE_CODE (lhs) == SSA_NAME)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 104330 times"> + </span><span class="branchCov" title="Branch 5 was taken 3904320 times"> + </span>]
<a name="5478"><span class="lineNum">    5478 </span>                :            :         {</a>
<a name="5479"><span class="lineNum">    5479 </span>                :<span class="lineCov">     104330 :           changed = set_ssa_val_to (lhs, simplified);</span></a>
<a name="5480"><span class="lineNum">    5480 </span>                :<span class="lineCov">     104330 :           goto done;</span></a>
<a name="5481"><span class="lineNum">    5481 </span>                :            :         }</a>
<a name="5482"><span class="lineNum">    5482 </span>        [<span class="branchCov" title="Branch 0 was taken 306729 times"> + </span><span class="branchCov" title="Branch 1 was taken 3597590 times"> + </span>]:<span class="lineCov">    3904320 :       else if (simplified</span></a>
<a name="5483"><span class="lineNum">    5483 </span>        [<span class="branchCov" title="Branch 0 was taken 47297 times"> + </span><span class="branchCov" title="Branch 1 was taken 259432 times"> + </span>]:<span class="lineCov">     306729 :                &amp;&amp; TREE_CODE (simplified) == SSA_NAME</span></a>
<a name="5484"><span class="lineNum">    5484 </span>        [<span class="branchCov" title="Branch 0 was taken 47297 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      47297 :                &amp;&amp; TREE_CODE (lhs) == SSA_NAME)</span></a>
<a name="5485"><span class="lineNum">    5485 </span>                :            :         {</a>
<a name="5486"><span class="lineNum">    5486 </span>                :<span class="lineCov">      47297 :           changed = visit_copy (lhs, simplified);</span></a>
<a name="5487"><span class="lineNum">    5487 </span>                :<span class="lineCov">      47297 :           goto done;</span></a>
<a name="5488"><span class="lineNum">    5488 </span>                :            :         }</a>
<a name="5489"><span class="lineNum">    5489 </span>                :            : </a>
<a name="5490"><span class="lineNum">    5490 </span>                :<span class="lineCov">    7714040 :       if ((TREE_CODE (lhs) == SSA_NAME</span></a>
<a name="5491"><span class="lineNum">    5491 </span>                :            :            /* We can substitute SSA_NAMEs that are live over</a>
<a name="5492"><span class="lineNum">    5492 </span>                :            :               abnormal edges with their constant value.  */</a>
<a name="5493"><span class="lineNum">    5493 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 3218560 times"> + </span>]:<span class="lineCov">    3218560 :            &amp;&amp; !(gimple_assign_copy_p (ass)</span></a>
<a name="5494"><span class="lineNum">    5494 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                 &amp;&amp; is_gimple_min_invariant (rhs1))</span></a>
<a name="5495"><span class="lineNum">    5495 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 3218560 times"> + </span>]:<span class="lineCov">    3218560 :            &amp;&amp; !(simplified</span></a>
<a name="5496"><span class="lineNum">    5496 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                 &amp;&amp; is_gimple_min_invariant (simplified))</span></a>
<a name="5497"><span class="lineNum">    5497 </span>        [<span class="branchCov" title="Branch 0 was taken 3218370 times"> + </span><span class="branchCov" title="Branch 1 was taken 192 times"> + </span>]:<span class="lineCov">    3218560 :            &amp;&amp; SSA_NAME_OCCURS_IN_ABNORMAL_PHI (lhs))</span></a>
<a name="5498"><span class="lineNum">    5498 </span>                :            :           /* Stores or copies from SSA_NAMEs that are live over</a>
<a name="5499"><span class="lineNum">    5499 </span>                :            :              abnormal edges are a problem.  */</a>
<a name="5500"><span class="lineNum">    5500 </span>  [<span class="branchCov" title="Branch 0 was taken 3218560 times"> + </span><span class="branchCov" title="Branch 1 was taken 638459 times"> + </span><span class="branchCov" title="Branch 2 was taken 353225 times"> + </span><span class="branchCov" title="Branch 3 was taken 3503600 times"> + </span> :<span class="lineCov">    7428810 :           || (code == SSA_NAME</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 211 times"> + </span><span class="branchCov" title="Branch 5 was taken 3856810 times"> + </span>]
<a name="5501"><span class="lineNum">    5501 </span>        [<span class="branchCov" title="Branch 0 was taken 19 times"> + </span><span class="branchCov" title="Branch 1 was taken 353206 times"> + </span>]:<span class="lineCov">     353225 :               &amp;&amp; SSA_NAME_OCCURS_IN_ABNORMAL_PHI (rhs1)))</span></a>
<a name="5502"><span class="lineNum">    5502 </span>                :<span class="lineCov">        211 :         changed = defs_to_varying (ass);</span></a>
<a name="5503"><span class="lineNum">    5503 </span>        [<span class="branchCov" title="Branch 0 was taken 3321950 times"> + </span><span class="branchCov" title="Branch 1 was taken 534865 times"> + </span>]:<span class="lineCov">    3856810 :       else if (REFERENCE_CLASS_P (lhs)</span></a>
<a name="5504"><span class="lineNum">    5504 </span>        [<span class="branchCov" title="Branch 0 was taken 103575 times"> + </span><span class="branchCov" title="Branch 1 was taken 3218370 times"> + </span>]:<span class="lineCov">    3321950 :                || DECL_P (lhs))</span></a>
<a name="5505"><span class="lineNum">    5505 </span>                :<span class="lineCov">     638440 :         changed = visit_reference_op_store (lhs, rhs1, ass);</span></a>
<a name="5506"><span class="lineNum">    5506 </span>        [<span class="branchCov" title="Branch 0 was taken 3218370 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">    3218370 :       else if (TREE_CODE (lhs) == SSA_NAME)</span></a>
<a name="5507"><span class="lineNum">    5507 </span>                :            :         {</a>
<a name="5508"><span class="lineNum">    5508 </span>                :<span class="lineCov">    3218370 :           if ((gimple_assign_copy_p (ass)</span></a>
<a name="5509"><span class="lineNum">    5509 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                &amp;&amp; is_gimple_min_invariant (rhs1))</span></a>
<a name="5510"><span class="lineNum">    5510 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 3218370 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 3218370 times"> + </span> :<span class="lineCov">    3218370 :               || (simplified</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 3218370 times"> + </span>]
<a name="5511"><span class="lineNum">    5511 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                   &amp;&amp; is_gimple_min_invariant (simplified)))</span></a>
<a name="5512"><span class="lineNum">    5512 </span>                :            :             {</a>
<a name="5513"><span class="lineNum">    5513 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :               if (simplified)</span></a>
<a name="5514"><span class="lineNum">    5514 </span>                :<span class="lineNoCov">          0 :                 changed = set_ssa_val_to (lhs, simplified);</span></a>
<a name="5515"><span class="lineNum">    5515 </span>                :            :               else</a>
<a name="5516"><span class="lineNum">    5516 </span>                :<span class="lineNoCov">          0 :                 changed = set_ssa_val_to (lhs, rhs1);</span></a>
<a name="5517"><span class="lineNum">    5517 </span>                :            :             }</a>
<a name="5518"><span class="lineNum">    5518 </span>                :            :           else</a>
<a name="5519"><span class="lineNum">    5519 </span>                :            :             {</a>
<a name="5520"><span class="lineNum">    5520 </span>                :            :               /* Visit the original statement.  */</a>
<a name="5521"><span class="lineNum">    5521 </span>     [<span class="branchCov" title="Branch 0 was taken 1961500 times"> + </span><span class="branchCov" title="Branch 1 was taken 1255340 times"> + </span><span class="branchCov" title="Branch 2 was taken 1527 times"> + </span>]:<span class="lineCov">    3218370 :               switch (vn_get_stmt_kind (ass))</span></a>
<a name="5522"><span class="lineNum">    5522 </span>                :            :                 {</a>
<a name="5523"><span class="lineNum">    5523 </span>                :<span class="lineCov">    1961500 :                 case VN_NARY:</span></a>
<a name="5524"><span class="lineNum">    5524 </span>                :<span class="lineCov">    1961500 :                   changed = visit_nary_op (lhs, ass);</span></a>
<a name="5525"><span class="lineNum">    5525 </span>                :<span class="lineCov">    1961500 :                   break;</span></a>
<a name="5526"><span class="lineNum">    5526 </span>                :<span class="lineCov">    1255340 :                 case VN_REFERENCE:</span></a>
<a name="5527"><span class="lineNum">    5527 </span>                :<span class="lineCov">    1255340 :                   changed = visit_reference_op_load (lhs, rhs1, ass);</span></a>
<a name="5528"><span class="lineNum">    5528 </span>                :<span class="lineCov">    1255340 :                   break;</span></a>
<a name="5529"><span class="lineNum">    5529 </span>                :<span class="lineCov">       1527 :                 default:</span></a>
<a name="5530"><span class="lineNum">    5530 </span>                :<span class="lineCov">       1527 :                   changed = defs_to_varying (ass);</span></a>
<a name="5531"><span class="lineNum">    5531 </span>                :<span class="lineCov">       1527 :                   break;</span></a>
<a name="5532"><span class="lineNum">    5532 </span>                :            :                 }</a>
<a name="5533"><span class="lineNum">    5533 </span>                :            :             }</a>
<a name="5534"><span class="lineNum">    5534 </span>                :            :         }</a>
<a name="5535"><span class="lineNum">    5535 </span>                :            :       else</a>
<a name="5536"><span class="lineNum">    5536 </span>                :<span class="lineNoCov">          0 :         changed = defs_to_varying (ass);</span></a>
<a name="5537"><span class="lineNum">    5537 </span>                :            :     }</a>
<a name="5538"><span class="lineNum">    5538 </span>        [<span class="branchCov" title="Branch 0 was taken 790515 times"> + </span><span class="branchCov" title="Branch 1 was taken 9621340 times"> + </span>]:<span class="lineCov">   10411900 :   else if (gcall *call_stmt = dyn_cast &lt;gcall *&gt; (stmt))</span></a>
<a name="5539"><span class="lineNum">    5539 </span>                :            :     {</a>
<a name="5540"><span class="lineNum">    5540 </span>                :<span class="lineCov">     790515 :       tree lhs = gimple_call_lhs (call_stmt);</span></a>
<a name="5541"><span class="lineNum">    5541 </span>  [<span class="branchCov" title="Branch 0 was taken 326333 times"> + </span><span class="branchCov" title="Branch 1 was taken 464182 times"> + </span><span class="branchCov" title="Branch 2 was taken 319222 times"> + </span><span class="branchCov" title="Branch 3 was taken 7111 times"> + </span>]:<span class="lineCov">     790515 :       if (lhs &amp;&amp; TREE_CODE (lhs) == SSA_NAME)</span></a>
<a name="5542"><span class="lineNum">    5542 </span>                :            :         {</a>
<a name="5543"><span class="lineNum">    5543 </span>                :            :           /* Try constant folding based on our current lattice.  */</a>
<a name="5544"><span class="lineNum">    5544 </span>                :<span class="lineCov">     319222 :           tree simplified = gimple_fold_stmt_to_constant_1 (call_stmt,</span></a>
<a name="5545"><span class="lineNum">    5545 </span>                :            :                                                             vn_valueize);</a>
<a name="5546"><span class="lineNum">    5546 </span>        [<span class="branchCov" title="Branch 0 was taken 742 times"> + </span><span class="branchCov" title="Branch 1 was taken 318480 times"> + </span>]:<span class="lineCov">     319222 :           if (simplified)</span></a>
<a name="5547"><span class="lineNum">    5547 </span>                :            :             {</a>
<a name="5548"><span class="lineNum">    5548 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 742 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        742 :               if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 742 times"> + </span>]
<a name="5549"><span class="lineNum">    5549 </span>                :            :                 {</a>
<a name="5550"><span class="lineNum">    5550 </span>                :<span class="lineNoCov">          0 :                   fprintf (dump_file, &quot;call &quot;);</span></a>
<a name="5551"><span class="lineNum">    5551 </span>                :<span class="lineNoCov">          0 :                   print_gimple_expr (dump_file, call_stmt, 0);</span></a>
<a name="5552"><span class="lineNum">    5552 </span>                :<span class="lineNoCov">          0 :                   fprintf (dump_file, &quot; simplified to &quot;);</span></a>
<a name="5553"><span class="lineNum">    5553 </span>                :<span class="lineNoCov">          0 :                   print_generic_expr (dump_file, simplified);</span></a>
<a name="5554"><span class="lineNum">    5554 </span>                :<span class="lineNoCov">          0 :                   fprintf (dump_file, &quot;\n&quot;);</span></a>
<a name="5555"><span class="lineNum">    5555 </span>                :            :                 }</a>
<a name="5556"><span class="lineNum">    5556 </span>                :            :             }</a>
<a name="5557"><span class="lineNum">    5557 </span>                :            :           /* Setting value numbers to constants will occasionally</a>
<a name="5558"><span class="lineNum">    5558 </span>                :            :              screw up phi congruence because constants are not</a>
<a name="5559"><span class="lineNum">    5559 </span>                :            :              uniquely associated with a single ssa name that can be</a>
<a name="5560"><span class="lineNum">    5560 </span>                :            :              looked up.  */</a>
<a name="5561"><span class="lineNum">    5561 </span>                :<span class="lineCov">     319222 :           if (simplified</span></a>
<a name="5562"><span class="lineNum">    5562 </span>  [<span class="branchCov" title="Branch 0 was taken 742 times"> + </span><span class="branchCov" title="Branch 1 was taken 318480 times"> + </span><span class="branchCov" title="Branch 2 was taken 735 times"> + </span><span class="branchCov" title="Branch 3 was taken 7 times"> + </span> :<span class="lineCov">     319222 :               &amp;&amp; is_gimple_min_invariant (simplified))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 735 times"> + </span><span class="branchCov" title="Branch 5 was taken 318487 times"> + </span>]
<a name="5563"><span class="lineNum">    5563 </span>                :            :             {</a>
<a name="5564"><span class="lineNum">    5564 </span>                :<span class="lineCov">        735 :               changed = set_ssa_val_to (lhs, simplified);</span></a>
<a name="5565"><span class="lineNum">    5565 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 735 times"> + </span>]:<span class="lineCov">        735 :               if (gimple_vdef (call_stmt))</span></a>
<a name="5566"><span class="lineNum">    5566 </span>                :<span class="lineNoCov">          0 :                 changed |= set_ssa_val_to (gimple_vdef (call_stmt),</span></a>
<a name="5567"><span class="lineNum">    5567 </span>                :            :                                            SSA_VAL (gimple_vuse (call_stmt)));</a>
<a name="5568"><span class="lineNum">    5568 </span>                :<span class="lineCov">        735 :               goto done;</span></a>
<a name="5569"><span class="lineNum">    5569 </span>                :            :             }</a>
<a name="5570"><span class="lineNum">    5570 </span>        [<span class="branchCov" title="Branch 0 was taken 7 times"> + </span><span class="branchCov" title="Branch 1 was taken 318480 times"> + </span>]:<span class="lineCov">     318487 :           else if (simplified</span></a>
<a name="5571"><span class="lineNum">    5571 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 7 times"> + </span>]:<span class="lineCov">          7 :                    &amp;&amp; TREE_CODE (simplified) == SSA_NAME)</span></a>
<a name="5572"><span class="lineNum">    5572 </span>                :            :             {</a>
<a name="5573"><span class="lineNum">    5573 </span>                :<span class="lineNoCov">          0 :               changed = visit_copy (lhs, simplified);</span></a>
<a name="5574"><span class="lineNum">    5574 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :               if (gimple_vdef (call_stmt))</span></a>
<a name="5575"><span class="lineNum">    5575 </span>                :<span class="lineNoCov">          0 :                 changed |= set_ssa_val_to (gimple_vdef (call_stmt),</span></a>
<a name="5576"><span class="lineNum">    5576 </span>                :            :                                            SSA_VAL (gimple_vuse (call_stmt)));</a>
<a name="5577"><span class="lineNum">    5577 </span>                :<span class="lineNoCov">          0 :               goto done;</span></a>
<a name="5578"><span class="lineNum">    5578 </span>                :            :             }</a>
<a name="5579"><span class="lineNum">    5579 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 318487 times"> + </span>]:<span class="lineCov">     318487 :           else if (SSA_NAME_OCCURS_IN_ABNORMAL_PHI (lhs))</span></a>
<a name="5580"><span class="lineNum">    5580 </span>                :            :             {</a>
<a name="5581"><span class="lineNum">    5581 </span>                :<span class="lineNoCov">          0 :               changed = defs_to_varying (call_stmt);</span></a>
<a name="5582"><span class="lineNum">    5582 </span>                :<span class="lineNoCov">          0 :               goto done;</span></a>
<a name="5583"><span class="lineNum">    5583 </span>                :            :             }</a>
<a name="5584"><span class="lineNum">    5584 </span>                :            :         }</a>
<a name="5585"><span class="lineNum">    5585 </span>                :            : </a>
<a name="5586"><span class="lineNum">    5586 </span>                :            :       /* Pick up flags from a devirtualization target.  */</a>
<a name="5587"><span class="lineNum">    5587 </span>                :<span class="lineCov">     789780 :       tree fn = gimple_call_fn (stmt);</span></a>
<a name="5588"><span class="lineNum">    5588 </span>                :<span class="lineCov">     789780 :       int extra_fnflags = 0;</span></a>
<a name="5589"><span class="lineNum">    5589 </span>  [<span class="branchCov" title="Branch 0 was taken 785340 times"> + </span><span class="branchCov" title="Branch 1 was taken 4440 times"> + </span><span class="branchCov" title="Branch 2 was taken 26673 times"> + </span><span class="branchCov" title="Branch 3 was taken 758667 times"> + </span>]:<span class="lineCov">     789780 :       if (fn &amp;&amp; TREE_CODE (fn) == SSA_NAME)</span></a>
<a name="5590"><span class="lineNum">    5590 </span>                :            :         {</a>
<a name="5591"><span class="lineNum">    5591 </span>                :<span class="lineCov">      26673 :           fn = SSA_VAL (fn);</span></a>
<a name="5592"><span class="lineNum">    5592 </span>        [<span class="branchCov" title="Branch 0 was taken 24 times"> + </span><span class="branchCov" title="Branch 1 was taken 26649 times"> + </span>]:<span class="lineCov">      26673 :           if (TREE_CODE (fn) == ADDR_EXPR</span></a>
<a name="5593"><span class="lineNum">    5593 </span>        [<span class="branchCov" title="Branch 0 was taken 24 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">         24 :               &amp;&amp; TREE_CODE (TREE_OPERAND (fn, 0)) == FUNCTION_DECL)</span></a>
<a name="5594"><span class="lineNum">    5594 </span>                :<span class="lineCov">         24 :             extra_fnflags = flags_from_decl_or_type (TREE_OPERAND (fn, 0));</span></a>
<a name="5595"><span class="lineNum">    5595 </span>                :            :         }</a>
<a name="5596"><span class="lineNum">    5596 </span>                :<span class="lineCov">     789780 :       if (!gimple_call_internal_p (call_stmt)</span></a>
<a name="5597"><span class="lineNum">    5597 </span>  [<span class="branchCov" title="Branch 0 was taken 785340 times"> + </span><span class="branchCov" title="Branch 1 was taken 4440 times"> + </span><span class="branchCov" title="Branch 2 was taken 265893 times"> + </span><span class="branchCov" title="Branch 3 was taken 523887 times"> + </span>]:<span class="lineCov">    1575120 :           &amp;&amp; (/* Calls to the same function with the same vuse</span></a>
<a name="5598"><span class="lineNum">    5598 </span>                :            :                  and the same operands do not necessarily return the same</a>
<a name="5599"><span class="lineNum">    5599 </span>                :            :                  value, unless they're pure or const.  */</a>
<a name="5600"><span class="lineNum">    5600 </span>                :<span class="lineCov">     785340 :               ((gimple_call_flags (call_stmt) | extra_fnflags)</span></a>
<a name="5601"><span class="lineNum">    5601 </span>        [<span class="branchCov" title="Branch 0 was taken 690187 times"> + </span><span class="branchCov" title="Branch 1 was taken 95153 times"> + </span>]:<span class="lineCov">     785340 :                &amp; (ECF_PURE | ECF_CONST))</span></a>
<a name="5602"><span class="lineNum">    5602 </span>                :            :               /* If calls have a vdef, subsequent calls won't have</a>
<a name="5603"><span class="lineNum">    5603 </span>                :            :                  the same incoming vuse.  So, if 2 calls with vdef have the</a>
<a name="5604"><span class="lineNum">    5604 </span>                :            :                  same vuse, we know they're not subsequent.</a>
<a name="5605"><span class="lineNum">    5605 </span>                :            :                  We can value number 2 calls to the same function with the</a>
<a name="5606"><span class="lineNum">    5606 </span>                :            :                  same vuse and the same operands which are not subsequent</a>
<a name="5607"><span class="lineNum">    5607 </span>                :            :                  the same, because there is no code in the program that can</a>
<a name="5608"><span class="lineNum">    5608 </span>                :            :                  compare the 2 values...  */</a>
<a name="5609"><span class="lineNum">    5609 </span>        [<span class="branchCov" title="Branch 0 was taken 689951 times"> + </span><span class="branchCov" title="Branch 1 was taken 236 times"> + </span>]:<span class="lineCov">     690187 :               || (gimple_vdef (call_stmt)</span></a>
<a name="5610"><span class="lineNum">    5610 </span>                :            :                   /* ... unless the call returns a pointer which does</a>
<a name="5611"><span class="lineNum">    5611 </span>                :            :                      not alias with anything else.  In which case the</a>
<a name="5612"><span class="lineNum">    5612 </span>                :            :                      information that the values are distinct are encoded</a>
<a name="5613"><span class="lineNum">    5613 </span>                :            :                      in the IL.  */</a>
<a name="5614"><span class="lineNum">    5614 </span>        [<span class="branchCov" title="Branch 0 was taken 681862 times"> + </span><span class="branchCov" title="Branch 1 was taken 8089 times"> + </span>]:<span class="lineCov">     689951 :                   &amp;&amp; !(gimple_call_return_flags (call_stmt) &amp; ERF_NOALIAS)</span></a>
<a name="5615"><span class="lineNum">    5615 </span>                :            :                   /* Only perform the following when being called from PRE</a>
<a name="5616"><span class="lineNum">    5616 </span>                :            :                      which embeds tail merging.  */</a>
<a name="5617"><span class="lineNum">    5617 </span>        [<span class="branchCov" title="Branch 0 was taken 170740 times"> + </span><span class="branchCov" title="Branch 1 was taken 511122 times"> + </span>]:<span class="lineCov">     681862 :                   &amp;&amp; default_vn_walk_kind == VN_WALK)))</span></a>
<a name="5618"><span class="lineNum">    5618 </span>                :<span class="lineCov">     265893 :         changed = visit_reference_op_call (lhs, call_stmt);</span></a>
<a name="5619"><span class="lineNum">    5619 </span>                :            :       else</a>
<a name="5620"><span class="lineNum">    5620 </span>                :<span class="lineCov">     523887 :         changed = defs_to_varying (call_stmt);</span></a>
<a name="5621"><span class="lineNum">    5621 </span>                :            :     }</a>
<a name="5622"><span class="lineNum">    5622 </span>                :            :   else</a>
<a name="5623"><span class="lineNum">    5623 </span>                :<span class="lineCov">    9621340 :     changed = defs_to_varying (stmt);</span></a>
<a name="5624"><span class="lineNum">    5624 </span>                :<span class="lineCov">   15605700 :  done:</span></a>
<a name="5625"><span class="lineNum">    5625 </span>                :<span class="lineCov">   15605700 :   return changed;</span></a>
<a name="5626"><span class="lineNum">    5626 </span>                :            : }</a>
<a name="5627"><span class="lineNum">    5627 </span>                :            : </a>
<a name="5628"><span class="lineNum">    5628 </span>                :            : </a>
<a name="5629"><span class="lineNum">    5629 </span>                :            : /* Allocate a value number table.  */</a>
<a name="5630"><span class="lineNum">    5630 </span>                :            : </a>
<a name="5631"><span class="lineNum">    5631 </span>                :            : static void</a>
<a name="5632"><span class="lineNum">    5632 </span>                :<span class="lineCov">     264622 : allocate_vn_table (vn_tables_t table, unsigned size)</span></a>
<a name="5633"><span class="lineNum">    5633 </span>                :            : {</a>
<a name="5634"><span class="lineNum">    5634 </span>                :<span class="lineCov">     264622 :   table-&gt;phis = new vn_phi_table_type (size);</span></a>
<a name="5635"><span class="lineNum">    5635 </span>                :<span class="lineCov">     264622 :   table-&gt;nary = new vn_nary_op_table_type (size);</span></a>
<a name="5636"><span class="lineNum">    5636 </span>                :<span class="lineCov">     264622 :   table-&gt;references = new vn_reference_table_type (size);</span></a>
<a name="5637"><span class="lineNum">    5637 </span>                :<span class="lineCov">     264622 : }</span></a>
<a name="5638"><span class="lineNum">    5638 </span>                :            : </a>
<a name="5639"><span class="lineNum">    5639 </span>                :            : /* Free a value number table.  */</a>
<a name="5640"><span class="lineNum">    5640 </span>                :            : </a>
<a name="5641"><span class="lineNum">    5641 </span>                :            : static void</a>
<a name="5642"><span class="lineNum">    5642 </span>                :<span class="lineCov">     264622 : free_vn_table (vn_tables_t table)</span></a>
<a name="5643"><span class="lineNum">    5643 </span>                :            : {</a>
<a name="5644"><span class="lineNum">    5644 </span>                :            :   /* Walk over elements and release vectors.  */</a>
<a name="5645"><span class="lineNum">    5645 </span>                :<span class="lineCov">     264622 :   vn_reference_iterator_type hir;</span></a>
<a name="5646"><span class="lineNum">    5646 </span>                :            :   vn_reference_t vr;</a>
<a name="5647"><span class="lineNum">    5647 </span>  [<span class="branchCov" title="Branch 0 was taken 1633580 times"> + </span><span class="branchCov" title="Branch 1 was taken 264622 times"> + </span><span class="branchCov" title="Branch 2 was taken 1633580 times"> + </span><span class="branchCov" title="Branch 3 was taken 264622 times"> + </span>]:<span class="lineCov">    1898210 :   FOR_EACH_HASH_TABLE_ELEMENT (*table-&gt;references, vr, vn_reference_t, hir)</span></a>
<a name="5648"><span class="lineNum">    5648 </span>                :<span class="lineCov">    1633580 :     vr-&gt;operands.release ();</span></a>
<a name="5649"><span class="lineNum">    5649 </span>        [<span class="branchCov" title="Branch 0 was taken 264622 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     264622 :   delete table-&gt;phis;</span></a>
<a name="5650"><span class="lineNum">    5650 </span>                :<span class="lineCov">     264622 :   table-&gt;phis = NULL;</span></a>
<a name="5651"><span class="lineNum">    5651 </span>        [<span class="branchCov" title="Branch 0 was taken 264622 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     264622 :   delete table-&gt;nary;</span></a>
<a name="5652"><span class="lineNum">    5652 </span>                :<span class="lineCov">     264622 :   table-&gt;nary = NULL;</span></a>
<a name="5653"><span class="lineNum">    5653 </span>        [<span class="branchCov" title="Branch 0 was taken 264622 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     264622 :   delete table-&gt;references;</span></a>
<a name="5654"><span class="lineNum">    5654 </span>                :<span class="lineCov">     264622 :   table-&gt;references = NULL;</span></a>
<a name="5655"><span class="lineNum">    5655 </span>                :<span class="lineCov">     264622 : }</span></a>
<a name="5656"><span class="lineNum">    5656 </span>                :            : </a>
<a name="5657"><span class="lineNum">    5657 </span>                :            : /* Set *ID according to RESULT.  */</a>
<a name="5658"><span class="lineNum">    5658 </span>                :            : </a>
<a name="5659"><span class="lineNum">    5659 </span>                :            : static void</a>
<a name="5660"><span class="lineNum">    5660 </span>                :<span class="lineCov">    1065440 : set_value_id_for_result (tree result, unsigned int *id)</span></a>
<a name="5661"><span class="lineNum">    5661 </span>                :            : {</a>
<a name="5662"><span class="lineNum">    5662 </span>  [<span class="branchCov" title="Branch 0 was taken 964472 times"> + </span><span class="branchCov" title="Branch 1 was taken 100964 times"> + </span><span class="branchCov" title="Branch 2 was taken 756351 times"> + </span><span class="branchCov" title="Branch 3 was taken 208121 times"> + </span>]:<span class="lineCov">    1065440 :   if (result &amp;&amp; TREE_CODE (result) == SSA_NAME)</span></a>
<a name="5663"><span class="lineNum">    5663 </span>                :<span class="lineCov">     756351 :     *id = VN_INFO (result)-&gt;value_id;</span></a>
<a name="5664"><span class="lineNum">    5664 </span>  [<span class="branchCov" title="Branch 0 was taken 208121 times"> + </span><span class="branchCov" title="Branch 1 was taken 100964 times"> + </span><span class="branchCov" title="Branch 2 was taken 82290 times"> + </span><span class="branchCov" title="Branch 3 was taken 125831 times"> + </span> :<span class="lineCov">     309085 :   else if (result &amp;&amp; is_gimple_min_invariant (result))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 82290 times"> + </span><span class="branchCov" title="Branch 5 was taken 226795 times"> + </span>]
<a name="5665"><span class="lineNum">    5665 </span>                :<span class="lineCov">      82290 :     *id = get_or_alloc_constant_value_id (result);</span></a>
<a name="5666"><span class="lineNum">    5666 </span>                :            :   else</a>
<a name="5667"><span class="lineNum">    5667 </span>                :<span class="lineCov">     226795 :     *id = get_next_value_id ();</span></a>
<a name="5668"><span class="lineNum">    5668 </span>                :<span class="lineCov">    1065440 : }</span></a>
<a name="5669"><span class="lineNum">    5669 </span>                :            : </a>
<a name="5670"><span class="lineNum">    5670 </span>                :            : /* Set the value ids in the valid hash tables.  */</a>
<a name="5671"><span class="lineNum">    5671 </span>                :            : </a>
<a name="5672"><span class="lineNum">    5672 </span>                :            : static void</a>
<a name="5673"><span class="lineNum">    5673 </span>                :<span class="lineCov">      53238 : set_hashtable_value_ids (void)</span></a>
<a name="5674"><span class="lineNum">    5674 </span>                :            : {</a>
<a name="5675"><span class="lineNum">    5675 </span>                :<span class="lineCov">      53238 :   vn_nary_op_iterator_type hin;</span></a>
<a name="5676"><span class="lineNum">    5676 </span>                :<span class="lineCov">      53238 :   vn_phi_iterator_type hip;</span></a>
<a name="5677"><span class="lineNum">    5677 </span>                :<span class="lineCov">      53238 :   vn_reference_iterator_type hir;</span></a>
<a name="5678"><span class="lineNum">    5678 </span>                :            :   vn_nary_op_t vno;</a>
<a name="5679"><span class="lineNum">    5679 </span>                :            :   vn_reference_t vr;</a>
<a name="5680"><span class="lineNum">    5680 </span>                :            :   vn_phi_t vp;</a>
<a name="5681"><span class="lineNum">    5681 </span>                :            : </a>
<a name="5682"><span class="lineNum">    5682 </span>                :            :   /* Now set the value ids of the things we had put in the hash</a>
<a name="5683"><span class="lineNum">    5683 </span>                :            :      table.  */</a>
<a name="5684"><span class="lineNum">    5684 </span>                :            : </a>
<a name="5685"><span class="lineNum">    5685 </span>  [<span class="branchCov" title="Branch 0 was taken 1262080 times"> + </span><span class="branchCov" title="Branch 1 was taken 53238 times"> + </span><span class="branchCov" title="Branch 2 was taken 1262080 times"> + </span><span class="branchCov" title="Branch 3 was taken 53238 times"> + </span>]:<span class="lineCov">    1315320 :   FOR_EACH_HASH_TABLE_ELEMENT (*valid_info-&gt;nary, vno, vn_nary_op_t, hin)</span></a>
<a name="5686"><span class="lineNum">    5686 </span>        [<span class="branchCov" title="Branch 0 was taken 364567 times"> + </span><span class="branchCov" title="Branch 1 was taken 897517 times"> + </span>]:<span class="lineCov">    1262080 :     if (! vno-&gt;predicated_values)</span></a>
<a name="5687"><span class="lineNum">    5687 </span>                :<span class="lineCov">     364567 :       set_value_id_for_result (vno-&gt;u.result, &amp;vno-&gt;value_id);</span></a>
<a name="5688"><span class="lineNum">    5688 </span>                :            : </a>
<a name="5689"><span class="lineNum">    5689 </span>  [<span class="branchCov" title="Branch 0 was taken 129995 times"> + </span><span class="branchCov" title="Branch 1 was taken 53238 times"> + </span><span class="branchCov" title="Branch 2 was taken 129995 times"> + </span><span class="branchCov" title="Branch 3 was taken 53238 times"> + </span>]:<span class="lineCov">     183233 :   FOR_EACH_HASH_TABLE_ELEMENT (*valid_info-&gt;phis, vp, vn_phi_t, hip)</span></a>
<a name="5690"><span class="lineNum">    5690 </span>                :<span class="lineCov">     129995 :     set_value_id_for_result (vp-&gt;result, &amp;vp-&gt;value_id);</span></a>
<a name="5691"><span class="lineNum">    5691 </span>                :            : </a>
<a name="5692"><span class="lineNum">    5692 </span>  [<span class="branchCov" title="Branch 0 was taken 570874 times"> + </span><span class="branchCov" title="Branch 1 was taken 53238 times"> + </span><span class="branchCov" title="Branch 2 was taken 570874 times"> + </span><span class="branchCov" title="Branch 3 was taken 53238 times"> + </span>]:<span class="lineCov">     624112 :   FOR_EACH_HASH_TABLE_ELEMENT (*valid_info-&gt;references, vr, vn_reference_t,</span></a>
<a name="5693"><span class="lineNum">    5693 </span>                :            :                                hir)</a>
<a name="5694"><span class="lineNum">    5694 </span>                :<span class="lineCov">     570874 :     set_value_id_for_result (vr-&gt;result, &amp;vr-&gt;value_id);</span></a>
<a name="5695"><span class="lineNum">    5695 </span>                :<span class="lineCov">      53238 : }</span></a>
<a name="5696"><span class="lineNum">    5696 </span>                :            : </a>
<a name="5697"><span class="lineNum">    5697 </span>                :            : /* Return the maximum value id we have ever seen.  */</a>
<a name="5698"><span class="lineNum">    5698 </span>                :            : </a>
<a name="5699"><span class="lineNum">    5699 </span>                :            : unsigned int</a>
<a name="5700"><span class="lineNum">    5700 </span>                :<span class="lineCov">     106476 : get_max_value_id (void)</span></a>
<a name="5701"><span class="lineNum">    5701 </span>                :            : {</a>
<a name="5702"><span class="lineNum">    5702 </span>                :<span class="lineCov">     106476 :   return next_value_id;</span></a>
<a name="5703"><span class="lineNum">    5703 </span>                :            : }</a>
<a name="5704"><span class="lineNum">    5704 </span>                :            : </a>
<a name="5705"><span class="lineNum">    5705 </span>                :            : /* Return the maximum constant value id we have ever seen.  */</a>
<a name="5706"><span class="lineNum">    5706 </span>                :            : </a>
<a name="5707"><span class="lineNum">    5707 </span>                :            : unsigned int</a>
<a name="5708"><span class="lineNum">    5708 </span>                :<span class="lineCov">     106476 : get_max_constant_value_id (void)</span></a>
<a name="5709"><span class="lineNum">    5709 </span>                :            : {</a>
<a name="5710"><span class="lineNum">    5710 </span>                :<span class="lineCov">     106476 :   return -next_constant_value_id;</span></a>
<a name="5711"><span class="lineNum">    5711 </span>                :            : }</a>
<a name="5712"><span class="lineNum">    5712 </span>                :            : </a>
<a name="5713"><span class="lineNum">    5713 </span>                :            : /* Return the next unique value id.  */</a>
<a name="5714"><span class="lineNum">    5714 </span>                :            : </a>
<a name="5715"><span class="lineNum">    5715 </span>                :            : unsigned int</a>
<a name="5716"><span class="lineNum">    5716 </span>                :<span class="lineCov">    1640510 : get_next_value_id (void)</span></a>
<a name="5717"><span class="lineNum">    5717 </span>                :            : {</a>
<a name="5718"><span class="lineNum">    5718 </span>                :            :   gcc_checking_assert ((int)next_value_id &gt; 0);</a>
<a name="5719"><span class="lineNum">    5719 </span>                :<span class="lineCov">    1640510 :   return next_value_id++;</span></a>
<a name="5720"><span class="lineNum">    5720 </span>                :            : }</a>
<a name="5721"><span class="lineNum">    5721 </span>                :            : </a>
<a name="5722"><span class="lineNum">    5722 </span>                :            : /* Return the next unique value id for constants.  */</a>
<a name="5723"><span class="lineNum">    5723 </span>                :            : </a>
<a name="5724"><span class="lineNum">    5724 </span>                :            : unsigned int</a>
<a name="5725"><span class="lineNum">    5725 </span>                :<span class="lineCov">      73281 : get_next_constant_value_id (void)</span></a>
<a name="5726"><span class="lineNum">    5726 </span>                :            : {</a>
<a name="5727"><span class="lineNum">    5727 </span>                :            :   gcc_checking_assert (next_constant_value_id &lt; 0);</a>
<a name="5728"><span class="lineNum">    5728 </span>                :<span class="lineCov">      73281 :   return next_constant_value_id--;</span></a>
<a name="5729"><span class="lineNum">    5729 </span>                :            : }</a>
<a name="5730"><span class="lineNum">    5730 </span>                :            : </a>
<a name="5731"><span class="lineNum">    5731 </span>                :            : </a>
<a name="5732"><span class="lineNum">    5732 </span>                :            : /* Compare two expressions E1 and E2 and return true if they are equal.  */</a>
<a name="5733"><span class="lineNum">    5733 </span>                :            : </a>
<a name="5734"><span class="lineNum">    5734 </span>                :            : bool</a>
<a name="5735"><span class="lineNum">    5735 </span>                :<span class="lineCov">   15724200 : expressions_equal_p (tree e1, tree e2)</span></a>
<a name="5736"><span class="lineNum">    5736 </span>                :            : {</a>
<a name="5737"><span class="lineNum">    5737 </span>                :            :   /* The obvious case.  */</a>
<a name="5738"><span class="lineNum">    5738 </span>        [<span class="branchCov" title="Branch 0 was taken 12294300 times"> + </span><span class="branchCov" title="Branch 1 was taken 3429980 times"> + </span>]:<span class="lineCov">   15724200 :   if (e1 == e2)</span></a>
<a name="5739"><span class="lineNum">    5739 </span>                :<span class="lineCov">   12294300 :     return true;</span></a>
<a name="5740"><span class="lineNum">    5740 </span>                :            : </a>
<a name="5741"><span class="lineNum">    5741 </span>                :            :   /* If either one is VN_TOP consider them equal.  */</a>
<a name="5742"><span class="lineNum">    5742 </span>  [<span class="branchCov" title="Branch 0 was taken 3429980 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 3429980 times"> + </span>]:<span class="lineCov">    3429980 :   if (e1 == VN_TOP || e2 == VN_TOP)</span></a>
<a name="5743"><span class="lineNum">    5743 </span>                :<span class="lineNoCov">          0 :     return true;</span></a>
<a name="5744"><span class="lineNum">    5744 </span>                :            : </a>
<a name="5745"><span class="lineNum">    5745 </span>                :            :   /* SSA_NAME compare pointer equal.  */</a>
<a name="5746"><span class="lineNum">    5746 </span>  [<span class="branchCov" title="Branch 0 was taken 2593420 times"> + </span><span class="branchCov" title="Branch 1 was taken 836568 times"> + </span><span class="branchCov" title="Branch 2 was taken 112975 times"> + </span><span class="branchCov" title="Branch 3 was taken 2480440 times"> + </span>]:<span class="lineCov">    3429980 :   if (TREE_CODE (e1) == SSA_NAME || TREE_CODE (e2) == SSA_NAME)</span></a>
<a name="5747"><span class="lineNum">    5747 </span>                :<span class="lineCov">     949543 :     return false;</span></a>
<a name="5748"><span class="lineNum">    5748 </span>                :            : </a>
<a name="5749"><span class="lineNum">    5749 </span>                :            :   /* Now perform the actual comparison.  */</a>
<a name="5750"><span class="lineNum">    5750 </span>                :<span class="lineCov">    4960880 :   if (TREE_CODE (e1) == TREE_CODE (e2)</span></a>
<a name="5751"><span class="lineNum">    5751 </span>  [<span class="branchCov" title="Branch 0 was taken 2479930 times"> + </span><span class="branchCov" title="Branch 1 was taken 514 times"> + </span><span class="branchCov" title="Branch 2 was taken 75657 times"> + </span><span class="branchCov" title="Branch 3 was taken 2404270 times"> + </span> :<span class="lineCov">    2480440 :       &amp;&amp; operand_equal_p (e1, e2, OEP_PURE_SAME))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 75657 times"> + </span><span class="branchCov" title="Branch 5 was taken 2404780 times"> + </span>]
<a name="5752"><span class="lineNum">    5752 </span>                :<span class="lineCov">      75657 :     return true;</span></a>
<a name="5753"><span class="lineNum">    5753 </span>                :            : </a>
<a name="5754"><span class="lineNum">    5754 </span>                :<span class="lineCov">    2404780 :   return false;</span></a>
<a name="5755"><span class="lineNum">    5755 </span>                :            : }</a>
<a name="5756"><span class="lineNum">    5756 </span>                :            : </a>
<a name="5757"><span class="lineNum">    5757 </span>                :            : </a>
<a name="5758"><span class="lineNum">    5758 </span>                :            : /* Return true if the nary operation NARY may trap.  This is a copy</a>
<a name="5759"><span class="lineNum">    5759 </span>                :            :    of stmt_could_throw_1_p adjusted to the SCCVN IL.  */</a>
<a name="5760"><span class="lineNum">    5760 </span>                :            : </a>
<a name="5761"><span class="lineNum">    5761 </span>                :            : bool</a>
<a name="5762"><span class="lineNum">    5762 </span>                :<span class="lineCov">     101101 : vn_nary_may_trap (vn_nary_op_t nary)</span></a>
<a name="5763"><span class="lineNum">    5763 </span>                :            : {</a>
<a name="5764"><span class="lineNum">    5764 </span>                :            :   tree type;</a>
<a name="5765"><span class="lineNum">    5765 </span>                :<span class="lineCov">     101101 :   tree rhs2 = NULL_TREE;</span></a>
<a name="5766"><span class="lineNum">    5766 </span>                :<span class="lineCov">     101101 :   bool honor_nans = false;</span></a>
<a name="5767"><span class="lineNum">    5767 </span>                :<span class="lineCov">     101101 :   bool honor_snans = false;</span></a>
<a name="5768"><span class="lineNum">    5768 </span>                :<span class="lineCov">     101101 :   bool fp_operation = false;</span></a>
<a name="5769"><span class="lineNum">    5769 </span>                :<span class="lineCov">     101101 :   bool honor_trapv = false;</span></a>
<a name="5770"><span class="lineNum">    5770 </span>                :            :   bool handled, ret;</a>
<a name="5771"><span class="lineNum">    5771 </span>                :            :   unsigned i;</a>
<a name="5772"><span class="lineNum">    5772 </span>                :            : </a>
<a name="5773"><span class="lineNum">    5773 </span>        [<span class="branchCov" title="Branch 0 was taken 93991 times"> + </span><span class="branchCov" title="Branch 1 was taken 7110 times"> + </span>]:<span class="lineCov">     101101 :   if (TREE_CODE_CLASS (nary-&gt;opcode) == tcc_comparison</span></a>
<a name="5774"><span class="lineNum">    5774 </span>        [<span class="branchCov" title="Branch 0 was taken 53064 times"> + </span><span class="branchCov" title="Branch 1 was taken 40927 times"> + </span>]:<span class="lineCov">      93991 :       || TREE_CODE_CLASS (nary-&gt;opcode) == tcc_unary</span></a>
<a name="5775"><span class="lineNum">    5775 </span>        [<span class="branchCov" title="Branch 0 was taken 51614 times"> + </span><span class="branchCov" title="Branch 1 was taken 1450 times"> + </span>]:<span class="lineCov">      53064 :       || TREE_CODE_CLASS (nary-&gt;opcode) == tcc_binary)</span></a>
<a name="5776"><span class="lineNum">    5776 </span>                :            :     {</a>
<a name="5777"><span class="lineNum">    5777 </span>                :<span class="lineCov">      99651 :       type = nary-&gt;type;</span></a>
<a name="5778"><span class="lineNum">    5778 </span>  [<span class="branchCov" title="Branch 0 was taken 96942 times"> + </span><span class="branchCov" title="Branch 1 was taken 2709 times"> + </span><span class="branchCov" title="Branch 2 was taken 96684 times"> + </span><span class="branchCov" title="Branch 3 was taken 258 times"> + </span> :<span class="lineCov">      99651 :       fp_operation = FLOAT_TYPE_P (type);</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 4 times"> + </span><span class="branchCov" title="Branch 5 was taken 96680 times"> + </span><span class="branchCov" title="Branch 6 was taken 147 times"> + </span><span class="branchCov" title="Branch 7 was taken 115 times"> + </span>]
<a name="5779"><span class="lineNum">    5779 </span>        [<span class="branchCov" title="Branch 0 was taken 2856 times"> + </span><span class="branchCov" title="Branch 1 was taken 96795 times"> + </span>]:<span class="lineCov">      99651 :       if (fp_operation)</span></a>
<a name="5780"><span class="lineNum">    5780 </span>                :            :         {</a>
<a name="5781"><span class="lineNum">    5781 </span>  [<span class="branchCov" title="Branch 0 was taken 2856 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 2856 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">       2856 :           honor_nans = flag_trapping_math &amp;&amp; !flag_finite_math_only;</span></a>
<a name="5782"><span class="lineNum">    5782 </span>                :<span class="lineCov">       2856 :           honor_snans = flag_signaling_nans != 0;</span></a>
<a name="5783"><span class="lineNum">    5783 </span>                :            :         }</a>
<a name="5784"><span class="lineNum">    5784 </span>  [<span class="branchCov" title="Branch 0 was taken 96428 times"> + </span><span class="branchCov" title="Branch 1 was taken 367 times"> + </span><span class="branchCov" title="Branch 2 was taken 86435 times"> + </span><span class="branchCov" title="Branch 3 was taken 9993 times"> + </span> :<span class="lineCov">      96795 :       else if (INTEGRAL_TYPE_P (type) &amp;&amp; TYPE_OVERFLOW_TRAPS (type))</span></a>
<span class="lineNum">         </span><span class="branchCov" title="Branch 4 was taken 72246 times"> + </span><span class="branchCov" title="Branch 5 was taken 14189 times"> + </span><span class="branchCov" title="Branch 6 was taken 20730 times"> + </span><span class="branchCov" title="Branch 7 was taken 61876 times"> + </span><span class="branchNoCov" title="Branch 8 was not taken"> - </span> 
<span class="lineNum">         </span>            <span class="branchCov" title="Branch 9 was taken 20730 times"> + </span>]
<a name="5785"><span class="lineNum">    5785 </span>                :<span class="lineNoCov">          0 :         honor_trapv = true;</span></a>
<a name="5786"><span class="lineNum">    5786 </span>                :            :     }</a>
<a name="5787"><span class="lineNum">    5787 </span>        [<span class="branchCov" title="Branch 0 was taken 59065 times"> + </span><span class="branchCov" title="Branch 1 was taken 42036 times"> + </span>]:<span class="lineCov">     101101 :   if (nary-&gt;length &gt;= 2)</span></a>
<a name="5788"><span class="lineNum">    5788 </span>                :<span class="lineCov">      59065 :     rhs2 = nary-&gt;op[1];</span></a>
<a name="5789"><span class="lineNum">    5789 </span>                :<span class="lineCov">     101101 :   ret = operation_could_trap_helper_p (nary-&gt;opcode, fp_operation,</span></a>
<a name="5790"><span class="lineNum">    5790 </span>                :            :                                        honor_trapv, honor_nans, honor_snans,</a>
<a name="5791"><span class="lineNum">    5791 </span>                :            :                                        rhs2, &amp;handled);</a>
<a name="5792"><span class="lineNum">    5792 </span>  [<span class="branchCov" title="Branch 0 was taken 34780 times"> + </span><span class="branchCov" title="Branch 1 was taken 66321 times"> + </span><span class="branchCov" title="Branch 2 was taken 3027 times"> + </span><span class="branchCov" title="Branch 3 was taken 31753 times"> + </span>]:<span class="lineCov">     101101 :   if (handled &amp;&amp; ret)</span></a>
<a name="5793"><span class="lineNum">    5793 </span>                :<span class="lineCov">       3027 :     return true;</span></a>
<a name="5794"><span class="lineNum">    5794 </span>                :            : </a>
<a name="5795"><span class="lineNum">    5795 </span>        [<span class="branchCov" title="Branch 0 was taken 154997 times"> + </span><span class="branchCov" title="Branch 1 was taken 98074 times"> + </span>]:<span class="lineCov">     253071 :   for (i = 0; i &lt; nary-&gt;length; ++i)</span></a>
<a name="5796"><span class="lineNum">    5796 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 154997 times"> + </span>]:<span class="lineCov">     154997 :     if (tree_could_trap_p (nary-&gt;op[i]))</span></a>
<a name="5797"><span class="lineNum">    5797 </span>                :<span class="lineNoCov">          0 :       return true;</span></a>
<a name="5798"><span class="lineNum">    5798 </span>                :            : </a>
<a name="5799"><span class="lineNum">    5799 </span>                :<span class="lineCov">      98074 :   return false;</span></a>
<a name="5800"><span class="lineNum">    5800 </span>                :            : }</a>
<a name="5801"><span class="lineNum">    5801 </span>                :            : </a>
<a name="5802"><span class="lineNum">    5802 </span>                :            : /* Return true if the reference operation REF may trap.  */</a>
<a name="5803"><span class="lineNum">    5803 </span>                :            : </a>
<a name="5804"><span class="lineNum">    5804 </span>                :            : bool</a>
<a name="5805"><span class="lineNum">    5805 </span>                :<span class="lineCov">      24487 : vn_reference_may_trap (vn_reference_t ref)</span></a>
<a name="5806"><span class="lineNum">    5806 </span>                :            : {</a>
<a name="5807"><span class="lineNum">    5807 </span>        [<span class="branchCov" title="Branch 0 was taken 2142 times"> + </span><span class="branchCov" title="Branch 1 was taken 22345 times"> + </span>]:<span class="lineCov">      24487 :   switch (ref-&gt;operands[0].opcode)</span></a>
<a name="5808"><span class="lineNum">    5808 </span>                :            :     {</a>
<a name="5809"><span class="lineNum">    5809 </span>                :<span class="lineCov">       2142 :     case MODIFY_EXPR:</span></a>
<a name="5810"><span class="lineNum">    5810 </span>                :            :     case CALL_EXPR:</a>
<a name="5811"><span class="lineNum">    5811 </span>                :            :       /* We do not handle calls.  */</a>
<a name="5812"><span class="lineNum">    5812 </span>                :            :     case ADDR_EXPR:</a>
<a name="5813"><span class="lineNum">    5813 </span>                :            :       /* And toplevel address computations never trap.  */</a>
<a name="5814"><span class="lineNum">    5814 </span>                :<span class="lineCov">       2142 :       return false;</span></a>
<a name="5815"><span class="lineNum">    5815 </span>                :<span class="lineCov">      22345 :     default:;</span></a>
<a name="5816"><span class="lineNum">    5816 </span>                :            :     }</a>
<a name="5817"><span class="lineNum">    5817 </span>                :            : </a>
<a name="5818"><span class="lineNum">    5818 </span>                :            :   vn_reference_op_t op;</a>
<a name="5819"><span class="lineNum">    5819 </span>                :            :   unsigned i;</a>
<a name="5820"><span class="lineNum">    5820 </span>        [<span class="branchCov" title="Branch 0 was taken 59608 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      59608 :   FOR_EACH_VEC_ELT (ref-&gt;operands, i, op)</span></a>
<a name="5821"><span class="lineNum">    5821 </span>                :            :     {</a>
<a name="5822"><span class="lineNum">    5822 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 14312 times"> + </span><span class="branchCov" title="Branch 2 was taken 624 times"> + </span><span class="branchCov" title="Branch 3 was taken 22116 times"> + </span> :<span class="lineCov">      59608 :       switch (op-&gt;opcode)</span></a>
<span class="lineNum">         </span>      <span class="branchCov" title="Branch 4 was taken 10798 times"> + </span><span class="branchCov" title="Branch 5 was taken 11318 times"> + </span><span class="branchCov" title="Branch 6 was taken 440 times"> + </span>]
<a name="5823"><span class="lineNum">    5823 </span>                :            :         {</a>
<a name="5824"><span class="lineNum">    5824 </span>                :<span class="lineNoCov">          0 :         case WITH_SIZE_EXPR:</span></a>
<a name="5825"><span class="lineNum">    5825 </span>                :            :         case TARGET_MEM_REF:</a>
<a name="5826"><span class="lineNum">    5826 </span>                :            :           /* Always variable.  */</a>
<a name="5827"><span class="lineNum">    5827 </span>                :<span class="lineNoCov">          0 :           return true;</span></a>
<a name="5828"><span class="lineNum">    5828 </span>                :<span class="lineCov">      14312 :         case COMPONENT_REF:</span></a>
<a name="5829"><span class="lineNum">    5829 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 14312 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">      14312 :           if (op-&gt;op1 &amp;&amp; TREE_CODE (op-&gt;op1) == SSA_NAME)</span></a>
<a name="5830"><span class="lineNum">    5830 </span>                :<span class="lineNoCov">          0 :             return true;</span></a>
<a name="5831"><span class="lineNum">    5831 </span>                :<span class="lineCov">      14312 :           break;</span></a>
<a name="5832"><span class="lineNum">    5832 </span>                :<span class="lineCov">        624 :         case ARRAY_RANGE_REF:</span></a>
<a name="5833"><span class="lineNum">    5833 </span>                :            :         case ARRAY_REF:</a>
<a name="5834"><span class="lineNum">    5834 </span>        [<span class="branchCov" title="Branch 0 was taken 229 times"> + </span><span class="branchCov" title="Branch 1 was taken 395 times"> + </span>]:<span class="lineCov">        624 :           if (TREE_CODE (op-&gt;op0) == SSA_NAME)</span></a>
<a name="5835"><span class="lineNum">    5835 </span>                :<span class="lineCov">        229 :             return true;</span></a>
<a name="5836"><span class="lineNum">    5836 </span>                :<span class="lineCov">        395 :           break;</span></a>
<a name="5837"><span class="lineNum">    5837 </span>                :<span class="lineCov">      22116 :         case MEM_REF:</span></a>
<a name="5838"><span class="lineNum">    5838 </span>                :            :           /* Nothing interesting in itself, the base is separate.  */</a>
<a name="5839"><span class="lineNum">    5839 </span>                :<span class="lineCov">      22116 :           break;</span></a>
<a name="5840"><span class="lineNum">    5840 </span>                :            :         /* The following are the address bases.  */</a>
<a name="5841"><span class="lineNum">    5841 </span>                :<span class="lineCov">      10798 :         case SSA_NAME:</span></a>
<a name="5842"><span class="lineNum">    5842 </span>                :<span class="lineCov">      10798 :           return true;</span></a>
<a name="5843"><span class="lineNum">    5843 </span>                :<span class="lineCov">      11318 :         case ADDR_EXPR:</span></a>
<a name="5844"><span class="lineNum">    5844 </span>        [<span class="branchCov" title="Branch 0 was taken 11318 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      11318 :           if (op-&gt;op0)</span></a>
<a name="5845"><span class="lineNum">    5845 </span>                :<span class="lineCov">      11318 :             return tree_could_trap_p (TREE_OPERAND (op-&gt;op0, 0));</span></a>
<a name="5846"><span class="lineNum">    5846 </span>                :<span class="lineNoCov">          0 :           return false;</span></a>
<a name="5847"><span class="lineNum">    5847 </span>                :<span class="lineCov">      37263 :         default:;</span></a>
<a name="5848"><span class="lineNum">    5848 </span>                :            :         }</a>
<a name="5849"><span class="lineNum">    5849 </span>                :            :     }</a>
<a name="5850"><span class="lineNum">    5850 </span>                :<span class="lineNoCov">          0 :   return false;</span></a>
<a name="5851"><span class="lineNum">    5851 </span>                :            : }</a>
<a name="5852"><span class="lineNum">    5852 </span>                :            : </a>
<a name="5853"><span class="lineNum">    5853 </span>                :<span class="lineCov">     450292 : eliminate_dom_walker::eliminate_dom_walker (cdi_direction direction,</span></a>
<a name="5854"><span class="lineNum">    5854 </span>                :<span class="lineCov">     450292 :                                             bitmap inserted_exprs_)</span></a>
<a name="5855"><span class="lineNum">    5855 </span>                :<span class="lineCov">     450292 :   : dom_walker (direction), do_pre (inserted_exprs_ != NULL),</span></a>
<a name="5856"><span class="lineNum">    5856 </span>                :            :     el_todo (0), eliminations (0), insertions (0),</a>
<a name="5857"><span class="lineNum">    5857 </span>                :<span class="lineCov">     450292 :     inserted_exprs (inserted_exprs_)</span></a>
<a name="5858"><span class="lineNum">    5858 </span>                :            : {</a>
<a name="5859"><span class="lineNum">    5859 </span>                :<span class="lineCov">     450292 :   need_eh_cleanup = BITMAP_ALLOC (NULL);</span></a>
<a name="5860"><span class="lineNum">    5860 </span>                :<span class="lineCov">     450292 :   need_ab_cleanup = BITMAP_ALLOC (NULL);</span></a>
<a name="5861"><span class="lineNum">    5861 </span>                :<span class="lineCov">     450292 : }</span></a>
<a name="5862"><span class="lineNum">    5862 </span>                :            : </a>
<a name="5863"><span class="lineNum">    5863 </span>                :<span class="lineCov">     450292 : eliminate_dom_walker::~eliminate_dom_walker ()</span></a>
<a name="5864"><span class="lineNum">    5864 </span>                :            : {</a>
<a name="5865"><span class="lineNum">    5865 </span>                :<span class="lineCov">     450292 :   BITMAP_FREE (need_eh_cleanup);</span></a>
<a name="5866"><span class="lineNum">    5866 </span>                :<span class="lineCov">     450292 :   BITMAP_FREE (need_ab_cleanup);</span></a>
<a name="5867"><span class="lineNum">    5867 </span>                :<span class="lineCov">     450292 : }</span></a>
<a name="5868"><span class="lineNum">    5868 </span>                :            : </a>
<a name="5869"><span class="lineNum">    5869 </span>                :            : /* Return a leader for OP that is available at the current point of the</a>
<a name="5870"><span class="lineNum">    5870 </span>                :            :    eliminate domwalk.  */</a>
<a name="5871"><span class="lineNum">    5871 </span>                :            : </a>
<a name="5872"><span class="lineNum">    5872 </span>                :            : tree</a>
<a name="5873"><span class="lineNum">    5873 </span>                :<span class="lineCov">    7734550 : eliminate_dom_walker::eliminate_avail (basic_block, tree op)</span></a>
<a name="5874"><span class="lineNum">    5874 </span>                :            : {</a>
<a name="5875"><span class="lineNum">    5875 </span>                :<span class="lineCov">    7734550 :   tree valnum = VN_INFO (op)-&gt;valnum;</span></a>
<a name="5876"><span class="lineNum">    5876 </span>        [<span class="branchCov" title="Branch 0 was taken 7672620 times"> + </span><span class="branchCov" title="Branch 1 was taken 61935 times"> + </span>]:<span class="lineCov">    7734550 :   if (TREE_CODE (valnum) == SSA_NAME)</span></a>
<a name="5877"><span class="lineNum">    5877 </span>                :            :     {</a>
<a name="5878"><span class="lineNum">    5878 </span>        [<span class="branchCov" title="Branch 0 was taken 775996 times"> + </span><span class="branchCov" title="Branch 1 was taken 6896620 times"> + </span>]:<span class="lineCov">    7672620 :       if (SSA_NAME_IS_DEFAULT_DEF (valnum))</span></a>
<a name="5879"><span class="lineNum">    5879 </span>                :<span class="lineCov">     775996 :         return valnum;</span></a>
<a name="5880"><span class="lineNum">    5880 </span>        [<span class="branchCov" title="Branch 0 was taken 6176700 times"> + </span><span class="branchCov" title="Branch 1 was taken 719924 times"> + </span>]:<span class="lineCov">    6896620 :       if (avail.length () &gt; SSA_NAME_VERSION (valnum))</span></a>
<a name="5881"><span class="lineNum">    5881 </span>                :<span class="lineCov">    6176700 :         return avail[SSA_NAME_VERSION (valnum)];</span></a>
<a name="5882"><span class="lineNum">    5882 </span>                :            :     }</a>
<a name="5883"><span class="lineNum">    5883 </span>        [<span class="branchCov" title="Branch 0 was taken 61935 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      61935 :   else if (is_gimple_min_invariant (valnum))</span></a>
<a name="5884"><span class="lineNum">    5884 </span>                :<span class="lineCov">      61935 :     return valnum;</span></a>
<a name="5885"><span class="lineNum">    5885 </span>                :<span class="lineCov">     719924 :   return NULL_TREE;</span></a>
<a name="5886"><span class="lineNum">    5886 </span>                :            : }</a>
<a name="5887"><span class="lineNum">    5887 </span>                :            : </a>
<a name="5888"><span class="lineNum">    5888 </span>                :            : /* At the current point of the eliminate domwalk make OP available.  */</a>
<a name="5889"><span class="lineNum">    5889 </span>                :            : </a>
<a name="5890"><span class="lineNum">    5890 </span>                :            : void</a>
<a name="5891"><span class="lineNum">    5891 </span>                :<span class="lineCov">    2083560 : eliminate_dom_walker::eliminate_push_avail (basic_block, tree op)</span></a>
<a name="5892"><span class="lineNum">    5892 </span>                :            : {</a>
<a name="5893"><span class="lineNum">    5893 </span>                :<span class="lineCov">    2083560 :   tree valnum = VN_INFO (op)-&gt;valnum;</span></a>
<a name="5894"><span class="lineNum">    5894 </span>        [<span class="branchCov" title="Branch 0 was taken 2083560 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">    2083560 :   if (TREE_CODE (valnum) == SSA_NAME)</span></a>
<a name="5895"><span class="lineNum">    5895 </span>                :            :     {</a>
<a name="5896"><span class="lineNum">    5896 </span>        [<span class="branchCov" title="Branch 0 was taken 746893 times"> + </span><span class="branchCov" title="Branch 1 was taken 1336660 times"> + </span>]:<span class="lineCov">    2083560 :       if (avail.length () &lt;= SSA_NAME_VERSION (valnum))</span></a>
<a name="5897"><span class="lineNum">    5897 </span>                :<span class="lineCov">     746893 :         avail.safe_grow_cleared (SSA_NAME_VERSION (valnum) + 1, true);</span></a>
<a name="5898"><span class="lineNum">    5898 </span>                :<span class="lineCov">    2083560 :       tree pushop = op;</span></a>
<a name="5899"><span class="lineNum">    5899 </span>        [<span class="branchCov" title="Branch 0 was taken 48 times"> + </span><span class="branchCov" title="Branch 1 was taken 2083510 times"> + </span>]:<span class="lineCov">    2083560 :       if (avail[SSA_NAME_VERSION (valnum)])</span></a>
<a name="5900"><span class="lineNum">    5900 </span>                :<span class="lineCov">         48 :         pushop = avail[SSA_NAME_VERSION (valnum)];</span></a>
<a name="5901"><span class="lineNum">    5901 </span>                :<span class="lineCov">    2083560 :       avail_stack.safe_push (pushop);</span></a>
<a name="5902"><span class="lineNum">    5902 </span>                :<span class="lineCov">    2083560 :       avail[SSA_NAME_VERSION (valnum)] = op;</span></a>
<a name="5903"><span class="lineNum">    5903 </span>                :            :     }</a>
<a name="5904"><span class="lineNum">    5904 </span>                :<span class="lineCov">    2083560 : }</span></a>
<a name="5905"><span class="lineNum">    5905 </span>                :            : </a>
<a name="5906"><span class="lineNum">    5906 </span>                :            : /* Insert the expression recorded by SCCVN for VAL at *GSI.  Returns</a>
<a name="5907"><span class="lineNum">    5907 </span>                :            :    the leader for the expression if insertion was successful.  */</a>
<a name="5908"><span class="lineNum">    5908 </span>                :            : </a>
<a name="5909"><span class="lineNum">    5909 </span>                :            : tree</a>
<a name="5910"><span class="lineNum">    5910 </span>                :<span class="lineCov">       1751 : eliminate_dom_walker::eliminate_insert (basic_block bb,</span></a>
<a name="5911"><span class="lineNum">    5911 </span>                :            :                                         gimple_stmt_iterator *gsi, tree val)</a>
<a name="5912"><span class="lineNum">    5912 </span>                :            : {</a>
<a name="5913"><span class="lineNum">    5913 </span>                :            :   /* We can insert a sequence with a single assignment only.  */</a>
<a name="5914"><span class="lineNum">    5914 </span>                :<span class="lineCov">       1751 :   gimple_seq stmts = VN_INFO (val)-&gt;expr;</span></a>
<a name="5915"><span class="lineNum">    5915 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1751 times"> + </span>]:<span class="lineCov">       1751 :   if (!gimple_seq_singleton_p (stmts))</span></a>
<a name="5916"><span class="lineNum">    5916 </span>                :<span class="lineNoCov">          0 :     return NULL_TREE;</span></a>
<a name="5917"><span class="lineNum">    5917 </span>                :<span class="lineCov">       1751 :   gassign *stmt = dyn_cast &lt;gassign *&gt; (gimple_seq_first_stmt (stmts));</span></a>
<a name="5918"><span class="lineNum">    5918 </span>                :<span class="lineCov">       1751 :   if (!stmt</span></a>
<a name="5919"><span class="lineNum">    5919 </span>  [<span class="branchCov" title="Branch 0 was taken 1751 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 1546 times"> + </span><span class="branchCov" title="Branch 3 was taken 205 times"> + </span> :<span class="lineCov">       3297 :       || (!CONVERT_EXPR_CODE_P (gimple_assign_rhs_code (stmt))</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 1546 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchCov" title="Branch 7 was taken 1751 times"> + </span>]
<a name="5920"><span class="lineNum">    5920 </span>        [<span class="branchCov" title="Branch 0 was taken 1482 times"> + </span><span class="branchCov" title="Branch 1 was taken 64 times"> + </span>]:<span class="lineCov">       1546 :           &amp;&amp; gimple_assign_rhs_code (stmt) != VIEW_CONVERT_EXPR</span></a>
<a name="5921"><span class="lineNum">    5921 </span>        [<span class="branchCov" title="Branch 0 was taken 1193 times"> + </span><span class="branchCov" title="Branch 1 was taken 289 times"> + </span>]:<span class="lineCov">       1482 :           &amp;&amp; gimple_assign_rhs_code (stmt) != NEGATE_EXPR</span></a>
<a name="5922"><span class="lineNum">    5922 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1193 times"> + </span>]:<span class="lineCov">       1193 :           &amp;&amp; gimple_assign_rhs_code (stmt) != BIT_FIELD_REF</span></a>
<a name="5923"><span class="lineNum">    5923 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :           &amp;&amp; (gimple_assign_rhs_code (stmt) != BIT_AND_EXPR</span></a>
<a name="5924"><span class="lineNum">    5924 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :               || TREE_CODE (gimple_assign_rhs2 (stmt)) != INTEGER_CST)))</span></a>
<a name="5925"><span class="lineNum">    5925 </span>                :<span class="lineNoCov">          0 :     return NULL_TREE;</span></a>
<a name="5926"><span class="lineNum">    5926 </span>                :            : </a>
<a name="5927"><span class="lineNum">    5927 </span>                :<span class="lineCov">       1751 :   tree op = gimple_assign_rhs1 (stmt);</span></a>
<a name="5928"><span class="lineNum">    5928 </span>                :<span class="lineCov">       1751 :   if (gimple_assign_rhs_code (stmt) == VIEW_CONVERT_EXPR</span></a>
<a name="5929"><span class="lineNum">    5929 </span>  [<span class="branchCov" title="Branch 0 was taken 1687 times"> + </span><span class="branchCov" title="Branch 1 was taken 64 times"> + </span><span class="branchCov" title="Branch 2 was taken 1193 times"> + </span><span class="branchCov" title="Branch 3 was taken 494 times"> + </span> :<span class="lineCov">       1751 :       || gimple_assign_rhs_code (stmt) == BIT_FIELD_REF)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1257 times"> + </span><span class="branchCov" title="Branch 5 was taken 494 times"> + </span>]
<a name="5930"><span class="lineNum">    5930 </span>                :<span class="lineCov">       1257 :     op = TREE_OPERAND (op, 0);</span></a>
<a name="5931"><span class="lineNum">    5931 </span>        [<span class="branchCov" title="Branch 0 was taken 1739 times"> + </span><span class="branchCov" title="Branch 1 was taken 12 times"> + </span>]:<span class="lineCov">       1751 :   tree leader = TREE_CODE (op) == SSA_NAME ? eliminate_avail (bb, op) : op;</span></a>
<a name="5932"><span class="lineNum">    5932 </span>        [<span class="branchCov" title="Branch 0 was taken 441 times"> + </span><span class="branchCov" title="Branch 1 was taken 1310 times"> + </span>]:<span class="lineCov">       1751 :   if (!leader)</span></a>
<a name="5933"><span class="lineNum">    5933 </span>                :<span class="lineCov">        441 :     return NULL_TREE;</span></a>
<a name="5934"><span class="lineNum">    5934 </span>                :            : </a>
<a name="5935"><span class="lineNum">    5935 </span>                :            :   tree res;</a>
<a name="5936"><span class="lineNum">    5936 </span>                :<span class="lineCov">       1310 :   stmts = NULL;</span></a>
<a name="5937"><span class="lineNum">    5937 </span>        [<span class="branchCov" title="Branch 0 was taken 1193 times"> + </span><span class="branchCov" title="Branch 1 was taken 117 times"> + </span>]:<span class="lineCov">       1310 :   if (gimple_assign_rhs_code (stmt) == BIT_FIELD_REF)</span></a>
<a name="5938"><span class="lineNum">    5938 </span>                :<span class="lineCov">       1193 :     res = gimple_build (&amp;stmts, BIT_FIELD_REF,</span></a>
<a name="5939"><span class="lineNum">    5939 </span>                :            :                         TREE_TYPE (val), leader,</a>
<a name="5940"><span class="lineNum">    5940 </span>                :<span class="lineCov">       1193 :                         TREE_OPERAND (gimple_assign_rhs1 (stmt), 1),</span></a>
<a name="5941"><span class="lineNum">    5941 </span>                :<span class="lineCov">       1193 :                         TREE_OPERAND (gimple_assign_rhs1 (stmt), 2));</span></a>
<a name="5942"><span class="lineNum">    5942 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 117 times"> + </span>]:<span class="lineCov">        117 :   else if (gimple_assign_rhs_code (stmt) == BIT_AND_EXPR)</span></a>
<a name="5943"><span class="lineNum">    5943 </span>                :<span class="lineNoCov">          0 :     res = gimple_build (&amp;stmts, BIT_AND_EXPR,</span></a>
<a name="5944"><span class="lineNum">    5944 </span>                :            :                         TREE_TYPE (val), leader, gimple_assign_rhs2 (stmt));</a>
<a name="5945"><span class="lineNum">    5945 </span>                :            :   else</a>
<a name="5946"><span class="lineNum">    5946 </span>                :<span class="lineCov">        117 :     res = gimple_build (&amp;stmts, gimple_assign_rhs_code (stmt),</span></a>
<a name="5947"><span class="lineNum">    5947 </span>                :            :                         TREE_TYPE (val), leader);</a>
<a name="5948"><span class="lineNum">    5948 </span>                :<span class="lineCov">       2620 :   if (TREE_CODE (res) != SSA_NAME</span></a>
<a name="5949"><span class="lineNum">    5949 </span>        [<span class="branchCov" title="Branch 0 was taken 1310 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       1310 :       || SSA_NAME_IS_DEFAULT_DEF (res)</span></a>
<a name="5950"><span class="lineNum">    5950 </span>  [<span class="branchCov" title="Branch 0 was taken 1310 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 1310 times"> + </span> :<span class="lineCov">       2620 :       || gimple_bb (SSA_NAME_DEF_STMT (res)))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 1310 times"> + </span>]
<a name="5951"><span class="lineNum">    5951 </span>                :            :     {</a>
<a name="5952"><span class="lineNum">    5952 </span>                :<span class="lineNoCov">          0 :       gimple_seq_discard (stmts);</span></a>
<a name="5953"><span class="lineNum">    5953 </span>                :            : </a>
<a name="5954"><span class="lineNum">    5954 </span>                :            :       /* During propagation we have to treat SSA info conservatively</a>
<a name="5955"><span class="lineNum">    5955 </span>                :            :          and thus we can end up simplifying the inserted expression</a>
<a name="5956"><span class="lineNum">    5956 </span>                :            :          at elimination time to sth not defined in stmts.  */</a>
<a name="5957"><span class="lineNum">    5957 </span>                :            :       /* But then this is a redundancy we failed to detect.  Which means</a>
<a name="5958"><span class="lineNum">    5958 </span>                :            :          res now has two values.  That doesn't play well with how</a>
<a name="5959"><span class="lineNum">    5959 </span>                :            :          we track availability here, so give up.  */</a>
<a name="5960"><span class="lineNum">    5960 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :       if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="5961"><span class="lineNum">    5961 </span>                :            :         {</a>
<a name="5962"><span class="lineNum">    5962 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :           if (TREE_CODE (res) == SSA_NAME)</span></a>
<a name="5963"><span class="lineNum">    5963 </span>                :<span class="lineNoCov">          0 :             res = eliminate_avail (bb, res);</span></a>
<a name="5964"><span class="lineNum">    5964 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :           if (res)</span></a>
<a name="5965"><span class="lineNum">    5965 </span>                :            :             {</a>
<a name="5966"><span class="lineNum">    5966 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot;Failed to insert expression for value &quot;);</span></a>
<a name="5967"><span class="lineNum">    5967 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (dump_file, val);</span></a>
<a name="5968"><span class="lineNum">    5968 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot; which is really fully redundant to &quot;);</span></a>
<a name="5969"><span class="lineNum">    5969 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (dump_file, res);</span></a>
<a name="5970"><span class="lineNum">    5970 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot;\n&quot;);</span></a>
<a name="5971"><span class="lineNum">    5971 </span>                :            :             }</a>
<a name="5972"><span class="lineNum">    5972 </span>                :            :         }</a>
<a name="5973"><span class="lineNum">    5973 </span>                :            : </a>
<a name="5974"><span class="lineNum">    5974 </span>                :<span class="lineNoCov">          0 :       return NULL_TREE;</span></a>
<a name="5975"><span class="lineNum">    5975 </span>                :            :     }</a>
<a name="5976"><span class="lineNum">    5976 </span>                :            :   else</a>
<a name="5977"><span class="lineNum">    5977 </span>                :            :     {</a>
<a name="5978"><span class="lineNum">    5978 </span>                :<span class="lineCov">       1310 :       gsi_insert_seq_before (gsi, stmts, GSI_SAME_STMT);</span></a>
<a name="5979"><span class="lineNum">    5979 </span>                :<span class="lineCov">       1310 :       vn_ssa_aux_t vn_info = VN_INFO (res);</span></a>
<a name="5980"><span class="lineNum">    5980 </span>                :<span class="lineCov">       1310 :       vn_info-&gt;valnum = val;</span></a>
<a name="5981"><span class="lineNum">    5981 </span>                :<span class="lineCov">       1310 :       vn_info-&gt;visited = true;</span></a>
<a name="5982"><span class="lineNum">    5982 </span>                :            :     }</a>
<a name="5983"><span class="lineNum">    5983 </span>                :            : </a>
<a name="5984"><span class="lineNum">    5984 </span>                :<span class="lineCov">       1310 :   insertions++;</span></a>
<a name="5985"><span class="lineNum">    5985 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1310 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">       1310 :   if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 1310 times"> + </span>]
<a name="5986"><span class="lineNum">    5986 </span>                :            :     {</a>
<a name="5987"><span class="lineNum">    5987 </span>                :<span class="lineNoCov">          0 :       fprintf (dump_file, &quot;Inserted &quot;);</span></a>
<a name="5988"><span class="lineNum">    5988 </span>                :<span class="lineNoCov">          0 :       print_gimple_stmt (dump_file, SSA_NAME_DEF_STMT (res), 0);</span></a>
<a name="5989"><span class="lineNum">    5989 </span>                :            :     }</a>
<a name="5990"><span class="lineNum">    5990 </span>                :            : </a>
<a name="5991"><span class="lineNum">    5991 </span>                :<span class="lineCov">       1310 :   return res;</span></a>
<a name="5992"><span class="lineNum">    5992 </span>                :            : }</a>
<a name="5993"><span class="lineNum">    5993 </span>                :            : </a>
<a name="5994"><span class="lineNum">    5994 </span>                :            : void</a>
<a name="5995"><span class="lineNum">    5995 </span>                :<span class="lineCov">   12915900 : eliminate_dom_walker::eliminate_stmt (basic_block b, gimple_stmt_iterator *gsi)</span></a>
<a name="5996"><span class="lineNum">    5996 </span>                :            : {</a>
<a name="5997"><span class="lineNum">    5997 </span>                :<span class="lineCov">   12915900 :   tree sprime = NULL_TREE;</span></a>
<a name="5998"><span class="lineNum">    5998 </span>                :<span class="lineCov">   12915900 :   gimple *stmt = gsi_stmt (*gsi);</span></a>
<a name="5999"><span class="lineNum">    5999 </span>                :<span class="lineCov">   12915900 :   tree lhs = gimple_get_lhs (stmt);</span></a>
<a name="6000"><span class="lineNum">    6000 </span>        [<span class="branchCov" title="Branch 0 was taken 3223160 times"> + </span><span class="branchCov" title="Branch 1 was taken 763561 times"> + </span>]:<span class="lineCov">    3986720 :   if (lhs &amp;&amp; TREE_CODE (lhs) == SSA_NAME</span></a>
<a name="6001"><span class="lineNum">    6001 </span>        [<span class="branchCov" title="Branch 0 was taken 3170370 times"> + </span><span class="branchCov" title="Branch 1 was taken 52791 times"> + </span>]:<span class="lineCov">    3223160 :       &amp;&amp; !gimple_has_volatile_ops (stmt)</span></a>
<a name="6002"><span class="lineNum">    6002 </span>                :            :       /* See PR43491.  Do not replace a global register variable when</a>
<a name="6003"><span class="lineNum">    6003 </span>                :            :          it is a the RHS of an assignment.  Do replace local register</a>
<a name="6004"><span class="lineNum">    6004 </span>                :            :          variables since gcc does not guarantee a local variable will</a>
<a name="6005"><span class="lineNum">    6005 </span>                :            :          be allocated in register.</a>
<a name="6006"><span class="lineNum">    6006 </span>                :            :          ???  The fix isn't effective here.  This should instead</a>
<a name="6007"><span class="lineNum">    6007 </span>                :            :          be ensured by not value-numbering them the same but treating</a>
<a name="6008"><span class="lineNum">    6008 </span>                :            :          them like volatiles?  */</a>
<a name="6009"><span class="lineNum">    6009 </span>  [<span class="branchCov" title="Branch 0 was taken 3986720 times"> + </span><span class="branchCov" title="Branch 1 was taken 8929220 times"> + </span><span class="branchCov" title="Branch 2 was taken 1190820 times"> + </span><span class="branchCov" title="Branch 3 was taken 1979550 times"> + </span> :<span class="lineCov">   18093500 :       &amp;&amp; !(gimple_assign_single_p (stmt)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 3170280 times"> + </span><span class="branchCov" title="Branch 5 was taken 9745660 times"> + </span>]
<a name="6010"><span class="lineNum">    6010 </span>        [<span class="branchCov" title="Branch 0 was taken 166351 times"> + </span><span class="branchCov" title="Branch 1 was taken 1024470 times"> + </span>]:<span class="lineCov">    1190820 :            &amp;&amp; (TREE_CODE (gimple_assign_rhs1 (stmt)) == VAR_DECL</span></a>
<a name="6011"><span class="lineNum">    6011 </span>        [<span class="branchCov" title="Branch 0 was taken 658 times"> + </span><span class="branchCov" title="Branch 1 was taken 165693 times"> + </span>]:<span class="lineCov">     166351 :                &amp;&amp; DECL_HARD_REGISTER (gimple_assign_rhs1 (stmt))</span></a>
<a name="6012"><span class="lineNum">    6012 </span>        [<span class="branchCov" title="Branch 0 was taken 576 times"> + </span><span class="branchCov" title="Branch 1 was taken 82 times"> + </span>]:<span class="lineCov">        658 :                &amp;&amp; is_global_var (gimple_assign_rhs1 (stmt)))))</span></a>
<a name="6013"><span class="lineNum">    6013 </span>                :            :     {</a>
<a name="6014"><span class="lineNum">    6014 </span>                :<span class="lineCov">    3170280 :       sprime = eliminate_avail (b, lhs);</span></a>
<a name="6015"><span class="lineNum">    6015 </span>        [<span class="branchCov" title="Branch 0 was taken 2597270 times"> + </span><span class="branchCov" title="Branch 1 was taken 573013 times"> + </span>]:<span class="lineCov">    3170280 :       if (!sprime)</span></a>
<a name="6016"><span class="lineNum">    6016 </span>                :            :         {</a>
<a name="6017"><span class="lineNum">    6017 </span>                :            :           /* If there is no existing usable leader but SCCVN thinks</a>
<a name="6018"><span class="lineNum">    6018 </span>                :            :              it has an expression it wants to use as replacement,</a>
<a name="6019"><span class="lineNum">    6019 </span>                :            :              insert that.  */</a>
<a name="6020"><span class="lineNum">    6020 </span>                :<span class="lineCov">    2597270 :           tree val = VN_INFO (lhs)-&gt;valnum;</span></a>
<a name="6021"><span class="lineNum">    6021 </span>                :            :           vn_ssa_aux_t vn_info;</a>
<a name="6022"><span class="lineNum">    6022 </span>                :<span class="lineCov">    5194540 :           if (val != VN_TOP</span></a>
<a name="6023"><span class="lineNum">    6023 </span>        [<span class="branchCov" title="Branch 0 was taken 2597240 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">    2597240 :               &amp;&amp; TREE_CODE (val) == SSA_NAME</span></a>
<a name="6024"><span class="lineNum">    6024 </span>                :<span class="lineCov">    2597240 :               &amp;&amp; (vn_info = VN_INFO (val), true)</span></a>
<a name="6025"><span class="lineNum">    6025 </span>        [<span class="branchCov" title="Branch 0 was taken 8657 times"> + </span><span class="branchCov" title="Branch 1 was taken 2588580 times"> + </span>]:<span class="lineCov">    2597240 :               &amp;&amp; vn_info-&gt;needs_insertion</span></a>
<a name="6026"><span class="lineNum">    6026 </span>        [<span class="branchCov" title="Branch 0 was taken 1751 times"> + </span><span class="branchCov" title="Branch 1 was taken 6906 times"> + </span>]:<span class="lineCov">       8657 :               &amp;&amp; vn_info-&gt;expr != NULL</span></a>
<a name="6027"><span class="lineNum">    6027 </span>  [<span class="branchCov" title="Branch 0 was taken 2597240 times"> + </span><span class="branchCov" title="Branch 1 was taken 34 times"> + </span><span class="branchCov" title="Branch 2 was taken 1310 times"> + </span><span class="branchCov" title="Branch 3 was taken 441 times"> + </span> :<span class="lineCov">    5194510 :               &amp;&amp; (sprime = eliminate_insert (b, gsi, val)) != NULL_TREE)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1310 times"> + </span><span class="branchCov" title="Branch 5 was taken 2595960 times"> + </span>]
<a name="6028"><span class="lineNum">    6028 </span>                :<span class="lineCov">       1310 :             eliminate_push_avail (b, sprime);</span></a>
<a name="6029"><span class="lineNum">    6029 </span>                :            :         }</a>
<a name="6030"><span class="lineNum">    6030 </span>                :            : </a>
<a name="6031"><span class="lineNum">    6031 </span>                :            :       /* If this now constitutes a copy duplicate points-to</a>
<a name="6032"><span class="lineNum">    6032 </span>                :            :          and range info appropriately.  This is especially</a>
<a name="6033"><span class="lineNum">    6033 </span>                :            :          important for inserted code.  See tree-ssa-copy.c</a>
<a name="6034"><span class="lineNum">    6034 </span>                :            :          for similar code.  */</a>
<a name="6035"><span class="lineNum">    6035 </span>        [<span class="branchCov" title="Branch 0 was taken 574325 times"> + </span><span class="branchCov" title="Branch 1 was taken 2595960 times"> + </span>]:<span class="lineCov">    3170280 :       if (sprime</span></a>
<a name="6036"><span class="lineNum">    6036 </span>        [<span class="branchCov" title="Branch 0 was taken 522321 times"> + </span><span class="branchCov" title="Branch 1 was taken 52004 times"> + </span>]:<span class="lineCov">     574325 :           &amp;&amp; TREE_CODE (sprime) == SSA_NAME)</span></a>
<a name="6037"><span class="lineNum">    6037 </span>                :            :         {</a>
<a name="6038"><span class="lineNum">    6038 </span>                :<span class="lineCov">     522321 :           basic_block sprime_b = gimple_bb (SSA_NAME_DEF_STMT (sprime));</span></a>
<a name="6039"><span class="lineNum">    6039 </span>  [<span class="branchCov" title="Branch 0 was taken 475620 times"> + </span><span class="branchCov" title="Branch 1 was taken 46701 times"> + </span><span class="branchCov" title="Branch 2 was taken 811 times"> + </span><span class="branchCov" title="Branch 3 was taken 474809 times"> + </span>]:<span class="lineCov">     522321 :           if (POINTER_TYPE_P (TREE_TYPE (lhs))</span></a>
<a name="6040"><span class="lineNum">    6040 </span>        [<span class="branchCov" title="Branch 0 was taken 45648 times"> + </span><span class="branchCov" title="Branch 1 was taken 1864 times"> + </span>]:<span class="lineCov">      47512 :               &amp;&amp; SSA_NAME_PTR_INFO (lhs)</span></a>
<a name="6041"><span class="lineNum">    6041 </span>        [<span class="branchCov" title="Branch 0 was taken 5765 times"> + </span><span class="branchCov" title="Branch 1 was taken 39883 times"> + </span>]:<span class="lineCov">      45648 :               &amp;&amp; ! SSA_NAME_PTR_INFO (sprime))</span></a>
<a name="6042"><span class="lineNum">    6042 </span>                :            :             {</a>
<a name="6043"><span class="lineNum">    6043 </span>                :<span class="lineCov">       5765 :               duplicate_ssa_name_ptr_info (sprime,</span></a>
<a name="6044"><span class="lineNum">    6044 </span>                :            :                                            SSA_NAME_PTR_INFO (lhs));</a>
<a name="6045"><span class="lineNum">    6045 </span>        [<span class="branchCov" title="Branch 0 was taken 1900 times"> + </span><span class="branchCov" title="Branch 1 was taken 3865 times"> + </span>]:<span class="lineCov">       5765 :               if (b != sprime_b)</span></a>
<a name="6046"><span class="lineNum">    6046 </span>                :<span class="lineCov">       1900 :                 reset_flow_sensitive_info (sprime);</span></a>
<a name="6047"><span class="lineNum">    6047 </span>                :            :             }</a>
<a name="6048"><span class="lineNum">    6048 </span>  [<span class="branchCov" title="Branch 0 was taken 515724 times"> + </span><span class="branchCov" title="Branch 1 was taken 832 times"> + </span><span class="branchCov" title="Branch 2 was taken 511149 times"> + </span><span class="branchCov" title="Branch 3 was taken 4575 times"> + </span> :<span class="lineCov">     516556 :           else if (INTEGRAL_TYPE_P (TREE_TYPE (lhs))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 465664 times"> + </span><span class="branchCov" title="Branch 5 was taken 45485 times"> + </span>]
<a name="6049"><span class="lineNum">    6049 </span>        [<span class="branchCov" title="Branch 0 was taken 24160 times"> + </span><span class="branchCov" title="Branch 1 was taken 446911 times"> + </span>]:<span class="lineCov">     471071 :                    &amp;&amp; SSA_NAME_RANGE_INFO (lhs)</span></a>
<a name="6050"><span class="lineNum">    6050 </span>        [<span class="branchCov" title="Branch 0 was taken 8255 times"> + </span><span class="branchCov" title="Branch 1 was taken 15905 times"> + </span>]:<span class="lineCov">      24160 :                    &amp;&amp; ! SSA_NAME_RANGE_INFO (sprime)</span></a>
<a name="6051"><span class="lineNum">    6051 </span>        [<span class="branchCov" title="Branch 0 was taken 2697 times"> + </span><span class="branchCov" title="Branch 1 was taken 5558 times"> + </span>]:<span class="lineCov">       8255 :                    &amp;&amp; b == sprime_b)</span></a>
<a name="6052"><span class="lineNum">    6052 </span>                :<span class="lineCov">       2697 :             duplicate_ssa_name_range_info (sprime,</span></a>
<a name="6053"><span class="lineNum">    6053 </span>        [<span class="branchCov" title="Branch 0 was taken 294 times"> + </span><span class="branchCov" title="Branch 1 was taken 2403 times"> + </span>]:<span class="lineCov">       2697 :                                            SSA_NAME_RANGE_TYPE (lhs),</span></a>
<a name="6054"><span class="lineNum">    6054 </span>                :            :                                            SSA_NAME_RANGE_INFO (lhs));</a>
<a name="6055"><span class="lineNum">    6055 </span>                :            :         }</a>
<a name="6056"><span class="lineNum">    6056 </span>                :            : </a>
<a name="6057"><span class="lineNum">    6057 </span>                :            :       /* Inhibit the use of an inserted PHI on a loop header when</a>
<a name="6058"><span class="lineNum">    6058 </span>                :            :          the address of the memory reference is a simple induction</a>
<a name="6059"><span class="lineNum">    6059 </span>                :            :          variable.  In other cases the vectorizer won't do anything</a>
<a name="6060"><span class="lineNum">    6060 </span>                :            :          anyway (either it's loop invariant or a complicated</a>
<a name="6061"><span class="lineNum">    6061 </span>                :            :          expression).  */</a>
<a name="6062"><span class="lineNum">    6062 </span>                :<span class="lineCov">    3170250 :       if (sprime</span></a>
<a name="6063"><span class="lineNum">    6063 </span>        [<span class="branchCov" title="Branch 0 was taken 522321 times"> + </span><span class="branchCov" title="Branch 1 was taken 52004 times"> + </span>]:<span class="lineCov">     574325 :           &amp;&amp; TREE_CODE (sprime) == SSA_NAME</span></a>
<a name="6064"><span class="lineNum">    6064 </span>        [<span class="branchCov" title="Branch 0 was taken 41068 times"> + </span><span class="branchCov" title="Branch 1 was taken 481253 times"> + </span>]:<span class="lineCov">     522321 :           &amp;&amp; do_pre</span></a>
<a name="6065"><span class="lineNum">    6065 </span>  [<span class="branchCov" title="Branch 0 was taken 36280 times"> + </span><span class="branchCov" title="Branch 1 was taken 4788 times"> + </span><span class="branchCov" title="Branch 2 was taken 409 times"> + </span><span class="branchCov" title="Branch 3 was taken 35871 times"> + </span>]:<span class="lineCov">      41068 :           &amp;&amp; (flag_tree_loop_vectorize || flag_tree_parallelize_loops &gt; 1)</span></a>
<a name="6066"><span class="lineNum">    6066 </span>        [<span class="branchCov" title="Branch 0 was taken 3174 times"> + </span><span class="branchCov" title="Branch 1 was taken 1991 times"> + </span>]:<span class="lineCov">       5197 :           &amp;&amp; loop_outer (b-&gt;loop_father)</span></a>
<a name="6067"><span class="lineNum">    6067 </span>        [<span class="branchCov" title="Branch 0 was taken 1315 times"> + </span><span class="branchCov" title="Branch 1 was taken 1859 times"> + </span>]:<span class="lineCov">       3174 :           &amp;&amp; has_zero_uses (sprime)</span></a>
<a name="6068"><span class="lineNum">    6068 </span>        [<span class="branchCov" title="Branch 0 was taken 1309 times"> + </span><span class="branchCov" title="Branch 1 was taken 6 times"> + </span>]:<span class="lineCov">       1315 :           &amp;&amp; bitmap_bit_p (inserted_exprs, SSA_NAME_VERSION (sprime))</span></a>
<a name="6069"><span class="lineNum">    6069 </span>  [<span class="branchCov" title="Branch 0 was taken 574325 times"> + </span><span class="branchCov" title="Branch 1 was taken 2595960 times"> + </span><span class="branchCov" title="Branch 2 was taken 582 times"> + </span><span class="branchCov" title="Branch 3 was taken 727 times"> + </span> :<span class="lineCov">    3744580 :           &amp;&amp; gimple_assign_load_p (stmt))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 582 times"> + </span><span class="branchCov" title="Branch 5 was taken 3169670 times"> + </span>]
<a name="6070"><span class="lineNum">    6070 </span>                :            :         {</a>
<a name="6071"><span class="lineNum">    6071 </span>                :<span class="lineCov">        582 :           gimple *def_stmt = SSA_NAME_DEF_STMT (sprime);</span></a>
<a name="6072"><span class="lineNum">    6072 </span>                :<span class="lineCov">        582 :           basic_block def_bb = gimple_bb (def_stmt);</span></a>
<a name="6073"><span class="lineNum">    6073 </span>                :<span class="lineCov">        582 :           if (gimple_code (def_stmt) == GIMPLE_PHI</span></a>
<a name="6074"><span class="lineNum">    6074 </span>  [<span class="branchCov" title="Branch 0 was taken 546 times"> + </span><span class="branchCov" title="Branch 1 was taken 36 times"> + </span><span class="branchCov" title="Branch 2 was taken 308 times"> + </span><span class="branchCov" title="Branch 3 was taken 238 times"> + </span> :<span class="lineCov">        582 :               &amp;&amp; def_bb-&gt;loop_father-&gt;header == def_bb)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 308 times"> + </span><span class="branchCov" title="Branch 5 was taken 274 times"> + </span>]
<a name="6075"><span class="lineNum">    6075 </span>                :            :             {</a>
<a name="6076"><span class="lineNum">    6076 </span>                :<span class="lineCov">        308 :               loop_p loop = def_bb-&gt;loop_father;</span></a>
<a name="6077"><span class="lineNum">    6077 </span>                :            :               ssa_op_iter iter;</a>
<a name="6078"><span class="lineNum">    6078 </span>                :            :               tree op;</a>
<a name="6079"><span class="lineNum">    6079 </span>                :<span class="lineCov">        308 :               bool found = false;</span></a>
<a name="6080"><span class="lineNum">    6080 </span>        [<span class="branchCov" title="Branch 0 was taken 104 times"> + </span><span class="branchCov" title="Branch 1 was taken 266 times"> + </span>]:<span class="lineCov">        370 :               FOR_EACH_SSA_TREE_OPERAND (op, stmt, iter, SSA_OP_USE)</span></a>
<a name="6081"><span class="lineNum">    6081 </span>                :            :                 {</a>
<a name="6082"><span class="lineNum">    6082 </span>                :            :                   affine_iv iv;</a>
<a name="6083"><span class="lineNum">    6083 </span>                :<span class="lineCov">        104 :                   def_bb = gimple_bb (SSA_NAME_DEF_STMT (op));</span></a>
<a name="6084"><span class="lineNum">    6084 </span>                :<span class="lineCov">        104 :                   if (def_bb</span></a>
<a name="6085"><span class="lineNum">    6085 </span>        [<span class="branchCov" title="Branch 0 was taken 72 times"> + </span><span class="branchCov" title="Branch 1 was taken 16 times"> + </span>]:<span class="lineCov">         88 :                       &amp;&amp; flow_bb_inside_loop_p (loop, def_bb)</span></a>
<a name="6086"><span class="lineNum">    6086 </span>  [<span class="branchCov" title="Branch 0 was taken 88 times"> + </span><span class="branchCov" title="Branch 1 was taken 16 times"> + </span><span class="branchCov" title="Branch 2 was taken 42 times"> + </span><span class="branchCov" title="Branch 3 was taken 30 times"> + </span> :<span class="lineCov">        192 :                       &amp;&amp; simple_iv (loop, loop, op, &amp;iv, true))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 42 times"> + </span><span class="branchCov" title="Branch 5 was taken 62 times"> + </span>]
<a name="6087"><span class="lineNum">    6087 </span>                :            :                     {</a>
<a name="6088"><span class="lineNum">    6088 </span>                :<span class="lineCov">         42 :                       found = true;</span></a>
<a name="6089"><span class="lineNum">    6089 </span>                :<span class="lineCov">         42 :                       break;</span></a>
<a name="6090"><span class="lineNum">    6090 </span>                :            :                     }</a>
<a name="6091"><span class="lineNum">    6091 </span>                :            :                 }</a>
<a name="6092"><span class="lineNum">    6092 </span>        [<span class="branchCov" title="Branch 0 was taken 42 times"> + </span><span class="branchCov" title="Branch 1 was taken 266 times"> + </span>]:<span class="lineCov">        308 :               if (found)</span></a>
<a name="6093"><span class="lineNum">    6093 </span>                :            :                 {</a>
<a name="6094"><span class="lineNum">    6094 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 42 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">         42 :                   if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 42 times"> + </span>]
<a name="6095"><span class="lineNum">    6095 </span>                :            :                     {</a>
<a name="6096"><span class="lineNum">    6096 </span>                :<span class="lineNoCov">          0 :                       fprintf (dump_file, &quot;Not replacing &quot;);</span></a>
<a name="6097"><span class="lineNum">    6097 </span>                :<span class="lineNoCov">          0 :                       print_gimple_expr (dump_file, stmt, 0);</span></a>
<a name="6098"><span class="lineNum">    6098 </span>                :<span class="lineNoCov">          0 :                       fprintf (dump_file, &quot; with &quot;);</span></a>
<a name="6099"><span class="lineNum">    6099 </span>                :<span class="lineNoCov">          0 :                       print_generic_expr (dump_file, sprime);</span></a>
<a name="6100"><span class="lineNum">    6100 </span>                :<span class="lineNoCov">          0 :                       fprintf (dump_file, &quot; which would add a loop&quot;</span></a>
<a name="6101"><span class="lineNum">    6101 </span>                :            :                                &quot; carried dependence to loop %d\n&quot;,</a>
<a name="6102"><span class="lineNum">    6102 </span>                :            :                                loop-&gt;num);</a>
<a name="6103"><span class="lineNum">    6103 </span>                :            :                     }</a>
<a name="6104"><span class="lineNum">    6104 </span>                :            :                   /* Don't keep sprime available.  */</a>
<a name="6105"><span class="lineNum">    6105 </span>                :<span class="lineCov">         42 :                   sprime = NULL_TREE;</span></a>
<a name="6106"><span class="lineNum">    6106 </span>                :            :                 }</a>
<a name="6107"><span class="lineNum">    6107 </span>                :            :             }</a>
<a name="6108"><span class="lineNum">    6108 </span>                :            :         }</a>
<a name="6109"><span class="lineNum">    6109 </span>                :            : </a>
<a name="6110"><span class="lineNum">    6110 </span>        [<span class="branchCov" title="Branch 0 was taken 574283 times"> + </span><span class="branchCov" title="Branch 1 was taken 2595970 times"> + </span>]:<span class="lineCov">    3170250 :       if (sprime)</span></a>
<a name="6111"><span class="lineNum">    6111 </span>                :            :         {</a>
<a name="6112"><span class="lineNum">    6112 </span>                :            :           /* If we can propagate the value computed for LHS into</a>
<a name="6113"><span class="lineNum">    6113 </span>                :            :              all uses don't bother doing anything with this stmt.  */</a>
<a name="6114"><span class="lineNum">    6114 </span>        [<span class="branchCov" title="Branch 0 was taken 574172 times"> + </span><span class="branchCov" title="Branch 1 was taken 111 times"> + </span>]:<span class="lineCov">     574283 :           if (may_propagate_copy (lhs, sprime))</span></a>
<a name="6115"><span class="lineNum">    6115 </span>                :            :             {</a>
<a name="6116"><span class="lineNum">    6116 </span>                :            :               /* Mark it for removal.  */</a>
<a name="6117"><span class="lineNum">    6117 </span>                :<span class="lineCov">     574172 :               to_remove.safe_push (stmt);</span></a>
<a name="6118"><span class="lineNum">    6118 </span>                :            : </a>
<a name="6119"><span class="lineNum">    6119 </span>                :            :               /* ???  Don't count copy/constant propagations.  */</a>
<a name="6120"><span class="lineNum">    6120 </span>                :<span class="lineCov">     574172 :               if (gimple_assign_single_p (stmt)</span></a>
<a name="6121"><span class="lineNum">    6121 </span>  [<span class="branchCov" title="Branch 0 was taken 465792 times"> + </span><span class="branchCov" title="Branch 1 was taken 108380 times"> + </span><span class="branchCov" title="Branch 2 was taken 400013 times"> + </span><span class="branchCov" title="Branch 3 was taken 65779 times"> + </span> :<span class="lineCov">     974185 :                   &amp;&amp; (TREE_CODE (gimple_assign_rhs1 (stmt)) == SSA_NAME</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 72874 times"> + </span><span class="branchCov" title="Branch 5 was taken 501298 times"> + </span>]
<a name="6122"><span class="lineNum">    6122 </span>        [<span class="branchCov" title="Branch 0 was taken 7095 times"> + </span><span class="branchCov" title="Branch 1 was taken 392918 times"> + </span>]:<span class="lineCov">     400013 :                       || gimple_assign_rhs1 (stmt) == sprime))</span></a>
<a name="6123"><span class="lineNum">    6123 </span>                :<span class="lineCov">     591344 :                 return;</span></a>
<a name="6124"><span class="lineNum">    6124 </span>                :            : </a>
<a name="6125"><span class="lineNum">    6125 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 501298 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     501298 :               if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 501298 times"> + </span>]
<a name="6126"><span class="lineNum">    6126 </span>                :            :                 {</a>
<a name="6127"><span class="lineNum">    6127 </span>                :<span class="lineNoCov">          0 :                   fprintf (dump_file, &quot;Replaced &quot;);</span></a>
<a name="6128"><span class="lineNum">    6128 </span>                :<span class="lineNoCov">          0 :                   print_gimple_expr (dump_file, stmt, 0);</span></a>
<a name="6129"><span class="lineNum">    6129 </span>                :<span class="lineNoCov">          0 :                   fprintf (dump_file, &quot; with &quot;);</span></a>
<a name="6130"><span class="lineNum">    6130 </span>                :<span class="lineNoCov">          0 :                   print_generic_expr (dump_file, sprime);</span></a>
<a name="6131"><span class="lineNum">    6131 </span>                :<span class="lineNoCov">          0 :                   fprintf (dump_file, &quot; in all uses of &quot;);</span></a>
<a name="6132"><span class="lineNum">    6132 </span>                :<span class="lineNoCov">          0 :                   print_gimple_stmt (dump_file, stmt, 0);</span></a>
<a name="6133"><span class="lineNum">    6133 </span>                :            :                 }</a>
<a name="6134"><span class="lineNum">    6134 </span>                :            : </a>
<a name="6135"><span class="lineNum">    6135 </span>                :<span class="lineCov">     501298 :               eliminations++;</span></a>
<a name="6136"><span class="lineNum">    6136 </span>                :<span class="lineCov">     501298 :               return;</span></a>
<a name="6137"><span class="lineNum">    6137 </span>                :            :             }</a>
<a name="6138"><span class="lineNum">    6138 </span>                :            : </a>
<a name="6139"><span class="lineNum">    6139 </span>                :            :           /* If this is an assignment from our leader (which</a>
<a name="6140"><span class="lineNum">    6140 </span>                :            :              happens in the case the value-number is a constant)</a>
<a name="6141"><span class="lineNum">    6141 </span>                :            :              then there is nothing to do.  Likewise if we run into</a>
<a name="6142"><span class="lineNum">    6142 </span>                :            :              inserted code that needed a conversion because of</a>
<a name="6143"><span class="lineNum">    6143 </span>                :            :              our type-agnostic value-numbering of loads.  */</a>
<a name="6144"><span class="lineNum">    6144 </span>                :<span class="lineCov">        111 :           if ((gimple_assign_single_p (stmt)</span></a>
<a name="6145"><span class="lineNum">    6145 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                || (is_gimple_assign (stmt)</span></a>
<a name="6146"><span class="lineNum">    6146 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span>]:<span class="lineNoCov">          0 :                    &amp;&amp; (CONVERT_EXPR_CODE_P (gimple_assign_rhs_code (stmt))</span></a>
<a name="6147"><span class="lineNum">    6147 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                        || gimple_assign_rhs_code (stmt) == VIEW_CONVERT_EXPR)))</span></a>
<a name="6148"><span class="lineNum">    6148 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 111 times"> + </span><span class="branchCov" title="Branch 2 was taken 105 times"> + </span><span class="branchCov" title="Branch 3 was taken 6 times"> + </span> :<span class="lineCov">        111 :               &amp;&amp; sprime == gimple_assign_rhs1 (stmt))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 105 times"> + </span><span class="branchCov" title="Branch 5 was taken 6 times"> + </span>]
<a name="6149"><span class="lineNum">    6149 </span>                :<span class="lineCov">        105 :             return;</span></a>
<a name="6150"><span class="lineNum">    6150 </span>                :            : </a>
<a name="6151"><span class="lineNum">    6151 </span>                :            :           /* Else replace its RHS.  */</a>
<a name="6152"><span class="lineNum">    6152 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 6 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">          6 :           if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 6 times"> + </span>]
<a name="6153"><span class="lineNum">    6153 </span>                :            :             {</a>
<a name="6154"><span class="lineNum">    6154 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot;Replaced &quot;);</span></a>
<a name="6155"><span class="lineNum">    6155 </span>                :<span class="lineNoCov">          0 :               print_gimple_expr (dump_file, stmt, 0);</span></a>
<a name="6156"><span class="lineNum">    6156 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot; with &quot;);</span></a>
<a name="6157"><span class="lineNum">    6157 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (dump_file, sprime);</span></a>
<a name="6158"><span class="lineNum">    6158 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot; in &quot;);</span></a>
<a name="6159"><span class="lineNum">    6159 </span>                :<span class="lineNoCov">          0 :               print_gimple_stmt (dump_file, stmt, 0);</span></a>
<a name="6160"><span class="lineNum">    6160 </span>                :            :             }</a>
<a name="6161"><span class="lineNum">    6161 </span>                :<span class="lineCov">          6 :           eliminations++;</span></a>
<a name="6162"><span class="lineNum">    6162 </span>                :            : </a>
<a name="6163"><span class="lineNum">    6163 </span>                :<span class="lineCov">          6 :           bool can_make_abnormal_goto = (is_gimple_call (stmt)</span></a>
<a name="6164"><span class="lineNum">    6164 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 6 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">          6 :                                          &amp;&amp; stmt_can_make_abnormal_goto (stmt));</span></a>
<a name="6165"><span class="lineNum">    6165 </span>                :<span class="lineCov">          6 :           gimple *orig_stmt = stmt;</span></a>
<a name="6166"><span class="lineNum">    6166 </span>        [<span class="branchCov" title="Branch 0 was taken 6 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">          6 :           if (!useless_type_conversion_p (TREE_TYPE (lhs),</span></a>
<a name="6167"><span class="lineNum">    6167 </span>                :            :                                           TREE_TYPE (sprime)))</a>
<a name="6168"><span class="lineNum">    6168 </span>                :            :             {</a>
<a name="6169"><span class="lineNum">    6169 </span>                :            :               /* We preserve conversions to but not from function or method</a>
<a name="6170"><span class="lineNum">    6170 </span>                :            :                  types.  This asymmetry makes it necessary to re-instantiate</a>
<a name="6171"><span class="lineNum">    6171 </span>                :            :                  conversions here.  */</a>
<a name="6172"><span class="lineNum">    6172 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 6 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">          6 :               if (POINTER_TYPE_P (TREE_TYPE (lhs))</span></a>
<a name="6173"><span class="lineNum">    6173 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 6 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">          6 :                   &amp;&amp; FUNC_OR_METHOD_TYPE_P (TREE_TYPE (TREE_TYPE (lhs))))</span></a>
<a name="6174"><span class="lineNum">    6174 </span>                :<span class="lineCov">          6 :                 sprime = fold_convert (TREE_TYPE (lhs), sprime);</span></a>
<a name="6175"><span class="lineNum">    6175 </span>                :            :               else</a>
<a name="6176"><span class="lineNum">    6176 </span>                :<span class="lineNoCov">          0 :                 gcc_unreachable ();</span></a>
<a name="6177"><span class="lineNum">    6177 </span>                :            :             }</a>
<a name="6178"><span class="lineNum">    6178 </span>                :<span class="lineCov">          6 :           tree vdef = gimple_vdef (stmt);</span></a>
<a name="6179"><span class="lineNum">    6179 </span>                :<span class="lineCov">          6 :           tree vuse = gimple_vuse (stmt);</span></a>
<a name="6180"><span class="lineNum">    6180 </span>                :<span class="lineCov">          6 :           propagate_tree_value_into_stmt (gsi, sprime);</span></a>
<a name="6181"><span class="lineNum">    6181 </span>                :<span class="lineCov">          6 :           stmt = gsi_stmt (*gsi);</span></a>
<a name="6182"><span class="lineNum">    6182 </span>                :<span class="lineCov">          6 :           update_stmt (stmt);</span></a>
<a name="6183"><span class="lineNum">    6183 </span>                :            :           /* In case the VDEF on the original stmt was released, value-number</a>
<a name="6184"><span class="lineNum">    6184 </span>                :            :              it to the VUSE.  This is to make vuse_ssa_val able to skip</a>
<a name="6185"><span class="lineNum">    6185 </span>                :            :              released virtual operands.  */</a>
<a name="6186"><span class="lineNum">    6186 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 6 times"> + </span>]:<span class="lineCov">          6 :           if (vdef != gimple_vdef (stmt))</span></a>
<a name="6187"><span class="lineNum">    6187 </span>                :            :             {</a>
<a name="6188"><span class="lineNum">    6188 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :               gcc_assert (SSA_NAME_IN_FREE_LIST (vdef));</span></a>
<a name="6189"><span class="lineNum">    6189 </span>                :<span class="lineNoCov">          0 :               VN_INFO (vdef)-&gt;valnum = vuse;</span></a>
<a name="6190"><span class="lineNum">    6190 </span>                :            :             }</a>
<a name="6191"><span class="lineNum">    6191 </span>                :            : </a>
<a name="6192"><span class="lineNum">    6192 </span>                :            :           /* If we removed EH side-effects from the statement, clean</a>
<a name="6193"><span class="lineNum">    6193 </span>                :            :              its EH information.  */</a>
<a name="6194"><span class="lineNum">    6194 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 6 times"> + </span>]:<span class="lineCov">          6 :           if (maybe_clean_or_replace_eh_stmt (orig_stmt, stmt))</span></a>
<a name="6195"><span class="lineNum">    6195 </span>                :            :             {</a>
<a name="6196"><span class="lineNum">    6196 </span>                :<span class="lineNoCov">          0 :               bitmap_set_bit (need_eh_cleanup,</span></a>
<a name="6197"><span class="lineNum">    6197 </span>                :<span class="lineNoCov">          0 :                               gimple_bb (stmt)-&gt;index);</span></a>
<a name="6198"><span class="lineNum">    6198 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :               if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="6199"><span class="lineNum">    6199 </span>                :<span class="lineNoCov">          0 :                 fprintf (dump_file, &quot;  Removed EH side-effects.\n&quot;);</span></a>
<a name="6200"><span class="lineNum">    6200 </span>                :            :             }</a>
<a name="6201"><span class="lineNum">    6201 </span>                :            : </a>
<a name="6202"><span class="lineNum">    6202 </span>                :            :           /* Likewise for AB side-effects.  */</a>
<a name="6203"><span class="lineNum">    6203 </span>                :<span class="lineCov">          6 :           if (can_make_abnormal_goto</span></a>
<a name="6204"><span class="lineNum">    6204 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 6 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">          6 :               &amp;&amp; !stmt_can_make_abnormal_goto (stmt))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 6 times"> + </span>]
<a name="6205"><span class="lineNum">    6205 </span>                :            :             {</a>
<a name="6206"><span class="lineNum">    6206 </span>                :<span class="lineNoCov">          0 :               bitmap_set_bit (need_ab_cleanup,</span></a>
<a name="6207"><span class="lineNum">    6207 </span>                :<span class="lineNoCov">          0 :                               gimple_bb (stmt)-&gt;index);</span></a>
<a name="6208"><span class="lineNum">    6208 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :               if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="6209"><span class="lineNum">    6209 </span>                :<span class="lineNoCov">          0 :                 fprintf (dump_file, &quot;  Removed AB side-effects.\n&quot;);</span></a>
<a name="6210"><span class="lineNum">    6210 </span>                :            :             }</a>
<a name="6211"><span class="lineNum">    6211 </span>                :            : </a>
<a name="6212"><span class="lineNum">    6212 </span>                :<span class="lineCov">          6 :           return;</span></a>
<a name="6213"><span class="lineNum">    6213 </span>                :            :         }</a>
<a name="6214"><span class="lineNum">    6214 </span>                :            :     }</a>
<a name="6215"><span class="lineNum">    6215 </span>                :            : </a>
<a name="6216"><span class="lineNum">    6216 </span>                :            :   /* If the statement is a scalar store, see if the expression</a>
<a name="6217"><span class="lineNum">    6217 </span>                :            :      has the same value number as its rhs.  If so, the store is</a>
<a name="6218"><span class="lineNum">    6218 </span>                :            :      dead.  */</a>
<a name="6219"><span class="lineNum">    6219 </span>                :<span class="lineCov">   12341600 :   if (gimple_assign_single_p (stmt)</span></a>
<a name="6220"><span class="lineNum">    6220 </span>        [<span class="branchCov" title="Branch 0 was taken 1279620 times"> + </span><span class="branchCov" title="Branch 1 was taken 255167 times"> + </span>]:<span class="lineCov">    1534790 :       &amp;&amp; !gimple_has_volatile_ops (stmt)</span></a>
<a name="6221"><span class="lineNum">    6221 </span>        [<span class="branchCov" title="Branch 0 was taken 554698 times"> + </span><span class="branchCov" title="Branch 1 was taken 724925 times"> + </span>]:<span class="lineCov">    1279620 :       &amp;&amp; !is_gimple_reg (gimple_assign_lhs (stmt))</span></a>
<a name="6222"><span class="lineNum">    6222 </span>  [<span class="branchCov" title="Branch 0 was taken 1534790 times"> + </span><span class="branchCov" title="Branch 1 was taken 10806900 times"> + </span><span class="branchCov" title="Branch 2 was taken 257617 times"> + </span><span class="branchCov" title="Branch 3 was taken 297081 times"> + </span> :<span class="lineCov">   14134100 :       &amp;&amp; (TREE_CODE (gimple_assign_rhs1 (stmt)) == SSA_NAME</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 530947 times"> + </span><span class="branchCov" title="Branch 5 was taken 11810800 times"> + </span>]
<a name="6223"><span class="lineNum">    6223 </span>        [<span class="branchCov" title="Branch 0 was taken 233866 times"> + </span><span class="branchCov" title="Branch 1 was taken 23751 times"> + </span>]:<span class="lineCov">     257617 :           || is_gimple_min_invariant (gimple_assign_rhs1 (stmt))))</span></a>
<a name="6224"><span class="lineNum">    6224 </span>                :            :     {</a>
<a name="6225"><span class="lineNum">    6225 </span>                :<span class="lineCov">     530947 :       tree rhs = gimple_assign_rhs1 (stmt);</span></a>
<a name="6226"><span class="lineNum">    6226 </span>                :            :       vn_reference_t vnresult;</a>
<a name="6227"><span class="lineNum">    6227 </span>                :            :       /* ???  gcc.dg/torture/pr91445.c shows that we lookup a boolean</a>
<a name="6228"><span class="lineNum">    6228 </span>                :            :          typed load of a byte known to be 0x11 as 1 so a store of</a>
<a name="6229"><span class="lineNum">    6229 </span>                :            :          a boolean 1 is detected as redundant.  Because of this we</a>
<a name="6230"><span class="lineNum">    6230 </span>                :            :          have to make sure to lookup with a ref where its size</a>
<a name="6231"><span class="lineNum">    6231 </span>                :            :          matches the precision.  */</a>
<a name="6232"><span class="lineNum">    6232 </span>                :<span class="lineCov">     530947 :       tree lookup_lhs = lhs;</span></a>
<a name="6233"><span class="lineNum">    6233 </span>  [<span class="branchCov" title="Branch 0 was taken 506780 times"> + </span><span class="branchCov" title="Branch 1 was taken 15131 times"> + </span><span class="branchCov" title="Branch 2 was taken 354021 times"> + </span><span class="branchCov" title="Branch 3 was taken 152759 times"> + </span>]:<span class="lineCov">     521911 :       if (INTEGRAL_TYPE_P (TREE_TYPE (lhs))</span></a>
<a name="6234"><span class="lineNum">    6234 </span>        [<span class="branchCov" title="Branch 0 was taken 224793 times"> + </span><span class="branchCov" title="Branch 1 was taken 153395 times"> + </span>]:<span class="lineCov">     378188 :           &amp;&amp; (TREE_CODE (lhs) != COMPONENT_REF</span></a>
<a name="6235"><span class="lineNum">    6235 </span>        [<span class="branchCov" title="Branch 0 was taken 163903 times"> + </span><span class="branchCov" title="Branch 1 was taken 60890 times"> + </span>]:<span class="lineCov">     224793 :               || !DECL_BIT_FIELD_TYPE (TREE_OPERAND (lhs, 1)))</span></a>
<a name="6236"><span class="lineNum">    6236 </span>  [<span class="branchCov" title="Branch 0 was taken 521911 times"> + </span><span class="branchCov" title="Branch 1 was taken 9036 times"> + </span><span class="branchCov" title="Branch 2 was taken 14896 times"> + </span><span class="branchCov" title="Branch 3 was taken 302402 times"> + </span> :<span class="lineCov">    1061890 :           &amp;&amp; !type_has_mode_precision_p (TREE_TYPE (lhs)))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 14896 times"> + </span><span class="branchCov" title="Branch 5 was taken 516051 times"> + </span>]
<a name="6237"><span class="lineNum">    6237 </span>                :            :         {</a>
<a name="6238"><span class="lineNum">    6238 </span>        [<span class="branchCov" title="Branch 0 was taken 1447 times"> + </span><span class="branchCov" title="Branch 1 was taken 13449 times"> + </span>]:<span class="lineCov">      14896 :           if (TREE_CODE (lhs) == COMPONENT_REF</span></a>
<a name="6239"><span class="lineNum">    6239 </span>        [<span class="branchCov" title="Branch 0 was taken 730 times"> + </span><span class="branchCov" title="Branch 1 was taken 717 times"> + </span>]:<span class="lineCov">       1447 :               || TREE_CODE (lhs) == MEM_REF)</span></a>
<a name="6240"><span class="lineNum">    6240 </span>                :            :             {</a>
<a name="6241"><span class="lineNum">    6241 </span>                :            :               tree ltype = build_nonstandard_integer_type</a>
<a name="6242"><span class="lineNum">    6242 </span>                :<span class="lineCov">      14179 :                                 (TREE_INT_CST_LOW (TYPE_SIZE (TREE_TYPE (lhs))),</span></a>
<a name="6243"><span class="lineNum">    6243 </span>                :<span class="lineCov">      14179 :                                  TYPE_UNSIGNED (TREE_TYPE (lhs)));</span></a>
<a name="6244"><span class="lineNum">    6244 </span>        [<span class="branchCov" title="Branch 0 was taken 13449 times"> + </span><span class="branchCov" title="Branch 1 was taken 730 times"> + </span>]:<span class="lineCov">      14179 :               if (TREE_CODE (lhs) == COMPONENT_REF)</span></a>
<a name="6245"><span class="lineNum">    6245 </span>                :            :                 {</a>
<a name="6246"><span class="lineNum">    6246 </span>                :<span class="lineCov">      13449 :                   tree foff = component_ref_field_offset (lhs);</span></a>
<a name="6247"><span class="lineNum">    6247 </span>                :<span class="lineCov">      13449 :                   tree f = TREE_OPERAND (lhs, 1);</span></a>
<a name="6248"><span class="lineNum">    6248 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 13449 times"> + </span>]:<span class="lineCov">      13449 :                   if (!poly_int_tree_p (foff))</span></a>
<a name="6249"><span class="lineNum">    6249 </span>                :<span class="lineNoCov">          0 :                     lookup_lhs = NULL_TREE;</span></a>
<a name="6250"><span class="lineNum">    6250 </span>                :            :                   else</a>
<a name="6251"><span class="lineNum">    6251 </span>                :<span class="lineCov">      13449 :                     lookup_lhs = build3 (BIT_FIELD_REF, ltype,</span></a>
<a name="6252"><span class="lineNum">    6252 </span>                :            :                                          TREE_OPERAND (lhs, 0),</a>
<a name="6253"><span class="lineNum">    6253 </span>                :<span class="lineCov">      13449 :                                          TYPE_SIZE (TREE_TYPE (lhs)),</span></a>
<a name="6254"><span class="lineNum">    6254 </span>                :            :                                          bit_from_pos</a>
<a name="6255"><span class="lineNum">    6255 </span>                :            :                                            (foff, DECL_FIELD_BIT_OFFSET (f)));</a>
<a name="6256"><span class="lineNum">    6256 </span>                :            :                 }</a>
<a name="6257"><span class="lineNum">    6257 </span>                :            :               else</a>
<a name="6258"><span class="lineNum">    6258 </span>                :<span class="lineCov">        730 :                 lookup_lhs = build2 (MEM_REF, ltype,</span></a>
<a name="6259"><span class="lineNum">    6259 </span>                :            :                                      TREE_OPERAND (lhs, 0),</a>
<a name="6260"><span class="lineNum">    6260 </span>                :<span class="lineCov">      14179 :                                      TREE_OPERAND (lhs, 1));</span></a>
<a name="6261"><span class="lineNum">    6261 </span>                :            :             }</a>
<a name="6262"><span class="lineNum">    6262 </span>                :            :           else</a>
<a name="6263"><span class="lineNum">    6263 </span>                :<span class="lineCov">        717 :             lookup_lhs = NULL_TREE;</span></a>
<a name="6264"><span class="lineNum">    6264 </span>                :            :         }</a>
<a name="6265"><span class="lineNum">    6265 </span>                :<span class="lineCov">     530947 :       tree val = NULL_TREE;</span></a>
<a name="6266"><span class="lineNum">    6266 </span>        [<span class="branchCov" title="Branch 0 was taken 530230 times"> + </span><span class="branchCov" title="Branch 1 was taken 717 times"> + </span>]:<span class="lineCov">     530947 :       if (lookup_lhs)</span></a>
<a name="6267"><span class="lineNum">    6267 </span>                :<span class="lineCov">     530230 :         val = vn_reference_lookup (lookup_lhs, gimple_vuse (stmt),</span></a>
<a name="6268"><span class="lineNum">    6268 </span>                :            :                                    VN_WALKREWRITE, &amp;vnresult, false);</a>
<a name="6269"><span class="lineNum">    6269 </span>        [<span class="branchCov" title="Branch 0 was taken 297081 times"> + </span><span class="branchCov" title="Branch 1 was taken 233866 times"> + </span>]:<span class="lineCov">     530947 :       if (TREE_CODE (rhs) == SSA_NAME)</span></a>
<a name="6270"><span class="lineNum">    6270 </span>                :<span class="lineCov">     297081 :         rhs = VN_INFO (rhs)-&gt;valnum;</span></a>
<a name="6271"><span class="lineNum">    6271 </span>                :<span class="lineCov">     530947 :       if (val</span></a>
<a name="6272"><span class="lineNum">    6272 </span>  [<span class="branchCov" title="Branch 0 was taken 119346 times"> + </span><span class="branchCov" title="Branch 1 was taken 411601 times"> + </span><span class="branchCov" title="Branch 2 was taken 113949 times"> + </span><span class="branchCov" title="Branch 3 was taken 5397 times"> + </span> :<span class="lineCov">     644896 :           &amp;&amp; (operand_equal_p (val, rhs, 0)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 5397 times"> + </span><span class="branchCov" title="Branch 5 was taken 525550 times"> + </span>]
<a name="6273"><span class="lineNum">    6273 </span>                :            :               /* Due to the bitfield lookups above we can get bit</a>
<a name="6274"><span class="lineNum">    6274 </span>                :            :                  interpretations of the same RHS as values here.  Those</a>
<a name="6275"><span class="lineNum">    6275 </span>                :            :                  are redundant as well.  */</a>
<a name="6276"><span class="lineNum">    6276 </span>        [<span class="branchCov" title="Branch 0 was taken 101611 times"> + </span><span class="branchCov" title="Branch 1 was taken 12338 times"> + </span>]:<span class="lineCov">     113949 :               || (TREE_CODE (val) == SSA_NAME</span></a>
<a name="6277"><span class="lineNum">    6277 </span>        [<span class="branchCov" title="Branch 0 was taken 84760 times"> + </span><span class="branchCov" title="Branch 1 was taken 16851 times"> + </span>]:<span class="lineCov">     101611 :                   &amp;&amp; gimple_assign_single_p (SSA_NAME_DEF_STMT (val))</span></a>
<a name="6278"><span class="lineNum">    6278 </span>        [<span class="branchCov" title="Branch 0 was taken 84760 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      84760 :                   &amp;&amp; (val = gimple_assign_rhs1 (SSA_NAME_DEF_STMT (val)))</span></a>
<a name="6279"><span class="lineNum">    6279 </span>        [<span class="branchCov" title="Branch 0 was taken 4 times"> + </span><span class="branchCov" title="Branch 1 was taken 84756 times"> + </span>]:<span class="lineCov">      84760 :                   &amp;&amp; TREE_CODE (val) == VIEW_CONVERT_EXPR</span></a>
<a name="6280"><span class="lineNum">    6280 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 4 times"> + </span>]:<span class="lineCov">          4 :                   &amp;&amp; TREE_OPERAND (val, 0) == rhs)))</span></a>
<a name="6281"><span class="lineNum">    6281 </span>                :            :         {</a>
<a name="6282"><span class="lineNum">    6282 </span>                :            :           /* We can only remove the later store if the former aliases</a>
<a name="6283"><span class="lineNum">    6283 </span>                :            :              at least all accesses the later one does or if the store</a>
<a name="6284"><span class="lineNum">    6284 </span>                :            :              was to readonly memory storing the same value.  */</a>
<a name="6285"><span class="lineNum">    6285 </span>                :<span class="lineCov">       5397 :           ao_ref lhs_ref;</span></a>
<a name="6286"><span class="lineNum">    6286 </span>                :<span class="lineCov">       5397 :           ao_ref_init (&amp;lhs_ref, lhs);</span></a>
<a name="6287"><span class="lineNum">    6287 </span>                :<span class="lineCov">       5397 :           alias_set_type set = ao_ref_alias_set (&amp;lhs_ref);</span></a>
<a name="6288"><span class="lineNum">    6288 </span>                :<span class="lineCov">       5397 :           alias_set_type base_set = ao_ref_base_alias_set (&amp;lhs_ref);</span></a>
<a name="6289"><span class="lineNum">    6289 </span>                :<span class="lineCov">      10794 :           if (! vnresult</span></a>
<a name="6290"><span class="lineNum">    6290 </span>  [<span class="branchCov" title="Branch 0 was taken 5397 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 162 times"> + </span><span class="branchCov" title="Branch 3 was taken 5235 times"> + </span> :<span class="lineCov">      10794 :               || ((vnresult-&gt;set == set</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 5375 times"> + </span><span class="branchCov" title="Branch 5 was taken 22 times"> + </span>]
<a name="6291"><span class="lineNum">    6291 </span>        [<span class="branchCov" title="Branch 0 was taken 144 times"> + </span><span class="branchCov" title="Branch 1 was taken 18 times"> + </span>]:<span class="lineCov">        162 :                    || alias_set_subset_of (set, vnresult-&gt;set))</span></a>
<a name="6292"><span class="lineNum">    6292 </span>        [<span class="branchCov" title="Branch 0 was taken 26 times"> + </span><span class="branchCov" title="Branch 1 was taken 5353 times"> + </span>]:<span class="lineCov">       5379 :                   &amp;&amp; (vnresult-&gt;base_set == base_set</span></a>
<a name="6293"><span class="lineNum">    6293 </span>        [<span class="branchCov" title="Branch 0 was taken 22 times"> + </span><span class="branchCov" title="Branch 1 was taken 4 times"> + </span>]:<span class="lineCov">         26 :                       || alias_set_subset_of (base_set, vnresult-&gt;base_set))))</span></a>
<a name="6294"><span class="lineNum">    6294 </span>                :            :             {</a>
<a name="6295"><span class="lineNum">    6295 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 5375 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">       5375 :               if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 5375 times"> + </span>]
<a name="6296"><span class="lineNum">    6296 </span>                :            :                 {</a>
<a name="6297"><span class="lineNum">    6297 </span>                :<span class="lineNoCov">          0 :                   fprintf (dump_file, &quot;Deleted redundant store &quot;);</span></a>
<a name="6298"><span class="lineNum">    6298 </span>                :<span class="lineNoCov">          0 :                   print_gimple_stmt (dump_file, stmt, 0);</span></a>
<a name="6299"><span class="lineNum">    6299 </span>                :            :                 }</a>
<a name="6300"><span class="lineNum">    6300 </span>                :            : </a>
<a name="6301"><span class="lineNum">    6301 </span>                :            :               /* Queue stmt for removal.  */</a>
<a name="6302"><span class="lineNum">    6302 </span>                :<span class="lineCov">       5375 :               to_remove.safe_push (stmt);</span></a>
<a name="6303"><span class="lineNum">    6303 </span>                :<span class="lineCov">       5375 :               return;</span></a>
<a name="6304"><span class="lineNum">    6304 </span>                :            :             }</a>
<a name="6305"><span class="lineNum">    6305 </span>                :            :         }</a>
<a name="6306"><span class="lineNum">    6306 </span>                :            :     }</a>
<a name="6307"><span class="lineNum">    6307 </span>                :            : </a>
<a name="6308"><span class="lineNum">    6308 </span>                :            :   /* If this is a control statement value numbering left edges</a>
<a name="6309"><span class="lineNum">    6309 </span>                :            :      unexecuted on force the condition in a way consistent with</a>
<a name="6310"><span class="lineNum">    6310 </span>                :            :      that.  */</a>
<a name="6311"><span class="lineNum">    6311 </span>        [<span class="branchCov" title="Branch 0 was taken 1153000 times"> + </span><span class="branchCov" title="Branch 1 was taken 11183300 times"> + </span>]:<span class="lineCov">   12336300 :   if (gcond *cond = dyn_cast &lt;gcond *&gt; (stmt))</span></a>
<a name="6312"><span class="lineNum">    6312 </span>                :            :     {</a>
<a name="6313"><span class="lineNum">    6313 </span>                :<span class="lineCov">    1153000 :       if ((EDGE_SUCC (b, 0)-&gt;flags &amp; EDGE_EXECUTABLE)</span></a>
<a name="6314"><span class="lineNum">    6314 </span>        [<span class="branchCov" title="Branch 0 was taken 11686 times"> + </span><span class="branchCov" title="Branch 1 was taken 1141320 times"> + </span>]:<span class="lineCov">    1153000 :           ^ (EDGE_SUCC (b, 1)-&gt;flags &amp; EDGE_EXECUTABLE))</span></a>
<a name="6315"><span class="lineNum">    6315 </span>                :            :         {</a>
<a name="6316"><span class="lineNum">    6316 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 11686 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">      11686 :           if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 11686 times"> + </span>]
<a name="6317"><span class="lineNum">    6317 </span>                :            :             {</a>
<a name="6318"><span class="lineNum">    6318 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot;Removing unexecutable edge from &quot;);</span></a>
<a name="6319"><span class="lineNum">    6319 </span>                :<span class="lineNoCov">          0 :               print_gimple_stmt (dump_file, stmt, 0);</span></a>
<a name="6320"><span class="lineNum">    6320 </span>                :            :             }</a>
<a name="6321"><span class="lineNum">    6321 </span>                :<span class="lineCov">      11686 :           if (((EDGE_SUCC (b, 0)-&gt;flags &amp; EDGE_TRUE_VALUE) != 0)</span></a>
<a name="6322"><span class="lineNum">    6322 </span>        [<span class="branchCov" title="Branch 0 was taken 1751 times"> + </span><span class="branchCov" title="Branch 1 was taken 9935 times"> + </span>]:<span class="lineCov">      11686 :               == ((EDGE_SUCC (b, 0)-&gt;flags &amp; EDGE_EXECUTABLE) != 0))</span></a>
<a name="6323"><span class="lineNum">    6323 </span>                :<span class="lineCov">       1751 :             gimple_cond_make_true (cond);</span></a>
<a name="6324"><span class="lineNum">    6324 </span>                :            :           else</a>
<a name="6325"><span class="lineNum">    6325 </span>                :<span class="lineCov">       9935 :             gimple_cond_make_false (cond);</span></a>
<a name="6326"><span class="lineNum">    6326 </span>                :<span class="lineCov">      11686 :           update_stmt (cond);</span></a>
<a name="6327"><span class="lineNum">    6327 </span>                :<span class="lineCov">      11686 :           el_todo |= TODO_cleanup_cfg;</span></a>
<a name="6328"><span class="lineNum">    6328 </span>                :<span class="lineCov">      11686 :           return;</span></a>
<a name="6329"><span class="lineNum">    6329 </span>                :            :         }</a>
<a name="6330"><span class="lineNum">    6330 </span>                :            :     }</a>
<a name="6331"><span class="lineNum">    6331 </span>                :            : </a>
<a name="6332"><span class="lineNum">    6332 </span>                :<span class="lineCov">   12324600 :   bool can_make_abnormal_goto = stmt_can_make_abnormal_goto (stmt);</span></a>
<a name="6333"><span class="lineNum">    6333 </span>                :<span class="lineCov">   12324600 :   bool was_noreturn = (is_gimple_call (stmt)</span></a>
<a name="6334"><span class="lineNum">    6334 </span>  [<span class="branchCov" title="Branch 0 was taken 731047 times"> + </span><span class="branchCov" title="Branch 1 was taken 11593600 times"> + </span><span class="branchCov" title="Branch 2 was taken 110461 times"> + </span><span class="branchCov" title="Branch 3 was taken 620586 times"> + </span>]:<span class="lineCov">   12324600 :                        &amp;&amp; gimple_call_noreturn_p (stmt));</span></a>
<a name="6335"><span class="lineNum">    6335 </span>                :<span class="lineCov">   12324600 :   tree vdef = gimple_vdef (stmt);</span></a>
<a name="6336"><span class="lineNum">    6336 </span>                :<span class="lineCov">   12324600 :   tree vuse = gimple_vuse (stmt);</span></a>
<a name="6337"><span class="lineNum">    6337 </span>                :            : </a>
<a name="6338"><span class="lineNum">    6338 </span>                :            :   /* If we didn't replace the whole stmt (or propagate the result</a>
<a name="6339"><span class="lineNum">    6339 </span>                :            :      into all uses), replace all uses on this stmt with their</a>
<a name="6340"><span class="lineNum">    6340 </span>                :            :      leaders.  */</a>
<a name="6341"><span class="lineNum">    6341 </span>                :<span class="lineCov">   12324600 :   bool modified = false;</span></a>
<a name="6342"><span class="lineNum">    6342 </span>                :            :   use_operand_p use_p;</a>
<a name="6343"><span class="lineNum">    6343 </span>                :            :   ssa_op_iter iter;</a>
<a name="6344"><span class="lineNum">    6344 </span>        [<span class="branchCov" title="Branch 0 was taken 6785030 times"> + </span><span class="branchCov" title="Branch 1 was taken 12324600 times"> + </span>]:<span class="lineCov">   19109700 :   FOR_EACH_SSA_USE_OPERAND (use_p, stmt, iter, SSA_OP_USE)</span></a>
<a name="6345"><span class="lineNum">    6345 </span>                :            :     {</a>
<a name="6346"><span class="lineNum">    6346 </span>                :<span class="lineCov">    6785030 :       tree use = USE_FROM_PTR (use_p);</span></a>
<a name="6347"><span class="lineNum">    6347 </span>                :            :       /* ???  The call code above leaves stmt operands un-updated.  */</a>
<a name="6348"><span class="lineNum">    6348 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 6785030 times"> + </span>]:<span class="lineCov">    6785030 :       if (TREE_CODE (use) != SSA_NAME)</span></a>
<a name="6349"><span class="lineNum">    6349 </span>                :<span class="lineNoCov">          0 :         continue;</span></a>
<a name="6350"><span class="lineNum">    6350 </span>                :            :       tree sprime;</a>
<a name="6351"><span class="lineNum">    6351 </span>        [<span class="branchCov" title="Branch 0 was taken 1017500 times"> + </span><span class="branchCov" title="Branch 1 was taken 5767530 times"> + </span>]:<span class="lineCov">    6785030 :       if (SSA_NAME_IS_DEFAULT_DEF (use))</span></a>
<a name="6352"><span class="lineNum">    6352 </span>                :            :         /* ???  For default defs BB shouldn't matter, but we have to</a>
<a name="6353"><span class="lineNum">    6353 </span>                :            :            solve the inconsistency between rpo eliminate and</a>
<a name="6354"><span class="lineNum">    6354 </span>                :            :            dom eliminate avail valueization first.  */</a>
<a name="6355"><span class="lineNum">    6355 </span>                :<span class="lineCov">    1017500 :         sprime = eliminate_avail (b, use);</span></a>
<a name="6356"><span class="lineNum">    6356 </span>                :            :       else</a>
<a name="6357"><span class="lineNum">    6357 </span>                :            :         /* Look for sth available at the definition block of the argument.</a>
<a name="6358"><span class="lineNum">    6358 </span>                :            :            This avoids inconsistencies between availability there which</a>
<a name="6359"><span class="lineNum">    6359 </span>                :            :            decides if the stmt can be removed and availability at the</a>
<a name="6360"><span class="lineNum">    6360 </span>                :            :            use site.  The SSA property ensures that things available</a>
<a name="6361"><span class="lineNum">    6361 </span>                :            :            at the definition are also available at uses.  */</a>
<a name="6362"><span class="lineNum">    6362 </span>                :<span class="lineCov">    5767530 :         sprime = eliminate_avail (gimple_bb (SSA_NAME_DEF_STMT (use)), use);</span></a>
<a name="6363"><span class="lineNum">    6363 </span>        [<span class="branchCov" title="Branch 0 was taken 594994 times"> + </span><span class="branchCov" title="Branch 1 was taken 6190030 times"> + </span>]:<span class="lineCov">    6785030 :       if (sprime &amp;&amp; sprime != use</span></a>
<a name="6364"><span class="lineNum">    6364 </span>        [<span class="branchCov" title="Branch 0 was taken 594968 times"> + </span><span class="branchCov" title="Branch 1 was taken 26 times"> + </span>]:<span class="lineCov">     594994 :           &amp;&amp; may_propagate_copy (use, sprime)</span></a>
<a name="6365"><span class="lineNum">    6365 </span>                :            :           /* We substitute into debug stmts to avoid excessive</a>
<a name="6366"><span class="lineNum">    6366 </span>                :            :              debug temporaries created by removed stmts, but we need</a>
<a name="6367"><span class="lineNum">    6367 </span>                :            :              to avoid doing so for inserted sprimes as we never want</a>
<a name="6368"><span class="lineNum">    6368 </span>                :            :              to create debug temporaries for them.  */</a>
<a name="6369"><span class="lineNum">    6369 </span>  [<span class="branchCov" title="Branch 0 was taken 6785030 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 69927 times"> + </span><span class="branchCov" title="Branch 3 was taken 525041 times"> + </span> :<span class="lineCov">   13640000 :           &amp;&amp; (!inserted_exprs</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 581241 times"> + </span><span class="branchCov" title="Branch 5 was taken 6203790 times"> + </span>]
<a name="6370"><span class="lineNum">    6370 </span>        [<span class="branchCov" title="Branch 0 was taken 69494 times"> + </span><span class="branchCov" title="Branch 1 was taken 433 times"> + </span>]:<span class="lineCov">      69927 :               || TREE_CODE (sprime) != SSA_NAME</span></a>
<a name="6371"><span class="lineNum">    6371 </span>        [<span class="branchCov" title="Branch 0 was taken 14498 times"> + </span><span class="branchCov" title="Branch 1 was taken 54996 times"> + </span>]:<span class="lineCov">      69494 :               || !is_gimple_debug (stmt)</span></a>
<a name="6372"><span class="lineNum">    6372 </span>        [<span class="branchCov" title="Branch 0 was taken 771 times"> + </span><span class="branchCov" title="Branch 1 was taken 13727 times"> + </span>]:<span class="lineCov">      14498 :               || !bitmap_bit_p (inserted_exprs, SSA_NAME_VERSION (sprime))))</span></a>
<a name="6373"><span class="lineNum">    6373 </span>                :            :         {</a>
<a name="6374"><span class="lineNum">    6374 </span>                :<span class="lineCov">     581241 :           propagate_value (use_p, sprime);</span></a>
<a name="6375"><span class="lineNum">    6375 </span>                :<span class="lineCov">     581241 :           modified = true;</span></a>
<a name="6376"><span class="lineNum">    6376 </span>                :            :         }</a>
<a name="6377"><span class="lineNum">    6377 </span>                :            :     }</a>
<a name="6378"><span class="lineNum">    6378 </span>                :            : </a>
<a name="6379"><span class="lineNum">    6379 </span>                :            :   /* Fold the stmt if modified, this canonicalizes MEM_REFs we propagated</a>
<a name="6380"><span class="lineNum">    6380 </span>                :            :      into which is a requirement for the IPA devirt machinery.  */</a>
<a name="6381"><span class="lineNum">    6381 </span>                :<span class="lineCov">   12324600 :   gimple *old_stmt = stmt;</span></a>
<a name="6382"><span class="lineNum">    6382 </span>        [<span class="branchCov" title="Branch 0 was taken 421074 times"> + </span><span class="branchCov" title="Branch 1 was taken 11903600 times"> + </span>]:<span class="lineCov">   12324600 :   if (modified)</span></a>
<a name="6383"><span class="lineNum">    6383 </span>                :            :     {</a>
<a name="6384"><span class="lineNum">    6384 </span>                :            :       /* If a formerly non-invariant ADDR_EXPR is turned into an</a>
<a name="6385"><span class="lineNum">    6385 </span>                :            :          invariant one it was on a separate stmt.  */</a>
<a name="6386"><span class="lineNum">    6386 </span>                :<span class="lineCov">     421074 :       if (gimple_assign_single_p (stmt)</span></a>
<a name="6387"><span class="lineNum">    6387 </span>  [<span class="branchCov" title="Branch 0 was taken 61677 times"> + </span><span class="branchCov" title="Branch 1 was taken 359397 times"> + </span><span class="branchCov" title="Branch 2 was taken 3679 times"> + </span><span class="branchCov" title="Branch 3 was taken 57998 times"> + </span> :<span class="lineCov">     421074 :           &amp;&amp; TREE_CODE (gimple_assign_rhs1 (stmt)) == ADDR_EXPR)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 3679 times"> + </span><span class="branchCov" title="Branch 5 was taken 417395 times"> + </span>]
<a name="6388"><span class="lineNum">    6388 </span>                :<span class="lineCov">       3679 :         recompute_tree_invariant_for_addr_expr (gimple_assign_rhs1 (stmt));</span></a>
<a name="6389"><span class="lineNum">    6389 </span>                :<span class="lineCov">     421074 :       gimple_stmt_iterator prev = *gsi;</span></a>
<a name="6390"><span class="lineNum">    6390 </span>                :<span class="lineCov">     421074 :       gsi_prev (&amp;prev);</span></a>
<a name="6391"><span class="lineNum">    6391 </span>        [<span class="branchCov" title="Branch 0 was taken 48590 times"> + </span><span class="branchCov" title="Branch 1 was taken 372484 times"> + </span>]:<span class="lineCov">     421074 :       if (fold_stmt (gsi))</span></a>
<a name="6392"><span class="lineNum">    6392 </span>                :            :         {</a>
<a name="6393"><span class="lineNum">    6393 </span>                :            :           /* fold_stmt may have created new stmts inbetween</a>
<a name="6394"><span class="lineNum">    6394 </span>                :            :              the previous stmt and the folded stmt.  Mark</a>
<a name="6395"><span class="lineNum">    6395 </span>                :            :              all defs created there as varying to not confuse</a>
<a name="6396"><span class="lineNum">    6396 </span>                :            :              the SCCVN machinery as we're using that even during</a>
<a name="6397"><span class="lineNum">    6397 </span>                :            :              elimination.  */</a>
<a name="6398"><span class="lineNum">    6398 </span>        [<span class="branchCov" title="Branch 0 was taken 2507 times"> + </span><span class="branchCov" title="Branch 1 was taken 46083 times"> + </span>]:<span class="lineCov">      48590 :           if (gsi_end_p (prev))</span></a>
<a name="6399"><span class="lineNum">    6399 </span>                :<span class="lineCov">       2507 :             prev = gsi_start_bb (b);</span></a>
<a name="6400"><span class="lineNum">    6400 </span>                :            :           else</a>
<a name="6401"><span class="lineNum">    6401 </span>                :<span class="lineCov">      46083 :             gsi_next (&amp;prev);</span></a>
<a name="6402"><span class="lineNum">    6402 </span>        [<span class="branchCov" title="Branch 0 was taken 5 times"> + </span><span class="branchCov" title="Branch 1 was taken 48585 times"> + </span>]:<span class="lineCov">      48590 :           if (gsi_stmt (prev) != gsi_stmt (*gsi))</span></a>
<a name="6403"><span class="lineNum">    6403 </span>                :            :             do</a>
<a name="6404"><span class="lineNum">    6404 </span>                :            :               {</a>
<a name="6405"><span class="lineNum">    6405 </span>                :            :                 tree def;</a>
<a name="6406"><span class="lineNum">    6406 </span>                :            :                 ssa_op_iter dit;</a>
<a name="6407"><span class="lineNum">    6407 </span>        [<span class="branchCov" title="Branch 0 was taken 10 times"> + </span><span class="branchCov" title="Branch 1 was taken 10 times"> + </span>]:<span class="lineCov">         20 :                 FOR_EACH_SSA_TREE_OPERAND (def, gsi_stmt (prev),</span></a>
<a name="6408"><span class="lineNum">    6408 </span>                :            :                                            dit, SSA_OP_ALL_DEFS)</a>
<a name="6409"><span class="lineNum">    6409 </span>                :            :                     /* As existing DEFs may move between stmts</a>
<a name="6410"><span class="lineNum">    6410 </span>                :            :                        only process new ones.  */</a>
<a name="6411"><span class="lineNum">    6411 </span>        [<span class="branchCov" title="Branch 0 was taken 5 times"> + </span><span class="branchCov" title="Branch 1 was taken 5 times"> + </span>]:<span class="lineCov">         10 :                     if (! has_VN_INFO (def))</span></a>
<a name="6412"><span class="lineNum">    6412 </span>                :            :                       {</a>
<a name="6413"><span class="lineNum">    6413 </span>                :<span class="lineCov">          5 :                         vn_ssa_aux_t vn_info = VN_INFO (def);</span></a>
<a name="6414"><span class="lineNum">    6414 </span>                :<span class="lineCov">          5 :                         vn_info-&gt;valnum = def;</span></a>
<a name="6415"><span class="lineNum">    6415 </span>                :<span class="lineCov">          5 :                         vn_info-&gt;visited = true;</span></a>
<a name="6416"><span class="lineNum">    6416 </span>                :            :                       }</a>
<a name="6417"><span class="lineNum">    6417 </span>        [<span class="branchCov" title="Branch 0 was taken 5 times"> + </span><span class="branchCov" title="Branch 1 was taken 5 times"> + </span>]:<span class="lineCov">         10 :                 if (gsi_stmt (prev) == gsi_stmt (*gsi))</span></a>
<a name="6418"><span class="lineNum">    6418 </span>                :<span class="lineCov">          5 :                   break;</span></a>
<a name="6419"><span class="lineNum">    6419 </span>                :<span class="lineCov">          5 :                 gsi_next (&amp;prev);</span></a>
<a name="6420"><span class="lineNum">    6420 </span>                :            :               }</a>
<a name="6421"><span class="lineNum">    6421 </span>                :            :             while (1);</a>
<a name="6422"><span class="lineNum">    6422 </span>                :            :         }</a>
<a name="6423"><span class="lineNum">    6423 </span>                :<span class="lineCov">     421074 :       stmt = gsi_stmt (*gsi);</span></a>
<a name="6424"><span class="lineNum">    6424 </span>                :            :       /* In case we folded the stmt away schedule the NOP for removal.  */</a>
<a name="6425"><span class="lineNum">    6425 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 421074 times"> + </span>]:<span class="lineCov">     421074 :       if (gimple_nop_p (stmt))</span></a>
<a name="6426"><span class="lineNum">    6426 </span>                :<span class="lineNoCov">          0 :         to_remove.safe_push (stmt);</span></a>
<a name="6427"><span class="lineNum">    6427 </span>                :            :     }</a>
<a name="6428"><span class="lineNum">    6428 </span>                :            : </a>
<a name="6429"><span class="lineNum">    6429 </span>                :            :   /* Visit indirect calls and turn them into direct calls if</a>
<a name="6430"><span class="lineNum">    6430 </span>                :            :      possible using the devirtualization machinery.  Do this before</a>
<a name="6431"><span class="lineNum">    6431 </span>                :            :      checking for required EH/abnormal/noreturn cleanup as devird</a>
<a name="6432"><span class="lineNum">    6432 </span>                :            :      may expose more of those.  */</a>
<a name="6433"><span class="lineNum">    6433 </span>        [<span class="branchCov" title="Branch 0 was taken 731040 times"> + </span><span class="branchCov" title="Branch 1 was taken 11593600 times"> + </span>]:<span class="lineCov">   12324600 :   if (gcall *call_stmt = dyn_cast &lt;gcall *&gt; (stmt))</span></a>
<a name="6434"><span class="lineNum">    6434 </span>                :            :     {</a>
<a name="6435"><span class="lineNum">    6435 </span>                :<span class="lineCov">     731040 :       tree fn = gimple_call_fn (call_stmt);</span></a>
<a name="6436"><span class="lineNum">    6436 </span>                :<span class="lineCov">     731040 :       if (fn</span></a>
<a name="6437"><span class="lineNum">    6437 </span>        [<span class="branchCov" title="Branch 0 was taken 695454 times"> + </span><span class="branchCov" title="Branch 1 was taken 31887 times"> + </span>]:<span class="lineCov">     727341 :           &amp;&amp; flag_devirtualize</span></a>
<a name="6438"><span class="lineNum">    6438 </span>  [<span class="branchCov" title="Branch 0 was taken 727341 times"> + </span><span class="branchCov" title="Branch 1 was taken 3699 times"> + </span><span class="branchCov" title="Branch 2 was taken 9515 times"> + </span><span class="branchCov" title="Branch 3 was taken 685939 times"> + </span> :<span class="lineCov">    1458380 :           &amp;&amp; virtual_method_call_p (fn))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 9515 times"> + </span><span class="branchCov" title="Branch 5 was taken 721525 times"> + </span>]
<a name="6439"><span class="lineNum">    6439 </span>                :            :         {</a>
<a name="6440"><span class="lineNum">    6440 </span>                :<span class="lineCov">       9515 :           tree otr_type = obj_type_ref_class (fn);</span></a>
<a name="6441"><span class="lineNum">    6441 </span>                :            :           unsigned HOST_WIDE_INT otr_tok</a>
<a name="6442"><span class="lineNum">    6442 </span>                :<span class="lineCov">       9515 :               = tree_to_uhwi (OBJ_TYPE_REF_TOKEN (fn));</span></a>
<a name="6443"><span class="lineNum">    6443 </span>                :            :           tree instance;</a>
<a name="6444"><span class="lineNum">    6444 </span>                :            :           ipa_polymorphic_call_context context (current_function_decl,</a>
<a name="6445"><span class="lineNum">    6445 </span>                :<span class="lineCov">       9515 :                                                 fn, stmt, &amp;instance);</span></a>
<a name="6446"><span class="lineNum">    6446 </span>                :<span class="lineCov">       9515 :           context.get_dynamic_type (instance, OBJ_TYPE_REF_OBJECT (fn),</span></a>
<a name="6447"><span class="lineNum">    6447 </span>                :            :                                     otr_type, stmt, NULL);</a>
<a name="6448"><span class="lineNum">    6448 </span>                :            :           bool final;</a>
<a name="6449"><span class="lineNum">    6449 </span>                :            :           vec &lt;cgraph_node *&gt; targets</a>
<a name="6450"><span class="lineNum">    6450 </span>                :            :               = possible_polymorphic_call_targets (obj_type_ref_class (fn),</a>
<a name="6451"><span class="lineNum">    6451 </span>                :<span class="lineCov">       9515 :                                                    otr_tok, context, &amp;final);</span></a>
<a name="6452"><span class="lineNum">    6452 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 9515 times"> + </span>]:<span class="lineCov">       9515 :           if (dump_file)</span></a>
<a name="6453"><span class="lineNum">    6453 </span>                :<span class="lineNoCov">          0 :             dump_possible_polymorphic_call_targets (dump_file,</span></a>
<a name="6454"><span class="lineNum">    6454 </span>                :            :                                                     obj_type_ref_class (fn),</a>
<a name="6455"><span class="lineNum">    6455 </span>                :            :                                                     otr_tok, context);</a>
<a name="6456"><span class="lineNum">    6456 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 9515 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">       9515 :           if (final &amp;&amp; targets.length () &lt;= 1 &amp;&amp; dbg_cnt (devirt))</span></a>
<span class="lineNum">         </span>   <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchCov" title="Branch 7 was taken 9515 times"> + </span>]
<a name="6457"><span class="lineNum">    6457 </span>                :            :             {</a>
<a name="6458"><span class="lineNum">    6458 </span>                :            :               tree fn;</a>
<a name="6459"><span class="lineNum">    6459 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :               if (targets.length () == 1)</span></a>
<a name="6460"><span class="lineNum">    6460 </span>                :<span class="lineNoCov">          0 :                 fn = targets[0]-&gt;decl;</span></a>
<a name="6461"><span class="lineNum">    6461 </span>                :            :               else</a>
<a name="6462"><span class="lineNum">    6462 </span>                :<span class="lineNoCov">          0 :                 fn = builtin_decl_implicit (BUILT_IN_UNREACHABLE);</span></a>
<a name="6463"><span class="lineNum">    6463 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :               if (dump_enabled_p ())</span></a>
<a name="6464"><span class="lineNum">    6464 </span>                :            :                 {</a>
<a name="6465"><span class="lineNum">    6465 </span>                :<span class="lineNoCov">          0 :                   dump_printf_loc (MSG_OPTIMIZED_LOCATIONS, stmt,</span></a>
<a name="6466"><span class="lineNum">    6466 </span>                :            :                                    &quot;converting indirect call to &quot;</a>
<a name="6467"><span class="lineNum">    6467 </span>                :            :                                    &quot;function %s\n&quot;,</a>
<a name="6468"><span class="lineNum">    6468 </span>                :<span class="lineNoCov">          0 :                                    lang_hooks.decl_printable_name (fn, 2));</span></a>
<a name="6469"><span class="lineNum">    6469 </span>                :            :                 }</a>
<a name="6470"><span class="lineNum">    6470 </span>                :<span class="lineNoCov">          0 :               gimple_call_set_fndecl (call_stmt, fn);</span></a>
<a name="6471"><span class="lineNum">    6471 </span>                :            :               /* If changing the call to __builtin_unreachable</a>
<a name="6472"><span class="lineNum">    6472 </span>                :            :                  or similar noreturn function, adjust gimple_call_fntype</a>
<a name="6473"><span class="lineNum">    6473 </span>                :            :                  too.  */</a>
<a name="6474"><span class="lineNum">    6474 </span>                :<span class="lineNoCov">          0 :               if (gimple_call_noreturn_p (call_stmt)</span></a>
<a name="6475"><span class="lineNum">    6475 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                   &amp;&amp; VOID_TYPE_P (TREE_TYPE (TREE_TYPE (fn)))</span></a>
<a name="6476"><span class="lineNum">    6476 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                   &amp;&amp; TYPE_ARG_TYPES (TREE_TYPE (fn))</span></a>
<a name="6477"><span class="lineNum">    6477 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span>]:<span class="lineNoCov">          0 :                   &amp;&amp; (TREE_VALUE (TYPE_ARG_TYPES (TREE_TYPE (fn)))</span></a>
<a name="6478"><span class="lineNum">    6478 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                       == void_type_node))</span></a>
<a name="6479"><span class="lineNum">    6479 </span>                :<span class="lineNoCov">          0 :                 gimple_call_set_fntype (call_stmt, TREE_TYPE (fn));</span></a>
<a name="6480"><span class="lineNum">    6480 </span>                :<span class="lineNoCov">          0 :               maybe_remove_unused_call_args (cfun, call_stmt);</span></a>
<a name="6481"><span class="lineNum">    6481 </span>                :<span class="lineNoCov">          0 :               modified = true;</span></a>
<a name="6482"><span class="lineNum">    6482 </span>                :            :             }</a>
<a name="6483"><span class="lineNum">    6483 </span>                :            :         }</a>
<a name="6484"><span class="lineNum">    6484 </span>                :            :     }</a>
<a name="6485"><span class="lineNum">    6485 </span>                :            : </a>
<a name="6486"><span class="lineNum">    6486 </span>        [<span class="branchCov" title="Branch 0 was taken 421074 times"> + </span><span class="branchCov" title="Branch 1 was taken 11903600 times"> + </span>]:<span class="lineCov">   12324600 :   if (modified)</span></a>
<a name="6487"><span class="lineNum">    6487 </span>                :            :     {</a>
<a name="6488"><span class="lineNum">    6488 </span>                :            :       /* When changing a call into a noreturn call, cfg cleanup</a>
<a name="6489"><span class="lineNum">    6489 </span>                :            :          is needed to fix up the noreturn call.  */</a>
<a name="6490"><span class="lineNum">    6490 </span>                :<span class="lineCov">     842148 :       if (!was_noreturn</span></a>
<a name="6491"><span class="lineNum">    6491 </span>  [<span class="branchCov" title="Branch 0 was taken 418817 times"> + </span><span class="branchCov" title="Branch 1 was taken 2257 times"> + </span><span class="branchCov" title="Branch 2 was taken 31207 times"> + </span><span class="branchCov" title="Branch 3 was taken 387610 times"> + </span> :<span class="lineCov">     421074 :           &amp;&amp; is_gimple_call (stmt) &amp;&amp; gimple_call_noreturn_p (stmt))</span></a>
<span class="lineNum">         </span>   <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 31207 times"> + </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchCov" title="Branch 7 was taken 421074 times"> + </span>]
<a name="6492"><span class="lineNum">    6492 </span>                :<span class="lineNoCov">          0 :         to_fixup.safe_push  (stmt);</span></a>
<a name="6493"><span class="lineNum">    6493 </span>                :            :       /* When changing a condition or switch into one we know what</a>
<a name="6494"><span class="lineNum">    6494 </span>                :            :          edge will be executed, schedule a cfg cleanup.  */</a>
<a name="6495"><span class="lineNum">    6495 </span>                :<span class="lineCov">     421074 :       if ((gimple_code (stmt) == GIMPLE_COND</span></a>
<a name="6496"><span class="lineNum">    6496 </span>        [<span class="branchCov" title="Branch 0 was taken 180731 times"> + </span><span class="branchCov" title="Branch 1 was taken 1476 times"> + </span>]:<span class="lineCov">     182207 :            &amp;&amp; (gimple_cond_true_p (as_a &lt;gcond *&gt; (stmt))</span></a>
<a name="6497"><span class="lineNum">    6497 </span>        [<span class="branchCov" title="Branch 0 was taken 180698 times"> + </span><span class="branchCov" title="Branch 1 was taken 33 times"> + </span>]:<span class="lineCov">     180731 :                || gimple_cond_false_p (as_a &lt;gcond *&gt; (stmt))))</span></a>
<a name="6498"><span class="lineNum">    6498 </span>  [<span class="branchCov" title="Branch 0 was taken 182207 times"> + </span><span class="branchCov" title="Branch 1 was taken 238867 times"> + </span><span class="branchCov" title="Branch 2 was taken 111 times"> + </span><span class="branchCov" title="Branch 3 was taken 419454 times"> + </span> :<span class="lineCov">     603392 :           || (gimple_code (stmt) == GIMPLE_SWITCH</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1515 times"> + </span><span class="branchCov" title="Branch 5 was taken 419559 times"> + </span>]
<a name="6499"><span class="lineNum">    6499 </span>        [<span class="branchCov" title="Branch 0 was taken 6 times"> + </span><span class="branchCov" title="Branch 1 was taken 105 times"> + </span>]:<span class="lineCov">        111 :               &amp;&amp; TREE_CODE (gimple_switch_index</span></a>
<a name="6500"><span class="lineNum">    6500 </span>                :            :                             (as_a &lt;gswitch *&gt; (stmt))) == INTEGER_CST))</a>
<a name="6501"><span class="lineNum">    6501 </span>                :<span class="lineCov">       1515 :         el_todo |= TODO_cleanup_cfg;</span></a>
<a name="6502"><span class="lineNum">    6502 </span>                :            :       /* If we removed EH side-effects from the statement, clean</a>
<a name="6503"><span class="lineNum">    6503 </span>                :            :          its EH information.  */</a>
<a name="6504"><span class="lineNum">    6504 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 421074 times"> + </span>]:<span class="lineCov">     421074 :       if (maybe_clean_or_replace_eh_stmt (old_stmt, stmt))</span></a>
<a name="6505"><span class="lineNum">    6505 </span>                :            :         {</a>
<a name="6506"><span class="lineNum">    6506 </span>                :<span class="lineNoCov">          0 :           bitmap_set_bit (need_eh_cleanup,</span></a>
<a name="6507"><span class="lineNum">    6507 </span>                :<span class="lineNoCov">          0 :                           gimple_bb (stmt)-&gt;index);</span></a>
<a name="6508"><span class="lineNum">    6508 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :           if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="6509"><span class="lineNum">    6509 </span>                :<span class="lineNoCov">          0 :             fprintf (dump_file, &quot;  Removed EH side-effects.\n&quot;);</span></a>
<a name="6510"><span class="lineNum">    6510 </span>                :            :         }</a>
<a name="6511"><span class="lineNum">    6511 </span>                :            :       /* Likewise for AB side-effects.  */</a>
<a name="6512"><span class="lineNum">    6512 </span>                :<span class="lineCov">     421074 :       if (can_make_abnormal_goto</span></a>
<a name="6513"><span class="lineNum">    6513 </span>  [<span class="branchCov" title="Branch 0 was taken 45 times"> + </span><span class="branchCov" title="Branch 1 was taken 421029 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 45 times"> + </span> :<span class="lineCov">     421074 :           &amp;&amp; !stmt_can_make_abnormal_goto (stmt))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 421074 times"> + </span>]
<a name="6514"><span class="lineNum">    6514 </span>                :            :         {</a>
<a name="6515"><span class="lineNum">    6515 </span>                :<span class="lineNoCov">          0 :           bitmap_set_bit (need_ab_cleanup,</span></a>
<a name="6516"><span class="lineNum">    6516 </span>                :<span class="lineNoCov">          0 :                           gimple_bb (stmt)-&gt;index);</span></a>
<a name="6517"><span class="lineNum">    6517 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :           if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="6518"><span class="lineNum">    6518 </span>                :<span class="lineNoCov">          0 :             fprintf (dump_file, &quot;  Removed AB side-effects.\n&quot;);</span></a>
<a name="6519"><span class="lineNum">    6519 </span>                :            :         }</a>
<a name="6520"><span class="lineNum">    6520 </span>                :<span class="lineCov">     421074 :       update_stmt (stmt);</span></a>
<a name="6521"><span class="lineNum">    6521 </span>                :            :       /* In case the VDEF on the original stmt was released, value-number</a>
<a name="6522"><span class="lineNum">    6522 </span>                :            :          it to the VUSE.  This is to make vuse_ssa_val able to skip</a>
<a name="6523"><span class="lineNum">    6523 </span>                :            :          released virtual operands.  */</a>
<a name="6524"><span class="lineNum">    6524 </span>  [<span class="branchCov" title="Branch 0 was taken 72801 times"> + </span><span class="branchCov" title="Branch 1 was taken 348273 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 72801 times"> + </span>]:<span class="lineCov">     421074 :       if (vdef &amp;&amp; SSA_NAME_IN_FREE_LIST (vdef))</span></a>
<a name="6525"><span class="lineNum">    6525 </span>                :<span class="lineNoCov">          0 :         VN_INFO (vdef)-&gt;valnum = vuse;</span></a>
<a name="6526"><span class="lineNum">    6526 </span>                :            :     }</a>
<a name="6527"><span class="lineNum">    6527 </span>                :            : </a>
<a name="6528"><span class="lineNum">    6528 </span>                :            :   /* Make new values available - for fully redundant LHS we</a>
<a name="6529"><span class="lineNum">    6529 </span>                :            :      continue with the next stmt above and skip this.  */</a>
<a name="6530"><span class="lineNum">    6530 </span>                :            :   def_operand_p defp;</a>
<a name="6531"><span class="lineNum">    6531 </span>        [<span class="branchCov" title="Branch 0 was taken 2657890 times"> + </span><span class="branchCov" title="Branch 1 was taken 12324600 times"> + </span>]:<span class="lineCov">   14982500 :   FOR_EACH_SSA_DEF_OPERAND (defp, stmt, iter, SSA_OP_DEF)</span></a>
<a name="6532"><span class="lineNum">    6532 </span>                :<span class="lineCov">    2657890 :     eliminate_push_avail (b, DEF_FROM_PTR (defp));</span></a>
<a name="6533"><span class="lineNum">    6533 </span>                :            : }</a>
<a name="6534"><span class="lineNum">    6534 </span>                :            : </a>
<a name="6535"><span class="lineNum">    6535 </span>                :            : /* Perform elimination for the basic-block B during the domwalk.  */</a>
<a name="6536"><span class="lineNum">    6536 </span>                :            : </a>
<a name="6537"><span class="lineNum">    6537 </span>                :            : edge</a>
<a name="6538"><span class="lineNum">    6538 </span>                :<span class="lineCov">    1986840 : eliminate_dom_walker::before_dom_children (basic_block b)</span></a>
<a name="6539"><span class="lineNum">    6539 </span>                :            : {</a>
<a name="6540"><span class="lineNum">    6540 </span>                :            :   /* Mark new bb.  */</a>
<a name="6541"><span class="lineNum">    6541 </span>                :<span class="lineCov">    1986840 :   avail_stack.safe_push (NULL_TREE);</span></a>
<a name="6542"><span class="lineNum">    6542 </span>                :            : </a>
<a name="6543"><span class="lineNum">    6543 </span>                :            :   /* Skip unreachable blocks marked unreachable during the SCCVN domwalk.  */</a>
<a name="6544"><span class="lineNum">    6544 </span>        [<span class="branchCov" title="Branch 0 was taken 88786 times"> + </span><span class="branchCov" title="Branch 1 was taken 1898050 times"> + </span>]:<span class="lineCov">    1986840 :   if (!(b-&gt;flags &amp; BB_EXECUTABLE))</span></a>
<a name="6545"><span class="lineNum">    6545 </span>                :<span class="lineCov">      88786 :     return NULL;</span></a>
<a name="6546"><span class="lineNum">    6546 </span>                :            : </a>
<a name="6547"><span class="lineNum">    6547 </span>                :<span class="lineCov">    1898050 :   vn_context_bb = b;</span></a>
<a name="6548"><span class="lineNum">    6548 </span>                :            : </a>
<a name="6549"><span class="lineNum">    6549 </span>        [<span class="branchCov" title="Branch 0 was taken 419581 times"> + </span><span class="branchCov" title="Branch 1 was taken 1898050 times"> + </span>]:<span class="lineCov">    2317630 :   for (gphi_iterator gsi = gsi_start_phis (b); !gsi_end_p (gsi);)</span></a>
<a name="6550"><span class="lineNum">    6550 </span>                :            :     {</a>
<a name="6551"><span class="lineNum">    6551 </span>                :<span class="lineCov">     419581 :       gphi *phi = gsi.phi ();</span></a>
<a name="6552"><span class="lineNum">    6552 </span>                :<span class="lineCov">     419581 :       tree res = PHI_RESULT (phi);</span></a>
<a name="6553"><span class="lineNum">    6553 </span>                :            : </a>
<a name="6554"><span class="lineNum">    6554 </span>        [<span class="branchCov" title="Branch 0 was taken 196859 times"> + </span><span class="branchCov" title="Branch 1 was taken 222722 times"> + </span>]:<span class="lineCov">     419581 :       if (virtual_operand_p (res))</span></a>
<a name="6555"><span class="lineNum">    6555 </span>                :            :         {</a>
<a name="6556"><span class="lineNum">    6556 </span>                :<span class="lineCov">     196859 :           gsi_next (&amp;gsi);</span></a>
<a name="6557"><span class="lineNum">    6557 </span>                :<span class="lineCov">     196859 :           continue;</span></a>
<a name="6558"><span class="lineNum">    6558 </span>                :            :         }</a>
<a name="6559"><span class="lineNum">    6559 </span>                :            : </a>
<a name="6560"><span class="lineNum">    6560 </span>                :<span class="lineCov">     222722 :       tree sprime = eliminate_avail (b, res);</span></a>
<a name="6561"><span class="lineNum">    6561 </span>        [<span class="branchCov" title="Branch 0 was taken 20028 times"> + </span><span class="branchCov" title="Branch 1 was taken 202694 times"> + </span>]:<span class="lineCov">     222722 :       if (sprime</span></a>
<a name="6562"><span class="lineNum">    6562 </span>        [<span class="branchCov" title="Branch 0 was taken 20028 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      20028 :           &amp;&amp; sprime != res)</span></a>
<a name="6563"><span class="lineNum">    6563 </span>                :            :         {</a>
<a name="6564"><span class="lineNum">    6564 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 20028 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">      20028 :           if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 20028 times"> + </span>]
<a name="6565"><span class="lineNum">    6565 </span>                :            :             {</a>
<a name="6566"><span class="lineNum">    6566 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot;Replaced redundant PHI node defining &quot;);</span></a>
<a name="6567"><span class="lineNum">    6567 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (dump_file, res);</span></a>
<a name="6568"><span class="lineNum">    6568 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot; with &quot;);</span></a>
<a name="6569"><span class="lineNum">    6569 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (dump_file, sprime);</span></a>
<a name="6570"><span class="lineNum">    6570 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot;\n&quot;);</span></a>
<a name="6571"><span class="lineNum">    6571 </span>                :            :             }</a>
<a name="6572"><span class="lineNum">    6572 </span>                :            : </a>
<a name="6573"><span class="lineNum">    6573 </span>                :            :           /* If we inserted this PHI node ourself, it's not an elimination.  */</a>
<a name="6574"><span class="lineNum">    6574 </span>                :<span class="lineCov">      40056 :           if (! inserted_exprs</span></a>
<a name="6575"><span class="lineNum">    6575 </span>  [<span class="branchCov" title="Branch 0 was taken 7355 times"> + </span><span class="branchCov" title="Branch 1 was taken 12673 times"> + </span><span class="branchCov" title="Branch 2 was taken 6309 times"> + </span><span class="branchCov" title="Branch 3 was taken 1046 times"> + </span> :<span class="lineCov">      20028 :               || ! bitmap_bit_p (inserted_exprs, SSA_NAME_VERSION (res)))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 18982 times"> + </span><span class="branchCov" title="Branch 5 was taken 1046 times"> + </span>]
<a name="6576"><span class="lineNum">    6576 </span>                :<span class="lineCov">      18982 :             eliminations++;</span></a>
<a name="6577"><span class="lineNum">    6577 </span>                :            : </a>
<a name="6578"><span class="lineNum">    6578 </span>                :            :           /* If we will propagate into all uses don't bother to do</a>
<a name="6579"><span class="lineNum">    6579 </span>                :            :              anything.  */</a>
<a name="6580"><span class="lineNum">    6580 </span>        [<span class="branchCov" title="Branch 0 was taken 20028 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      20028 :           if (may_propagate_copy (res, sprime))</span></a>
<a name="6581"><span class="lineNum">    6581 </span>                :            :             {</a>
<a name="6582"><span class="lineNum">    6582 </span>                :            :               /* Mark the PHI for removal.  */</a>
<a name="6583"><span class="lineNum">    6583 </span>                :<span class="lineCov">      20028 :               to_remove.safe_push (phi);</span></a>
<a name="6584"><span class="lineNum">    6584 </span>                :<span class="lineCov">      20028 :               gsi_next (&amp;gsi);</span></a>
<a name="6585"><span class="lineNum">    6585 </span>                :<span class="lineCov">      20028 :               continue;</span></a>
<a name="6586"><span class="lineNum">    6586 </span>                :            :             }</a>
<a name="6587"><span class="lineNum">    6587 </span>                :            : </a>
<a name="6588"><span class="lineNum">    6588 </span>                :<span class="lineNoCov">          0 :           remove_phi_node (&amp;gsi, false);</span></a>
<a name="6589"><span class="lineNum">    6589 </span>                :            : </a>
<a name="6590"><span class="lineNum">    6590 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :           if (!useless_type_conversion_p (TREE_TYPE (res), TREE_TYPE (sprime)))</span></a>
<a name="6591"><span class="lineNum">    6591 </span>                :<span class="lineNoCov">          0 :             sprime = fold_convert (TREE_TYPE (res), sprime);</span></a>
<a name="6592"><span class="lineNum">    6592 </span>                :<span class="lineNoCov">          0 :           gimple *stmt = gimple_build_assign (res, sprime);</span></a>
<a name="6593"><span class="lineNum">    6593 </span>                :<span class="lineNoCov">          0 :           gimple_stmt_iterator gsi2 = gsi_after_labels (b);</span></a>
<a name="6594"><span class="lineNum">    6594 </span>                :<span class="lineNoCov">          0 :           gsi_insert_before (&amp;gsi2, stmt, GSI_NEW_STMT);</span></a>
<a name="6595"><span class="lineNum">    6595 </span>                :<span class="lineNoCov">          0 :           continue;</span></a>
<a name="6596"><span class="lineNum">    6596 </span>                :            :         }</a>
<a name="6597"><span class="lineNum">    6597 </span>                :            : </a>
<a name="6598"><span class="lineNum">    6598 </span>                :<span class="lineCov">     202694 :       eliminate_push_avail (b, res);</span></a>
<a name="6599"><span class="lineNum">    6599 </span>                :<span class="lineCov">     202694 :       gsi_next (&amp;gsi);</span></a>
<a name="6600"><span class="lineNum">    6600 </span>                :            :     }</a>
<a name="6601"><span class="lineNum">    6601 </span>                :            : </a>
<a name="6602"><span class="lineNum">    6602 </span>                :<span class="lineCov">   11199600 :   for (gimple_stmt_iterator gsi = gsi_start_bb (b);</span></a>
<a name="6603"><span class="lineNum">    6603 </span>        [<span class="branchCov" title="Branch 0 was taken 9301560 times"> + </span><span class="branchCov" title="Branch 1 was taken 1898050 times"> + </span>]:<span class="lineCov">   11199600 :        !gsi_end_p (gsi);</span></a>
<a name="6604"><span class="lineNum">    6604 </span>                :<span class="lineCov">    9301560 :        gsi_next (&amp;gsi))</span></a>
<a name="6605"><span class="lineNum">    6605 </span>                :<span class="lineCov">    9301560 :     eliminate_stmt (b, &amp;gsi);</span></a>
<a name="6606"><span class="lineNum">    6606 </span>                :            : </a>
<a name="6607"><span class="lineNum">    6607 </span>                :            :   /* Replace destination PHI arguments.  */</a>
<a name="6608"><span class="lineNum">    6608 </span>                :            :   edge_iterator ei;</a>
<a name="6609"><span class="lineNum">    6609 </span>                :            :   edge e;</a>
<a name="6610"><span class="lineNum">    6610 </span>        [<span class="branchCov" title="Branch 0 was taken 2651550 times"> + </span><span class="branchCov" title="Branch 1 was taken 1898050 times"> + </span>]:<span class="lineCov">    4549610 :   FOR_EACH_EDGE (e, ei, b-&gt;succs)</span></a>
<a name="6611"><span class="lineNum">    6611 </span>        [<span class="branchCov" title="Branch 0 was taken 2641060 times"> + </span><span class="branchCov" title="Branch 1 was taken 10489 times"> + </span>]:<span class="lineCov">    2651550 :     if (e-&gt;flags &amp; EDGE_EXECUTABLE)</span></a>
<a name="6612"><span class="lineNum">    6612 </span>                :<span class="lineCov">    4005260 :       for (gphi_iterator gsi = gsi_start_phis (e-&gt;dest);</span></a>
<a name="6613"><span class="lineNum">    6613 </span>        [<span class="branchCov" title="Branch 0 was taken 1364190 times"> + </span><span class="branchCov" title="Branch 1 was taken 2641060 times"> + </span>]:<span class="lineCov">    4005260 :            !gsi_end_p (gsi);</span></a>
<a name="6614"><span class="lineNum">    6614 </span>                :<span class="lineCov">    1364190 :            gsi_next (&amp;gsi))</span></a>
<a name="6615"><span class="lineNum">    6615 </span>                :            :         {</a>
<a name="6616"><span class="lineNum">    6616 </span>                :<span class="lineCov">    1364190 :           gphi *phi = gsi.phi ();</span></a>
<a name="6617"><span class="lineNum">    6617 </span>                :<span class="lineCov">    1364190 :           use_operand_p use_p = PHI_ARG_DEF_PTR_FROM_EDGE (phi, e);</span></a>
<a name="6618"><span class="lineNum">    6618 </span>                :<span class="lineCov">    1364190 :           tree arg = USE_FROM_PTR (use_p);</span></a>
<a name="6619"><span class="lineNum">    6619 </span>                :<span class="lineCov">    3710780 :           if (TREE_CODE (arg) != SSA_NAME</span></a>
<a name="6620"><span class="lineNum">    6620 </span>  [<span class="branchCov" title="Branch 0 was taken 871949 times"> + </span><span class="branchCov" title="Branch 1 was taken 492244 times"> + </span><span class="branchCov" title="Branch 2 was taken 490147 times"> + </span><span class="branchCov" title="Branch 3 was taken 381802 times"> + </span> :<span class="lineCov">    1364190 :               || virtual_operand_p (arg))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 982391 times"> + </span><span class="branchCov" title="Branch 5 was taken 381802 times"> + </span>]
<a name="6621"><span class="lineNum">    6621 </span>                :<span class="lineCov">     982391 :             continue;</span></a>
<a name="6622"><span class="lineNum">    6622 </span>                :<span class="lineCov">     381802 :           tree sprime = eliminate_avail (b, arg);</span></a>
<a name="6623"><span class="lineNum">    6623 </span>  [<span class="branchCov" title="Branch 0 was taken 381802 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 380961 times"> + </span><span class="branchCov" title="Branch 3 was taken 841 times"> + </span> :<span class="lineCov">     381802 :           if (sprime &amp;&amp; may_propagate_copy (arg, sprime))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 380961 times"> + </span><span class="branchCov" title="Branch 5 was taken 841 times"> + </span>]
<a name="6624"><span class="lineNum">    6624 </span>                :<span class="lineCov">     380961 :             propagate_value (use_p, sprime);</span></a>
<a name="6625"><span class="lineNum">    6625 </span>                :            :         }</a>
<a name="6626"><span class="lineNum">    6626 </span>                :            : </a>
<a name="6627"><span class="lineNum">    6627 </span>                :<span class="lineCov">    1898050 :   vn_context_bb = NULL;</span></a>
<a name="6628"><span class="lineNum">    6628 </span>                :            : </a>
<a name="6629"><span class="lineNum">    6629 </span>                :<span class="lineCov">    1898050 :   return NULL;</span></a>
<a name="6630"><span class="lineNum">    6630 </span>                :            : }</a>
<a name="6631"><span class="lineNum">    6631 </span>                :            : </a>
<a name="6632"><span class="lineNum">    6632 </span>                :            : /* Make no longer available leaders no longer available.  */</a>
<a name="6633"><span class="lineNum">    6633 </span>                :            : </a>
<a name="6634"><span class="lineNum">    6634 </span>                :            : void</a>
<a name="6635"><span class="lineNum">    6635 </span>                :<span class="lineCov">    4070410 : eliminate_dom_walker::after_dom_children (basic_block)</span></a>
<a name="6636"><span class="lineNum">    6636 </span>                :            : {</a>
<a name="6637"><span class="lineNum">    6637 </span>                :            :   tree entry;</a>
<a name="6638"><span class="lineNum">    6638 </span>        [<span class="branchCov" title="Branch 0 was taken 2083570 times"> + </span><span class="branchCov" title="Branch 1 was taken 1986840 times"> + </span>]:<span class="lineCov">    4070410 :   while ((entry = avail_stack.pop ()) != NULL_TREE)</span></a>
<a name="6639"><span class="lineNum">    6639 </span>                :            :     {</a>
<a name="6640"><span class="lineNum">    6640 </span>                :<span class="lineCov">    2083570 :       tree valnum = VN_INFO (entry)-&gt;valnum;</span></a>
<a name="6641"><span class="lineNum">    6641 </span>                :<span class="lineCov">    2083570 :       tree old = avail[SSA_NAME_VERSION (valnum)];</span></a>
<a name="6642"><span class="lineNum">    6642 </span>        [<span class="branchCov" title="Branch 0 was taken 2083520 times"> + </span><span class="branchCov" title="Branch 1 was taken 48 times"> + </span>]:<span class="lineCov">    2083570 :       if (old == entry)</span></a>
<a name="6643"><span class="lineNum">    6643 </span>                :<span class="lineCov">    2083520 :         avail[SSA_NAME_VERSION (valnum)] = NULL_TREE;</span></a>
<a name="6644"><span class="lineNum">    6644 </span>                :            :       else</a>
<a name="6645"><span class="lineNum">    6645 </span>                :<span class="lineCov">         48 :         avail[SSA_NAME_VERSION (valnum)] = entry;</span></a>
<a name="6646"><span class="lineNum">    6646 </span>                :            :     }</a>
<a name="6647"><span class="lineNum">    6647 </span>                :<span class="lineCov">    1986840 : }</span></a>
<a name="6648"><span class="lineNum">    6648 </span>                :            : </a>
<a name="6649"><span class="lineNum">    6649 </span>                :            : /* Remove queued stmts and perform delayed cleanups.  */</a>
<a name="6650"><span class="lineNum">    6650 </span>                :            : </a>
<a name="6651"><span class="lineNum">    6651 </span>                :            : unsigned</a>
<a name="6652"><span class="lineNum">    6652 </span>                :<span class="lineCov">     264622 : eliminate_dom_walker::eliminate_cleanup (bool region_p)</span></a>
<a name="6653"><span class="lineNum">    6653 </span>                :            : {</a>
<a name="6654"><span class="lineNum">    6654 </span>                :<span class="lineCov">     264622 :   statistics_counter_event (cfun, &quot;Eliminated&quot;, eliminations);</span></a>
<a name="6655"><span class="lineNum">    6655 </span>                :<span class="lineCov">     264622 :   statistics_counter_event (cfun, &quot;Insertions&quot;, insertions);</span></a>
<a name="6656"><span class="lineNum">    6656 </span>                :            : </a>
<a name="6657"><span class="lineNum">    6657 </span>                :            :   /* We cannot remove stmts during BB walk, especially not release SSA</a>
<a name="6658"><span class="lineNum">    6658 </span>                :            :      names there as this confuses the VN machinery.  The stmts ending</a>
<a name="6659"><span class="lineNum">    6659 </span>                :            :      up in to_remove are either stores or simple copies.</a>
<a name="6660"><span class="lineNum">    6660 </span>                :            :      Remove stmts in reverse order to make debug stmt creation possible.  */</a>
<a name="6661"><span class="lineNum">    6661 </span>        [<span class="branchCov" title="Branch 0 was taken 617756 times"> + </span><span class="branchCov" title="Branch 1 was taken 264622 times"> + </span>]:<span class="lineCov">     882378 :   while (!to_remove.is_empty ())</span></a>
<a name="6662"><span class="lineNum">    6662 </span>                :            :     {</a>
<a name="6663"><span class="lineNum">    6663 </span>                :<span class="lineCov">     617756 :       bool do_release_defs = true;</span></a>
<a name="6664"><span class="lineNum">    6664 </span>                :<span class="lineCov">     617756 :       gimple *stmt = to_remove.pop ();</span></a>
<a name="6665"><span class="lineNum">    6665 </span>                :            : </a>
<a name="6666"><span class="lineNum">    6666 </span>                :            :       /* When we are value-numbering a region we do not require exit PHIs to</a>
<a name="6667"><span class="lineNum">    6667 </span>                :            :          be present so we have to make sure to deal with uses outside of the</a>
<a name="6668"><span class="lineNum">    6668 </span>                :            :          region of stmts that we thought are eliminated.</a>
<a name="6669"><span class="lineNum">    6669 </span>                :            :          ??? Note we may be confused by uses in dead regions we didn't run</a>
<a name="6670"><span class="lineNum">    6670 </span>                :            :          elimination on.  Rather than checking individual uses we accept</a>
<a name="6671"><span class="lineNum">    6671 </span>                :            :          dead copies to be generated here (gcc.c-torture/execute/20060905-1.c</a>
<a name="6672"><span class="lineNum">    6672 </span>                :            :          contains such example).  */</a>
<a name="6673"><span class="lineNum">    6673 </span>        [<span class="branchCov" title="Branch 0 was taken 16891 times"> + </span><span class="branchCov" title="Branch 1 was taken 600865 times"> + </span>]:<span class="lineCov">     617756 :       if (region_p)</span></a>
<a name="6674"><span class="lineNum">    6674 </span>                :            :         {</a>
<a name="6675"><span class="lineNum">    6675 </span>        [<span class="branchCov" title="Branch 0 was taken 11622 times"> + </span><span class="branchCov" title="Branch 1 was taken 5269 times"> + </span>]:<span class="lineCov">      16891 :           if (gphi *phi = dyn_cast &lt;gphi *&gt; (stmt))</span></a>
<a name="6676"><span class="lineNum">    6676 </span>                :            :             {</a>
<a name="6677"><span class="lineNum">    6677 </span>                :<span class="lineCov">      11622 :               tree lhs = gimple_phi_result (phi);</span></a>
<a name="6678"><span class="lineNum">    6678 </span>        [<span class="branchCov" title="Branch 0 was taken 229 times"> + </span><span class="branchCov" title="Branch 1 was taken 11393 times"> + </span>]:<span class="lineCov">      11622 :               if (!has_zero_uses (lhs))</span></a>
<a name="6679"><span class="lineNum">    6679 </span>                :            :                 {</a>
<a name="6680"><span class="lineNum">    6680 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 229 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        229 :                   if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 229 times"> + </span>]
<a name="6681"><span class="lineNum">    6681 </span>                :<span class="lineNoCov">          0 :                     fprintf (dump_file, &quot;Keeping eliminated stmt live &quot;</span></a>
<a name="6682"><span class="lineNum">    6682 </span>                :            :                              &quot;as copy because of out-of-region uses\n&quot;);</a>
<a name="6683"><span class="lineNum">    6683 </span>                :<span class="lineCov">        229 :                   tree sprime = eliminate_avail (gimple_bb (stmt), lhs);</span></a>
<a name="6684"><span class="lineNum">    6684 </span>                :<span class="lineCov">        229 :                   gimple *copy = gimple_build_assign (lhs, sprime);</span></a>
<a name="6685"><span class="lineNum">    6685 </span>                :            :                   gimple_stmt_iterator gsi</a>
<a name="6686"><span class="lineNum">    6686 </span>                :<span class="lineCov">        229 :                     = gsi_after_labels (gimple_bb (stmt));</span></a>
<a name="6687"><span class="lineNum">    6687 </span>                :<span class="lineCov">        229 :                   gsi_insert_before (&amp;gsi, copy, GSI_SAME_STMT);</span></a>
<a name="6688"><span class="lineNum">    6688 </span>                :<span class="lineCov">        229 :                   do_release_defs = false;</span></a>
<a name="6689"><span class="lineNum">    6689 </span>                :            :                 }</a>
<a name="6690"><span class="lineNum">    6690 </span>                :            :             }</a>
<a name="6691"><span class="lineNum">    6691 </span>        [<span class="branchCov" title="Branch 0 was taken 5269 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">       5269 :           else if (tree lhs = gimple_get_lhs (stmt))</span></a>
<a name="6692"><span class="lineNum">    6692 </span>                :<span class="lineCov">      10538 :             if (TREE_CODE (lhs) == SSA_NAME</span></a>
<a name="6693"><span class="lineNum">    6693 </span>  [<span class="branchCov" title="Branch 0 was taken 5163 times"> + </span><span class="branchCov" title="Branch 1 was taken 106 times"> + </span><span class="branchCov" title="Branch 2 was taken 42 times"> + </span><span class="branchCov" title="Branch 3 was taken 5121 times"> + </span> :<span class="lineCov">       5269 :                 &amp;&amp; !has_zero_uses (lhs))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 42 times"> + </span><span class="branchCov" title="Branch 5 was taken 5227 times"> + </span>]
<a name="6694"><span class="lineNum">    6694 </span>                :            :               {</a>
<a name="6695"><span class="lineNum">    6695 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 42 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">         42 :                 if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 42 times"> + </span>]
<a name="6696"><span class="lineNum">    6696 </span>                :<span class="lineNoCov">          0 :                   fprintf (dump_file, &quot;Keeping eliminated stmt live &quot;</span></a>
<a name="6697"><span class="lineNum">    6697 </span>                :            :                            &quot;as copy because of out-of-region uses\n&quot;);</a>
<a name="6698"><span class="lineNum">    6698 </span>                :<span class="lineCov">         42 :                 tree sprime = eliminate_avail (gimple_bb (stmt), lhs);</span></a>
<a name="6699"><span class="lineNum">    6699 </span>                :<span class="lineCov">         42 :                 gimple_stmt_iterator gsi = gsi_for_stmt (stmt);</span></a>
<a name="6700"><span class="lineNum">    6700 </span>        [<span class="branchCov" title="Branch 0 was taken 42 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">         42 :                 if (is_gimple_assign (stmt))</span></a>
<a name="6701"><span class="lineNum">    6701 </span>                :            :                   {</a>
<a name="6702"><span class="lineNum">    6702 </span>                :<span class="lineCov">         42 :                     gimple_assign_set_rhs_from_tree (&amp;gsi, sprime);</span></a>
<a name="6703"><span class="lineNum">    6703 </span>                :<span class="lineCov">         42 :                     stmt = gsi_stmt (gsi);</span></a>
<a name="6704"><span class="lineNum">    6704 </span>                :<span class="lineCov">         42 :                     update_stmt (stmt);</span></a>
<a name="6705"><span class="lineNum">    6705 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 42 times"> + </span>]:<span class="lineCov">         42 :                     if (maybe_clean_or_replace_eh_stmt (stmt, stmt))</span></a>
<a name="6706"><span class="lineNum">    6706 </span>                :<span class="lineNoCov">          0 :                       bitmap_set_bit (need_eh_cleanup, gimple_bb (stmt)-&gt;index);</span></a>
<a name="6707"><span class="lineNum">    6707 </span>                :<span class="lineCov">         42 :                     continue;</span></a>
<a name="6708"><span class="lineNum">    6708 </span>                :            :                   }</a>
<a name="6709"><span class="lineNum">    6709 </span>                :            :                 else</a>
<a name="6710"><span class="lineNum">    6710 </span>                :            :                   {</a>
<a name="6711"><span class="lineNum">    6711 </span>                :<span class="lineNoCov">          0 :                     gimple *copy = gimple_build_assign (lhs, sprime);</span></a>
<a name="6712"><span class="lineNum">    6712 </span>                :<span class="lineNoCov">          0 :                     gsi_insert_before (&amp;gsi, copy, GSI_SAME_STMT);</span></a>
<a name="6713"><span class="lineNum">    6713 </span>                :<span class="lineNoCov">          0 :                     do_release_defs = false;</span></a>
<a name="6714"><span class="lineNum">    6714 </span>                :            :                   }</a>
<a name="6715"><span class="lineNum">    6715 </span>                :            :               }</a>
<a name="6716"><span class="lineNum">    6716 </span>                :            :         }</a>
<a name="6717"><span class="lineNum">    6717 </span>                :            : </a>
<a name="6718"><span class="lineNum">    6718 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 617714 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     617714 :       if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 617714 times"> + </span>]
<a name="6719"><span class="lineNum">    6719 </span>                :            :         {</a>
<a name="6720"><span class="lineNum">    6720 </span>                :<span class="lineNoCov">          0 :           fprintf (dump_file, &quot;Removing dead stmt &quot;);</span></a>
<a name="6721"><span class="lineNum">    6721 </span>                :<span class="lineNoCov">          0 :           print_gimple_stmt (dump_file, stmt, 0, TDF_NONE);</span></a>
<a name="6722"><span class="lineNum">    6722 </span>                :            :         }</a>
<a name="6723"><span class="lineNum">    6723 </span>                :            : </a>
<a name="6724"><span class="lineNum">    6724 </span>                :<span class="lineCov">     617714 :       gimple_stmt_iterator gsi = gsi_for_stmt (stmt);</span></a>
<a name="6725"><span class="lineNum">    6725 </span>        [<span class="branchCov" title="Branch 0 was taken 38212 times"> + </span><span class="branchCov" title="Branch 1 was taken 579502 times"> + </span>]:<span class="lineCov">     617714 :       if (gimple_code (stmt) == GIMPLE_PHI)</span></a>
<a name="6726"><span class="lineNum">    6726 </span>                :<span class="lineCov">      38212 :         remove_phi_node (&amp;gsi, do_release_defs);</span></a>
<a name="6727"><span class="lineNum">    6727 </span>                :            :       else</a>
<a name="6728"><span class="lineNum">    6728 </span>                :            :         {</a>
<a name="6729"><span class="lineNum">    6729 </span>                :<span class="lineCov">     579502 :           basic_block bb = gimple_bb (stmt);</span></a>
<a name="6730"><span class="lineNum">    6730 </span>                :<span class="lineCov">     579502 :           unlink_stmt_vdef (stmt);</span></a>
<a name="6731"><span class="lineNum">    6731 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 579502 times"> + </span>]:<span class="lineCov">     579502 :           if (gsi_remove (&amp;gsi, true))</span></a>
<a name="6732"><span class="lineNum">    6732 </span>                :<span class="lineNoCov">          0 :             bitmap_set_bit (need_eh_cleanup, bb-&gt;index);</span></a>
<a name="6733"><span class="lineNum">    6733 </span>  [<span class="branchCov" title="Branch 0 was taken 1459 times"> + </span><span class="branchCov" title="Branch 1 was taken 578043 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 1459 times"> + </span> :<span class="lineCov">     579502 :           if (is_gimple_call (stmt) &amp;&amp; stmt_can_make_abnormal_goto (stmt))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 579502 times"> + </span>]
<a name="6734"><span class="lineNum">    6734 </span>                :<span class="lineNoCov">          0 :             bitmap_set_bit (need_ab_cleanup, bb-&gt;index);</span></a>
<a name="6735"><span class="lineNum">    6735 </span>        [<span class="branchCov" title="Branch 0 was taken 579502 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     579502 :           if (do_release_defs)</span></a>
<a name="6736"><span class="lineNum">    6736 </span>                :<span class="lineCov">     579502 :             release_defs (stmt);</span></a>
<a name="6737"><span class="lineNum">    6737 </span>                :            :         }</a>
<a name="6738"><span class="lineNum">    6738 </span>                :            : </a>
<a name="6739"><span class="lineNum">    6739 </span>                :            :       /* Removing a stmt may expose a forwarder block.  */</a>
<a name="6740"><span class="lineNum">    6740 </span>                :<span class="lineCov">     617714 :       el_todo |= TODO_cleanup_cfg;</span></a>
<a name="6741"><span class="lineNum">    6741 </span>                :            :     }</a>
<a name="6742"><span class="lineNum">    6742 </span>                :            : </a>
<a name="6743"><span class="lineNum">    6743 </span>                :            :   /* Fixup stmts that became noreturn calls.  This may require splitting</a>
<a name="6744"><span class="lineNum">    6744 </span>                :            :      blocks and thus isn't possible during the dominator walk.  Do this</a>
<a name="6745"><span class="lineNum">    6745 </span>                :            :      in reverse order so we don't inadvertedly remove a stmt we want to</a>
<a name="6746"><span class="lineNum">    6746 </span>                :            :      fixup by visiting a dominating now noreturn call first.  */</a>
<a name="6747"><span class="lineNum">    6747 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 264622 times"> + </span>]:<span class="lineCov">     264622 :   while (!to_fixup.is_empty ())</span></a>
<a name="6748"><span class="lineNum">    6748 </span>                :            :     {</a>
<a name="6749"><span class="lineNum">    6749 </span>                :<span class="lineNoCov">          0 :       gimple *stmt = to_fixup.pop ();</span></a>
<a name="6750"><span class="lineNum">    6750 </span>                :            : </a>
<a name="6751"><span class="lineNum">    6751 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :       if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="6752"><span class="lineNum">    6752 </span>                :            :         {</a>
<a name="6753"><span class="lineNum">    6753 </span>                :<span class="lineNoCov">          0 :           fprintf (dump_file, &quot;Fixing up noreturn call &quot;);</span></a>
<a name="6754"><span class="lineNum">    6754 </span>                :<span class="lineNoCov">          0 :           print_gimple_stmt (dump_file, stmt, 0);</span></a>
<a name="6755"><span class="lineNum">    6755 </span>                :            :         }</a>
<a name="6756"><span class="lineNum">    6756 </span>                :            : </a>
<a name="6757"><span class="lineNum">    6757 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :       if (fixup_noreturn_call (stmt))</span></a>
<a name="6758"><span class="lineNum">    6758 </span>                :<span class="lineNoCov">          0 :         el_todo |= TODO_cleanup_cfg;</span></a>
<a name="6759"><span class="lineNum">    6759 </span>                :            :     }</a>
<a name="6760"><span class="lineNum">    6760 </span>                :            : </a>
<a name="6761"><span class="lineNum">    6761 </span>                :<span class="lineCov">     264622 :   bool do_eh_cleanup = !bitmap_empty_p (need_eh_cleanup);</span></a>
<a name="6762"><span class="lineNum">    6762 </span>                :<span class="lineCov">     264622 :   bool do_ab_cleanup = !bitmap_empty_p (need_ab_cleanup);</span></a>
<a name="6763"><span class="lineNum">    6763 </span>                :            : </a>
<a name="6764"><span class="lineNum">    6764 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 264622 times"> + </span>]:<span class="lineCov">     264622 :   if (do_eh_cleanup)</span></a>
<a name="6765"><span class="lineNum">    6765 </span>                :<span class="lineNoCov">          0 :     gimple_purge_all_dead_eh_edges (need_eh_cleanup);</span></a>
<a name="6766"><span class="lineNum">    6766 </span>                :            : </a>
<a name="6767"><span class="lineNum">    6767 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 264622 times"> + </span>]:<span class="lineCov">     264622 :   if (do_ab_cleanup)</span></a>
<a name="6768"><span class="lineNum">    6768 </span>                :<span class="lineNoCov">          0 :     gimple_purge_all_dead_abnormal_call_edges (need_ab_cleanup);</span></a>
<a name="6769"><span class="lineNum">    6769 </span>                :            : </a>
<a name="6770"><span class="lineNum">    6770 </span>  [<span class="branchCov" title="Branch 0 was taken 264622 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 264622 times"> + </span>]:<span class="lineCov">     264622 :   if (do_eh_cleanup || do_ab_cleanup)</span></a>
<a name="6771"><span class="lineNum">    6771 </span>                :<span class="lineNoCov">          0 :     el_todo |= TODO_cleanup_cfg;</span></a>
<a name="6772"><span class="lineNum">    6772 </span>                :            : </a>
<a name="6773"><span class="lineNum">    6773 </span>                :<span class="lineCov">     264622 :   return el_todo;</span></a>
<a name="6774"><span class="lineNum">    6774 </span>                :            : }</a>
<a name="6775"><span class="lineNum">    6775 </span>                :            : </a>
<a name="6776"><span class="lineNum">    6776 </span>                :            : /* Eliminate fully redundant computations.  */</a>
<a name="6777"><span class="lineNum">    6777 </span>                :            : </a>
<a name="6778"><span class="lineNum">    6778 </span>                :            : unsigned</a>
<a name="6779"><span class="lineNum">    6779 </span>                :<span class="lineCov">     185670 : eliminate_with_rpo_vn (bitmap inserted_exprs)</span></a>
<a name="6780"><span class="lineNum">    6780 </span>                :            : {</a>
<a name="6781"><span class="lineNum">    6781 </span>                :<span class="lineCov">     371340 :   eliminate_dom_walker walker (CDI_DOMINATORS, inserted_exprs);</span></a>
<a name="6782"><span class="lineNum">    6782 </span>                :            : </a>
<a name="6783"><span class="lineNum">    6783 </span>                :<span class="lineCov">     185670 :   eliminate_dom_walker *saved_rpo_avail = rpo_avail;</span></a>
<a name="6784"><span class="lineNum">    6784 </span>                :<span class="lineCov">     185670 :   rpo_avail = &amp;walker;</span></a>
<a name="6785"><span class="lineNum">    6785 </span>                :<span class="lineCov">     185670 :   walker.walk (cfun-&gt;cfg-&gt;x_entry_block_ptr);</span></a>
<a name="6786"><span class="lineNum">    6786 </span>                :<span class="lineCov">     185670 :   rpo_avail = saved_rpo_avail;</span></a>
<a name="6787"><span class="lineNum">    6787 </span>                :            : </a>
<a name="6788"><span class="lineNum">    6788 </span>                :<span class="lineCov">     185670 :   return walker.eliminate_cleanup ();</span></a>
<a name="6789"><span class="lineNum">    6789 </span>                :            : }</a>
<a name="6790"><span class="lineNum">    6790 </span>                :            : </a>
<a name="6791"><span class="lineNum">    6791 </span>                :            : static unsigned</a>
<a name="6792"><span class="lineNum">    6792 </span>                :            : do_rpo_vn (function *fn, edge entry, bitmap exit_bbs,</a>
<a name="6793"><span class="lineNum">    6793 </span>                :            :            bool iterate, bool eliminate);</a>
<a name="6794"><span class="lineNum">    6794 </span>                :            : </a>
<a name="6795"><span class="lineNum">    6795 </span>                :            : void</a>
<a name="6796"><span class="lineNum">    6796 </span>                :<span class="lineCov">      53238 : run_rpo_vn (vn_lookup_kind kind)</span></a>
<a name="6797"><span class="lineNum">    6797 </span>                :            : {</a>
<a name="6798"><span class="lineNum">    6798 </span>                :<span class="lineCov">      53238 :   default_vn_walk_kind = kind;</span></a>
<a name="6799"><span class="lineNum">    6799 </span>                :<span class="lineCov">      53238 :   do_rpo_vn (cfun, NULL, NULL, true, false);</span></a>
<a name="6800"><span class="lineNum">    6800 </span>                :            : </a>
<a name="6801"><span class="lineNum">    6801 </span>                :            :   /* ???  Prune requirement of these.  */</a>
<a name="6802"><span class="lineNum">    6802 </span>                :<span class="lineCov">      53238 :   constant_to_value_id = new hash_table&lt;vn_constant_hasher&gt; (23);</span></a>
<a name="6803"><span class="lineNum">    6803 </span>                :            : </a>
<a name="6804"><span class="lineNum">    6804 </span>                :            :   /* Initialize the value ids and prune out remaining VN_TOPs</a>
<a name="6805"><span class="lineNum">    6805 </span>                :            :      from dead code.  */</a>
<a name="6806"><span class="lineNum">    6806 </span>                :            :   tree name;</a>
<a name="6807"><span class="lineNum">    6807 </span>                :            :   unsigned i;</a>
<a name="6808"><span class="lineNum">    6808 </span>  [<span class="branchCov" title="Branch 0 was taken 1804330 times"> + </span><span class="branchCov" title="Branch 1 was taken 53238 times"> + </span><span class="branchCov" title="Branch 2 was taken 1222880 times"> + </span><span class="branchCov" title="Branch 3 was taken 581454 times"> + </span>]:<span class="lineCov">    1857570 :   FOR_EACH_SSA_NAME (i, name, cfun)</span></a>
<a name="6809"><span class="lineNum">    6809 </span>                :            :     {</a>
<a name="6810"><span class="lineNum">    6810 </span>                :<span class="lineCov">    1222880 :       vn_ssa_aux_t info = VN_INFO (name);</span></a>
<a name="6811"><span class="lineNum">    6811 </span>        [<span class="branchCov" title="Branch 0 was taken 1221510 times"> + </span><span class="branchCov" title="Branch 1 was taken 1365 times"> + </span>]:<span class="lineCov">    1222880 :       if (!info-&gt;visited</span></a>
<a name="6812"><span class="lineNum">    6812 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1221510 times"> + </span>]:<span class="lineCov">    1221510 :           || info-&gt;valnum == VN_TOP)</span></a>
<a name="6813"><span class="lineNum">    6813 </span>                :<span class="lineCov">       1365 :         info-&gt;valnum = name;</span></a>
<a name="6814"><span class="lineNum">    6814 </span>        [<span class="branchCov" title="Branch 0 was taken 1165220 times"> + </span><span class="branchCov" title="Branch 1 was taken 57655 times"> + </span>]:<span class="lineCov">    1222880 :       if (info-&gt;valnum == name)</span></a>
<a name="6815"><span class="lineNum">    6815 </span>                :<span class="lineCov">    1165220 :         info-&gt;value_id = get_next_value_id ();</span></a>
<a name="6816"><span class="lineNum">    6816 </span>        [<span class="branchCov" title="Branch 0 was taken 2431 times"> + </span><span class="branchCov" title="Branch 1 was taken 55224 times"> + </span>]:<span class="lineCov">      57655 :       else if (is_gimple_min_invariant (info-&gt;valnum))</span></a>
<a name="6817"><span class="lineNum">    6817 </span>                :<span class="lineCov">       2431 :         info-&gt;value_id = get_or_alloc_constant_value_id (info-&gt;valnum);</span></a>
<a name="6818"><span class="lineNum">    6818 </span>                :            :     }</a>
<a name="6819"><span class="lineNum">    6819 </span>                :            : </a>
<a name="6820"><span class="lineNum">    6820 </span>                :            :   /* Propagate.  */</a>
<a name="6821"><span class="lineNum">    6821 </span>  [<span class="branchCov" title="Branch 0 was taken 1804330 times"> + </span><span class="branchCov" title="Branch 1 was taken 53238 times"> + </span><span class="branchCov" title="Branch 2 was taken 1222880 times"> + </span><span class="branchCov" title="Branch 3 was taken 581454 times"> + </span>]:<span class="lineCov">    1857570 :   FOR_EACH_SSA_NAME (i, name, cfun)</span></a>
<a name="6822"><span class="lineNum">    6822 </span>                :            :     {</a>
<a name="6823"><span class="lineNum">    6823 </span>                :<span class="lineCov">    1222880 :       vn_ssa_aux_t info = VN_INFO (name);</span></a>
<a name="6824"><span class="lineNum">    6824 </span>                :<span class="lineCov">    2445750 :       if (TREE_CODE (info-&gt;valnum) == SSA_NAME</span></a>
<a name="6825"><span class="lineNum">    6825 </span>        [<span class="branchCov" title="Branch 0 was taken 55224 times"> + </span><span class="branchCov" title="Branch 1 was taken 1165220 times"> + </span>]:<span class="lineCov">    1220450 :           &amp;&amp; info-&gt;valnum != name</span></a>
<a name="6826"><span class="lineNum">    6826 </span>  [<span class="branchCov" title="Branch 0 was taken 1220450 times"> + </span><span class="branchCov" title="Branch 1 was taken 2431 times"> + </span><span class="branchCov" title="Branch 2 was taken 55224 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">    2443320 :           &amp;&amp; info-&gt;value_id != VN_INFO (info-&gt;valnum)-&gt;value_id)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 55224 times"> + </span><span class="branchCov" title="Branch 5 was taken 1167650 times"> + </span>]
<a name="6827"><span class="lineNum">    6827 </span>                :<span class="lineCov">      55224 :         info-&gt;value_id = VN_INFO (info-&gt;valnum)-&gt;value_id;</span></a>
<a name="6828"><span class="lineNum">    6828 </span>                :            :     }</a>
<a name="6829"><span class="lineNum">    6829 </span>                :            : </a>
<a name="6830"><span class="lineNum">    6830 </span>                :<span class="lineCov">      53238 :   set_hashtable_value_ids ();</span></a>
<a name="6831"><span class="lineNum">    6831 </span>                :            : </a>
<a name="6832"><span class="lineNum">    6832 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 53238 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">      53238 :   if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 53238 times"> + </span>]
<a name="6833"><span class="lineNum">    6833 </span>                :            :     {</a>
<a name="6834"><span class="lineNum">    6834 </span>                :<span class="lineNoCov">          0 :       fprintf (dump_file, &quot;Value numbers:\n&quot;);</span></a>
<a name="6835"><span class="lineNum">    6835 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span>]:<span class="lineNoCov">          0 :       FOR_EACH_SSA_NAME (i, name, cfun)</span></a>
<a name="6836"><span class="lineNum">    6836 </span>                :            :         {</a>
<a name="6837"><span class="lineNum">    6837 </span>                :<span class="lineNoCov">          0 :           if (VN_INFO (name)-&gt;visited</span></a>
<a name="6838"><span class="lineNum">    6838 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :               &amp;&amp; SSA_VAL (name) != name)</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="6839"><span class="lineNum">    6839 </span>                :            :             {</a>
<a name="6840"><span class="lineNum">    6840 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (dump_file, name);</span></a>
<a name="6841"><span class="lineNum">    6841 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot; = &quot;);</span></a>
<a name="6842"><span class="lineNum">    6842 </span>                :<span class="lineNoCov">          0 :               print_generic_expr (dump_file, SSA_VAL (name));</span></a>
<a name="6843"><span class="lineNum">    6843 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot; (%04d)\n&quot;, VN_INFO (name)-&gt;value_id);</span></a>
<a name="6844"><span class="lineNum">    6844 </span>                :            :             }</a>
<a name="6845"><span class="lineNum">    6845 </span>                :            :         }</a>
<a name="6846"><span class="lineNum">    6846 </span>                :            :     }</a>
<a name="6847"><span class="lineNum">    6847 </span>                :<span class="lineCov">      53238 : }</span></a>
<a name="6848"><span class="lineNum">    6848 </span>                :            : </a>
<a name="6849"><span class="lineNum">    6849 </span>                :            : /* Free VN associated data structures.  */</a>
<a name="6850"><span class="lineNum">    6850 </span>                :            : </a>
<a name="6851"><span class="lineNum">    6851 </span>                :            : void</a>
<a name="6852"><span class="lineNum">    6852 </span>                :<span class="lineCov">     264622 : free_rpo_vn (void)</span></a>
<a name="6853"><span class="lineNum">    6853 </span>                :            : {</a>
<a name="6854"><span class="lineNum">    6854 </span>                :<span class="lineCov">     264622 :   free_vn_table (valid_info);</span></a>
<a name="6855"><span class="lineNum">    6855 </span>                :<span class="lineCov">     264622 :   XDELETE (valid_info);</span></a>
<a name="6856"><span class="lineNum">    6856 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 264622 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">     264622 :   obstack_free (&amp;vn_tables_obstack, NULL);</span></a>
<a name="6857"><span class="lineNum">    6857 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 264622 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">     264622 :   obstack_free (&amp;vn_tables_insert_obstack, NULL);</span></a>
<a name="6858"><span class="lineNum">    6858 </span>                :            : </a>
<a name="6859"><span class="lineNum">    6859 </span>                :<span class="lineCov">     264622 :   vn_ssa_aux_iterator_type it;</span></a>
<a name="6860"><span class="lineNum">    6860 </span>                :            :   vn_ssa_aux_t info;</a>
<a name="6861"><span class="lineNum">    6861 </span>  [<span class="branchCov" title="Branch 0 was taken 5814540 times"> + </span><span class="branchCov" title="Branch 1 was taken 264622 times"> + </span><span class="branchCov" title="Branch 2 was taken 5814540 times"> + </span><span class="branchCov" title="Branch 3 was taken 264622 times"> + </span>]:<span class="lineCov">    6079160 :   FOR_EACH_HASH_TABLE_ELEMENT (*vn_ssa_aux_hash, info, vn_ssa_aux_t, it)</span></a>
<a name="6862"><span class="lineNum">    6862 </span>        [<span class="branchCov" title="Branch 0 was taken 143165 times"> + </span><span class="branchCov" title="Branch 1 was taken 5671380 times"> + </span>]:<span class="lineCov">    5814540 :     if (info-&gt;needs_insertion)</span></a>
<a name="6863"><span class="lineNum">    6863 </span>                :<span class="lineCov">     143165 :       release_ssa_name (info-&gt;name);</span></a>
<a name="6864"><span class="lineNum">    6864 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 264622 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">     264622 :   obstack_free (&amp;vn_ssa_aux_obstack, NULL);</span></a>
<a name="6865"><span class="lineNum">    6865 </span>        [<span class="branchCov" title="Branch 0 was taken 264622 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     264622 :   delete vn_ssa_aux_hash;</span></a>
<a name="6866"><span class="lineNum">    6866 </span>                :            : </a>
<a name="6867"><span class="lineNum">    6867 </span>        [<span class="branchCov" title="Branch 0 was taken 53238 times"> + </span><span class="branchCov" title="Branch 1 was taken 211384 times"> + </span>]:<span class="lineCov">     264622 :   delete constant_to_value_id;</span></a>
<a name="6868"><span class="lineNum">    6868 </span>                :<span class="lineCov">     264622 :   constant_to_value_id = NULL;</span></a>
<a name="6869"><span class="lineNum">    6869 </span>                :<span class="lineCov">     264622 : }</span></a>
<a name="6870"><span class="lineNum">    6870 </span>                :            : </a>
<a name="6871"><span class="lineNum">    6871 </span>                :            : /* Hook for maybe_push_res_to_seq, lookup the expression in the VN tables.  */</a>
<a name="6872"><span class="lineNum">    6872 </span>                :            : </a>
<a name="6873"><span class="lineNum">    6873 </span>                :            : static tree</a>
<a name="6874"><span class="lineNum">    6874 </span>                :<span class="lineCov">     615493 : vn_lookup_simplify_result (gimple_match_op *res_op)</span></a>
<a name="6875"><span class="lineNum">    6875 </span>                :            : {</a>
<a name="6876"><span class="lineNum">    6876 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 615493 times"> + </span>]:<span class="lineCov">     615493 :   if (!res_op-&gt;code.is_tree_code ())</span></a>
<a name="6877"><span class="lineNum">    6877 </span>                :<span class="lineNoCov">          0 :     return NULL_TREE;</span></a>
<a name="6878"><span class="lineNum">    6878 </span>                :<span class="lineCov">     615493 :   tree *ops = res_op-&gt;ops;</span></a>
<a name="6879"><span class="lineNum">    6879 </span>                :<span class="lineCov">     615493 :   unsigned int length = res_op-&gt;num_ops;</span></a>
<a name="6880"><span class="lineNum">    6880 </span>                :<span class="lineCov">     615493 :   if (res_op-&gt;code == CONSTRUCTOR</span></a>
<a name="6881"><span class="lineNum">    6881 </span>                :            :       /* ???  We're arriving here with SCCVNs view, decomposed CONSTRUCTOR</a>
<a name="6882"><span class="lineNum">    6882 </span>                :            :          and GIMPLEs / match-and-simplifies, CONSTRUCTOR as GENERIC tree.  */</a>
<a name="6883"><span class="lineNum">    6883 </span>  [<span class="branchCov" title="Branch 0 was taken 26 times"> + </span><span class="branchCov" title="Branch 1 was taken 615467 times"> + </span><span class="branchCov" title="Branch 2 was taken 6 times"> + </span><span class="branchCov" title="Branch 3 was taken 20 times"> + </span> :<span class="lineCov">     615493 :       &amp;&amp; TREE_CODE (res_op-&gt;ops[0]) == CONSTRUCTOR)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 6 times"> + </span><span class="branchCov" title="Branch 5 was taken 615487 times"> + </span>]
<a name="6884"><span class="lineNum">    6884 </span>                :            :     {</a>
<a name="6885"><span class="lineNum">    6885 </span>                :<span class="lineCov">          6 :       length = CONSTRUCTOR_NELTS (res_op-&gt;ops[0]);</span></a>
<a name="6886"><span class="lineNum">    6886 </span>                :<span class="lineCov">          6 :       ops = XALLOCAVEC (tree, length);</span></a>
<a name="6887"><span class="lineNum">    6887 </span>        [<span class="branchCov" title="Branch 0 was taken 56 times"> + </span><span class="branchCov" title="Branch 1 was taken 6 times"> + </span>]:<span class="lineCov">         62 :       for (unsigned i = 0; i &lt; length; ++i)</span></a>
<a name="6888"><span class="lineNum">    6888 </span>                :<span class="lineCov">         56 :         ops[i] = CONSTRUCTOR_ELT (res_op-&gt;ops[0], i)-&gt;value;</span></a>
<a name="6889"><span class="lineNum">    6889 </span>                :            :     }</a>
<a name="6890"><span class="lineNum">    6890 </span>                :<span class="lineCov">     615493 :   vn_nary_op_t vnresult = NULL;</span></a>
<a name="6891"><span class="lineNum">    6891 </span>                :<span class="lineCov">     615493 :   tree res = vn_nary_op_lookup_pieces (length, (tree_code) res_op-&gt;code,</span></a>
<a name="6892"><span class="lineNum">    6892 </span>                :            :                                        res_op-&gt;type, ops, &amp;vnresult);</a>
<a name="6893"><span class="lineNum">    6893 </span>                :            :   /* If this is used from expression simplification make sure to</a>
<a name="6894"><span class="lineNum">    6894 </span>                :            :      return an available expression.  */</a>
<a name="6895"><span class="lineNum">    6895 </span>  [<span class="branchCov" title="Branch 0 was taken 52139 times"> + </span><span class="branchCov" title="Branch 1 was taken 563354 times"> + </span><span class="branchCov" title="Branch 2 was taken 52139 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     615493 :   if (res &amp;&amp; TREE_CODE (res) == SSA_NAME &amp;&amp; mprts_hook &amp;&amp; rpo_avail)</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 44600 times"> + </span><span class="branchCov" title="Branch 5 was taken 7539 times"> + </span><span class="branchCov" title="Branch 6 was taken 44397 times"> + </span><span class="branchCov" title="Branch 7 was taken 203 times"> + </span>]
<a name="6896"><span class="lineNum">    6896 </span>                :<span class="lineCov">      44397 :     res = rpo_avail-&gt;eliminate_avail (vn_context_bb, res);</span></a>
<a name="6897"><span class="lineNum">    6897 </span>                :<span class="lineCov">     615493 :   return res;</span></a>
<a name="6898"><span class="lineNum">    6898 </span>                :            : }</a>
<a name="6899"><span class="lineNum">    6899 </span>                :            : </a>
<a name="6900"><span class="lineNum">    6900 </span>                :            : /* Return a leader for OPs value that is valid at BB.  */</a>
<a name="6901"><span class="lineNum">    6901 </span>                :            : </a>
<a name="6902"><span class="lineNum">    6902 </span>                :            : tree</a>
<a name="6903"><span class="lineNum">    6903 </span>                :<span class="lineCov">    8772190 : rpo_elim::eliminate_avail (basic_block bb, tree op)</span></a>
<a name="6904"><span class="lineNum">    6904 </span>                :            : {</a>
<a name="6905"><span class="lineNum">    6905 </span>                :            :   bool visited;</a>
<a name="6906"><span class="lineNum">    6906 </span>                :<span class="lineCov">    8772190 :   tree valnum = SSA_VAL (op, &amp;visited);</span></a>
<a name="6907"><span class="lineNum">    6907 </span>                :            :   /* If we didn't visit OP then it must be defined outside of the</a>
<a name="6908"><span class="lineNum">    6908 </span>                :            :      region we process and also dominate it.  So it is available.  */</a>
<a name="6909"><span class="lineNum">    6909 </span>        [<span class="branchCov" title="Branch 0 was taken 95128 times"> + </span><span class="branchCov" title="Branch 1 was taken 8677060 times"> + </span>]:<span class="lineCov">    8772190 :   if (!visited)</span></a>
<a name="6910"><span class="lineNum">    6910 </span>                :<span class="lineCov">      95128 :     return op;</span></a>
<a name="6911"><span class="lineNum">    6911 </span>        [<span class="branchCov" title="Branch 0 was taken 8462400 times"> + </span><span class="branchCov" title="Branch 1 was taken 214663 times"> + </span>]:<span class="lineCov">    8677060 :   if (TREE_CODE (valnum) == SSA_NAME)</span></a>
<a name="6912"><span class="lineNum">    6912 </span>                :            :     {</a>
<a name="6913"><span class="lineNum">    6913 </span>        [<span class="branchCov" title="Branch 0 was taken 313531 times"> + </span><span class="branchCov" title="Branch 1 was taken 8148860 times"> + </span>]:<span class="lineCov">    8462400 :       if (SSA_NAME_IS_DEFAULT_DEF (valnum))</span></a>
<a name="6914"><span class="lineNum">    6914 </span>                :<span class="lineCov">     313531 :         return valnum;</span></a>
<a name="6915"><span class="lineNum">    6915 </span>                :<span class="lineCov">    8148860 :       vn_avail *av = VN_INFO (valnum)-&gt;avail;</span></a>
<a name="6916"><span class="lineNum">    6916 </span>        [<span class="branchCov" title="Branch 0 was taken 3007920 times"> + </span><span class="branchCov" title="Branch 1 was taken 5140950 times"> + </span>]:<span class="lineCov">    8148860 :       if (!av)</span></a>
<a name="6917"><span class="lineNum">    6917 </span>                :<span class="lineCov">    3007920 :         return NULL_TREE;</span></a>
<a name="6918"><span class="lineNum">    6918 </span>        [<span class="branchCov" title="Branch 0 was taken 3370100 times"> + </span><span class="branchCov" title="Branch 1 was taken 1770850 times"> + </span>]:<span class="lineCov">    5140950 :       if (av-&gt;location == bb-&gt;index)</span></a>
<a name="6919"><span class="lineNum">    6919 </span>                :            :         /* On tramp3d 90% of the cases are here.  */</a>
<a name="6920"><span class="lineNum">    6920 </span>                :<span class="lineCov">    3370100 :         return ssa_name (av-&gt;leader);</span></a>
<a name="6921"><span class="lineNum">    6921 </span>                :<span class="lineCov">     746121 :       do</span></a>
<a name="6922"><span class="lineNum">    6922 </span>                :            :         {</a>
<a name="6923"><span class="lineNum">    6923 </span>                :<span class="lineCov">    2516970 :           basic_block abb = BASIC_BLOCK_FOR_FN (cfun, av-&gt;location);</span></a>
<a name="6924"><span class="lineNum">    6924 </span>                :            :           /* ???  During elimination we have to use availability at the</a>
<a name="6925"><span class="lineNum">    6925 </span>                :            :              definition site of a use we try to replace.  This</a>
<a name="6926"><span class="lineNum">    6926 </span>                :            :              is required to not run into inconsistencies because</a>
<a name="6927"><span class="lineNum">    6927 </span>                :            :              of dominated_by_p_w_unex behavior and removing a definition</a>
<a name="6928"><span class="lineNum">    6928 </span>                :            :              while not replacing all uses.</a>
<a name="6929"><span class="lineNum">    6929 </span>                :            :              ???  We could try to consistently walk dominators</a>
<a name="6930"><span class="lineNum">    6930 </span>                :            :              ignoring non-executable regions.  The nearest common</a>
<a name="6931"><span class="lineNum">    6931 </span>                :            :              dominator of bb and abb is where we can stop walking.  We</a>
<a name="6932"><span class="lineNum">    6932 </span>                :            :              may also be able to &quot;pre-compute&quot; (bits of) the next immediate</a>
<a name="6933"><span class="lineNum">    6933 </span>                :            :              (non-)dominator during the RPO walk when marking edges as</a>
<a name="6934"><span class="lineNum">    6934 </span>                :            :              executable.  */</a>
<a name="6935"><span class="lineNum">    6935 </span>        [<span class="branchCov" title="Branch 0 was taken 1596490 times"> + </span><span class="branchCov" title="Branch 1 was taken 920481 times"> + </span>]:<span class="lineCov">    2516970 :           if (dominated_by_p_w_unex (bb, abb, true))</span></a>
<a name="6936"><span class="lineNum">    6936 </span>                :            :             {</a>
<a name="6937"><span class="lineNum">    6937 </span>                :<span class="lineCov">    1596490 :               tree leader = ssa_name (av-&gt;leader);</span></a>
<a name="6938"><span class="lineNum">    6938 </span>                :            :               /* Prevent eliminations that break loop-closed SSA.  */</a>
<a name="6939"><span class="lineNum">    6939 </span>                :<span class="lineCov">    1596490 :               if (loops_state_satisfies_p (LOOP_CLOSED_SSA)</span></a>
<a name="6940"><span class="lineNum">    6940 </span>        [<span class="branchCov" title="Branch 0 was taken 32967 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      32967 :                   &amp;&amp; ! SSA_NAME_IS_DEFAULT_DEF (leader)</span></a>
<a name="6941"><span class="lineNum">    6941 </span>  [<span class="branchCov" title="Branch 0 was taken 32967 times"> + </span><span class="branchCov" title="Branch 1 was taken 1563520 times"> + </span><span class="branchCov" title="Branch 2 was taken 233 times"> + </span><span class="branchCov" title="Branch 3 was taken 32734 times"> + </span> :<span class="lineCov">    1662430 :                   &amp;&amp; ! flow_bb_inside_loop_p (gimple_bb (SSA_NAME_DEF_STMT</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 233 times"> + </span><span class="branchCov" title="Branch 5 was taken 1596260 times"> + </span>]
<a name="6942"><span class="lineNum">    6942 </span>                :<span class="lineCov">      32967 :                                                          (leader))-&gt;loop_father,</span></a>
<a name="6943"><span class="lineNum">    6943 </span>                :            :                                               bb))</a>
<a name="6944"><span class="lineNum">    6944 </span>                :<span class="lineCov">        233 :                 return NULL_TREE;</span></a>
<a name="6945"><span class="lineNum">    6945 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1596260 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">    1596260 :               if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 1596260 times"> + </span>]
<a name="6946"><span class="lineNum">    6946 </span>                :            :                 {</a>
<a name="6947"><span class="lineNum">    6947 </span>                :<span class="lineNoCov">          0 :                   print_generic_expr (dump_file, leader);</span></a>
<a name="6948"><span class="lineNum">    6948 </span>                :<span class="lineNoCov">          0 :                   fprintf (dump_file, &quot; is available for &quot;);</span></a>
<a name="6949"><span class="lineNum">    6949 </span>                :<span class="lineNoCov">          0 :                   print_generic_expr (dump_file, valnum);</span></a>
<a name="6950"><span class="lineNum">    6950 </span>                :<span class="lineNoCov">          0 :                   fprintf (dump_file, &quot;\n&quot;);</span></a>
<a name="6951"><span class="lineNum">    6951 </span>                :            :                 }</a>
<a name="6952"><span class="lineNum">    6952 </span>                :            :               /* On tramp3d 99% of the _remaining_ cases succeed at</a>
<a name="6953"><span class="lineNum">    6953 </span>                :            :                  the first enty.  */</a>
<a name="6954"><span class="lineNum">    6954 </span>                :<span class="lineCov">    1596260 :               return leader;</span></a>
<a name="6955"><span class="lineNum">    6955 </span>                :            :             }</a>
<a name="6956"><span class="lineNum">    6956 </span>                :            :           /* ???  Can we somehow skip to the immediate dominator</a>
<a name="6957"><span class="lineNum">    6957 </span>                :            :              RPO index (bb_to_rpo)?  Again, maybe not worth, on</a>
<a name="6958"><span class="lineNum">    6958 </span>                :            :              tramp3d the worst number of elements in the vector is 9.  */</a>
<a name="6959"><span class="lineNum">    6959 </span>                :<span class="lineCov">     920481 :           av = av-&gt;next;</span></a>
<a name="6960"><span class="lineNum">    6960 </span>                :            :         }</a>
<a name="6961"><span class="lineNum">    6961 </span>        [<span class="branchCov" title="Branch 0 was taken 746121 times"> + </span><span class="branchCov" title="Branch 1 was taken 174360 times"> + </span>]:<span class="lineCov">     920481 :       while (av);</span></a>
<a name="6962"><span class="lineNum">    6962 </span>                :            :     }</a>
<a name="6963"><span class="lineNum">    6963 </span>        [<span class="branchCov" title="Branch 0 was taken 214663 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">     214663 :   else if (valnum != VN_TOP)</span></a>
<a name="6964"><span class="lineNum">    6964 </span>                :            :     /* valnum is is_gimple_min_invariant.  */</a>
<a name="6965"><span class="lineNum">    6965 </span>                :<span class="lineCov">     214663 :     return valnum;</span></a>
<a name="6966"><span class="lineNum">    6966 </span>                :<span class="lineCov">     174360 :   return NULL_TREE;</span></a>
<a name="6967"><span class="lineNum">    6967 </span>                :            : }</a>
<a name="6968"><span class="lineNum">    6968 </span>                :            : </a>
<a name="6969"><span class="lineNum">    6969 </span>                :            : /* Make LEADER a leader for its value at BB.  */</a>
<a name="6970"><span class="lineNum">    6970 </span>                :            : </a>
<a name="6971"><span class="lineNum">    6971 </span>                :            : void</a>
<a name="6972"><span class="lineNum">    6972 </span>                :<span class="lineCov">    3503840 : rpo_elim::eliminate_push_avail (basic_block bb, tree leader)</span></a>
<a name="6973"><span class="lineNum">    6973 </span>                :            : {</a>
<a name="6974"><span class="lineNum">    6974 </span>                :<span class="lineCov">    3503840 :   tree valnum = VN_INFO (leader)-&gt;valnum;</span></a>
<a name="6975"><span class="lineNum">    6975 </span>                :<span class="lineCov">    7007670 :   if (valnum == VN_TOP</span></a>
<a name="6976"><span class="lineNum">    6976 </span>  [<span class="branchCov" title="Branch 0 was taken 3503840 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 3503840 times"> + </span> :<span class="lineCov">    3503840 :       || is_gimple_min_invariant (valnum))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 3503840 times"> + </span>]
<a name="6977"><span class="lineNum">    6977 </span>                :<span class="lineNoCov">          0 :     return;</span></a>
<a name="6978"><span class="lineNum">    6978 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 3503840 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">    3503840 :   if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 3503840 times"> + </span>]
<a name="6979"><span class="lineNum">    6979 </span>                :            :     {</a>
<a name="6980"><span class="lineNum">    6980 </span>                :<span class="lineNoCov">          0 :       fprintf (dump_file, &quot;Making available beyond BB%d &quot;, bb-&gt;index);</span></a>
<a name="6981"><span class="lineNum">    6981 </span>                :<span class="lineNoCov">          0 :       print_generic_expr (dump_file, leader);</span></a>
<a name="6982"><span class="lineNum">    6982 </span>                :<span class="lineNoCov">          0 :       fprintf (dump_file, &quot; for value &quot;);</span></a>
<a name="6983"><span class="lineNum">    6983 </span>                :<span class="lineNoCov">          0 :       print_generic_expr (dump_file, valnum);</span></a>
<a name="6984"><span class="lineNum">    6984 </span>                :<span class="lineNoCov">          0 :       fprintf (dump_file, &quot;\n&quot;);</span></a>
<a name="6985"><span class="lineNum">    6985 </span>                :            :     }</a>
<a name="6986"><span class="lineNum">    6986 </span>                :<span class="lineCov">    3503840 :   vn_ssa_aux_t value = VN_INFO (valnum);</span></a>
<a name="6987"><span class="lineNum">    6987 </span>                :            :   vn_avail *av;</a>
<a name="6988"><span class="lineNum">    6988 </span>        [<span class="branchCov" title="Branch 0 was taken 558831 times"> + </span><span class="branchCov" title="Branch 1 was taken 2945000 times"> + </span>]:<span class="lineCov">    3503840 :   if (m_avail_freelist)</span></a>
<a name="6989"><span class="lineNum">    6989 </span>                :            :     {</a>
<a name="6990"><span class="lineNum">    6990 </span>                :<span class="lineCov">     558831 :       av = m_avail_freelist;</span></a>
<a name="6991"><span class="lineNum">    6991 </span>                :<span class="lineCov">     558831 :       m_avail_freelist = m_avail_freelist-&gt;next;</span></a>
<a name="6992"><span class="lineNum">    6992 </span>                :            :     }</a>
<a name="6993"><span class="lineNum">    6993 </span>                :            :   else</a>
<a name="6994"><span class="lineNum">    6994 </span>  [<span class="branchCov" title="Branch 0 was taken 93 times"> + </span><span class="branchCov" title="Branch 1 was taken 2944910 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 2945000 times"> + </span> :<span class="lineCov">    2945000 :     av = XOBNEW (&amp;vn_ssa_aux_obstack, vn_avail);</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 2945000 times"> + </span>]
<a name="6995"><span class="lineNum">    6995 </span>                :<span class="lineCov">    3503840 :   av-&gt;location = bb-&gt;index;</span></a>
<a name="6996"><span class="lineNum">    6996 </span>                :<span class="lineCov">    3503840 :   av-&gt;leader = SSA_NAME_VERSION (leader);</span></a>
<a name="6997"><span class="lineNum">    6997 </span>                :<span class="lineCov">    3503840 :   av-&gt;next = value-&gt;avail;</span></a>
<a name="6998"><span class="lineNum">    6998 </span>                :<span class="lineCov">    3503840 :   av-&gt;next_undo = last_pushed_avail;</span></a>
<a name="6999"><span class="lineNum">    6999 </span>                :<span class="lineCov">    3503840 :   last_pushed_avail = value;</span></a>
<a name="7000"><span class="lineNum">    7000 </span>                :<span class="lineCov">    3503840 :   value-&gt;avail = av;</span></a>
<a name="7001"><span class="lineNum">    7001 </span>                :            : }</a>
<a name="7002"><span class="lineNum">    7002 </span>                :            : </a>
<a name="7003"><span class="lineNum">    7003 </span>                :            : /* Valueization hook for RPO VN plus required state.  */</a>
<a name="7004"><span class="lineNum">    7004 </span>                :            : </a>
<a name="7005"><span class="lineNum">    7005 </span>                :            : tree</a>
<a name="7006"><span class="lineNum">    7006 </span>                :<span class="lineCov">   56643200 : rpo_vn_valueize (tree name)</span></a>
<a name="7007"><span class="lineNum">    7007 </span>                :            : {</a>
<a name="7008"><span class="lineNum">    7008 </span>        [<span class="branchCov" title="Branch 0 was taken 54588800 times"> + </span><span class="branchCov" title="Branch 1 was taken 2054390 times"> + </span>]:<span class="lineCov">   56643200 :   if (TREE_CODE (name) == SSA_NAME)</span></a>
<a name="7009"><span class="lineNum">    7009 </span>                :            :     {</a>
<a name="7010"><span class="lineNum">    7010 </span>                :<span class="lineCov">   54588800 :       vn_ssa_aux_t val = VN_INFO (name);</span></a>
<a name="7011"><span class="lineNum">    7011 </span>        [<span class="branchCov" title="Branch 0 was taken 54588800 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">   54588800 :       if (val)</span></a>
<a name="7012"><span class="lineNum">    7012 </span>                :            :         {</a>
<a name="7013"><span class="lineNum">    7013 </span>                :<span class="lineCov">   54588800 :           tree tem = val-&gt;valnum;</span></a>
<a name="7014"><span class="lineNum">    7014 </span>  [<span class="branchCov" title="Branch 0 was taken 54497900 times"> + </span><span class="branchCov" title="Branch 1 was taken 90937 times"> + </span><span class="branchCov" title="Branch 2 was taken 2827600 times"> + </span><span class="branchCov" title="Branch 3 was taken 51670300 times"> + </span>]:<span class="lineCov">   54588800 :           if (tem != VN_TOP &amp;&amp; tem != name)</span></a>
<a name="7015"><span class="lineNum">    7015 </span>                :            :             {</a>
<a name="7016"><span class="lineNum">    7016 </span>        [<span class="branchCov" title="Branch 0 was taken 224062 times"> + </span><span class="branchCov" title="Branch 1 was taken 2603540 times"> + </span>]:<span class="lineCov">    2827600 :               if (TREE_CODE (tem) != SSA_NAME)</span></a>
<a name="7017"><span class="lineNum">    7017 </span>                :<span class="lineCov">     224062 :                 return tem;</span></a>
<a name="7018"><span class="lineNum">    7018 </span>                :            :               /* For all values we only valueize to an available leader</a>
<a name="7019"><span class="lineNum">    7019 </span>                :            :                  which means we can use SSA name info without restriction.  */</a>
<a name="7020"><span class="lineNum">    7020 </span>                :<span class="lineCov">    2603540 :               tem = rpo_avail-&gt;eliminate_avail (vn_context_bb, tem);</span></a>
<a name="7021"><span class="lineNum">    7021 </span>        [<span class="branchCov" title="Branch 0 was taken 2600340 times"> + </span><span class="branchCov" title="Branch 1 was taken 3196 times"> + </span>]:<span class="lineCov">    2603540 :               if (tem)</span></a>
<a name="7022"><span class="lineNum">    7022 </span>                :<span class="lineCov">    2600340 :                 return tem;</span></a>
<a name="7023"><span class="lineNum">    7023 </span>                :            :             }</a>
<a name="7024"><span class="lineNum">    7024 </span>                :            :         }</a>
<a name="7025"><span class="lineNum">    7025 </span>                :            :     }</a>
<a name="7026"><span class="lineNum">    7026 </span>                :<span class="lineCov">   53818800 :   return name;</span></a>
<a name="7027"><span class="lineNum">    7027 </span>                :            : }</a>
<a name="7028"><span class="lineNum">    7028 </span>                :            : </a>
<a name="7029"><span class="lineNum">    7029 </span>                :            : /* Insert on PRED_E predicates derived from CODE OPS being true besides the</a>
<a name="7030"><span class="lineNum">    7030 </span>                :            :    inverted condition.  */</a>
<a name="7031"><span class="lineNum">    7031 </span>                :            : </a>
<a name="7032"><span class="lineNum">    7032 </span>                :            : static void</a>
<a name="7033"><span class="lineNum">    7033 </span>                :<span class="lineCov">    2303090 : insert_related_predicates_on_edge (enum tree_code code, tree *ops, edge pred_e)</span></a>
<a name="7034"><span class="lineNum">    7034 </span>                :            : {</a>
<a name="7035"><span class="lineNum">    7035 </span>  [<span class="branchCov" title="Branch 0 was taken 307037 times"> + </span><span class="branchCov" title="Branch 1 was taken 345738 times"> + </span><span class="branchCov" title="Branch 2 was taken 497933 times"> + </span><span class="branchCov" title="Branch 3 was taken 1152390 times"> + </span> :<span class="lineCov">    2303090 :   switch (code)</span></a>
<span class="lineNum">         </span>            <span class="branchNoCov" title="Branch 4 was not taken"> - </span>]
<a name="7036"><span class="lineNum">    7036 </span>                :            :     {</a>
<a name="7037"><span class="lineNum">    7037 </span>                :<span class="lineCov">     307037 :     case LT_EXPR:</span></a>
<a name="7038"><span class="lineNum">    7038 </span>                :            :       /* a &lt; b -&gt; a {!,&lt;}= b */</a>
<a name="7039"><span class="lineNum">    7039 </span>                :<span class="lineCov">     307037 :       vn_nary_op_insert_pieces_predicated (2, NE_EXPR, boolean_type_node,</span></a>
<a name="7040"><span class="lineNum">    7040 </span>                :            :                                            ops, boolean_true_node, 0, pred_e);</a>
<a name="7041"><span class="lineNum">    7041 </span>                :<span class="lineCov">     307037 :       vn_nary_op_insert_pieces_predicated (2, LE_EXPR, boolean_type_node,</span></a>
<a name="7042"><span class="lineNum">    7042 </span>                :            :                                            ops, boolean_true_node, 0, pred_e);</a>
<a name="7043"><span class="lineNum">    7043 </span>                :            :       /* a &lt; b -&gt; ! a {&gt;,=} b */</a>
<a name="7044"><span class="lineNum">    7044 </span>                :<span class="lineCov">     307037 :       vn_nary_op_insert_pieces_predicated (2, GT_EXPR, boolean_type_node,</span></a>
<a name="7045"><span class="lineNum">    7045 </span>                :            :                                            ops, boolean_false_node, 0, pred_e);</a>
<a name="7046"><span class="lineNum">    7046 </span>                :<span class="lineCov">     307037 :       vn_nary_op_insert_pieces_predicated (2, EQ_EXPR, boolean_type_node,</span></a>
<a name="7047"><span class="lineNum">    7047 </span>                :            :                                            ops, boolean_false_node, 0, pred_e);</a>
<a name="7048"><span class="lineNum">    7048 </span>                :<span class="lineCov">     307037 :       break;</span></a>
<a name="7049"><span class="lineNum">    7049 </span>                :<span class="lineCov">     345738 :     case GT_EXPR:</span></a>
<a name="7050"><span class="lineNum">    7050 </span>                :            :       /* a &gt; b -&gt; a {!,&gt;}= b */</a>
<a name="7051"><span class="lineNum">    7051 </span>                :<span class="lineCov">     345738 :       vn_nary_op_insert_pieces_predicated (2, NE_EXPR, boolean_type_node,</span></a>
<a name="7052"><span class="lineNum">    7052 </span>                :            :                                            ops, boolean_true_node, 0, pred_e);</a>
<a name="7053"><span class="lineNum">    7053 </span>                :<span class="lineCov">     345738 :       vn_nary_op_insert_pieces_predicated (2, GE_EXPR, boolean_type_node,</span></a>
<a name="7054"><span class="lineNum">    7054 </span>                :            :                                            ops, boolean_true_node, 0, pred_e);</a>
<a name="7055"><span class="lineNum">    7055 </span>                :            :       /* a &gt; b -&gt; ! a {&lt;,=} b */</a>
<a name="7056"><span class="lineNum">    7056 </span>                :<span class="lineCov">     345738 :       vn_nary_op_insert_pieces_predicated (2, LT_EXPR, boolean_type_node,</span></a>
<a name="7057"><span class="lineNum">    7057 </span>                :            :                                            ops, boolean_false_node, 0, pred_e);</a>
<a name="7058"><span class="lineNum">    7058 </span>                :<span class="lineCov">     345738 :       vn_nary_op_insert_pieces_predicated (2, EQ_EXPR, boolean_type_node,</span></a>
<a name="7059"><span class="lineNum">    7059 </span>                :            :                                            ops, boolean_false_node, 0, pred_e);</a>
<a name="7060"><span class="lineNum">    7060 </span>                :<span class="lineCov">     345738 :       break;</span></a>
<a name="7061"><span class="lineNum">    7061 </span>                :<span class="lineCov">     497933 :     case EQ_EXPR:</span></a>
<a name="7062"><span class="lineNum">    7062 </span>                :            :       /* a == b -&gt; ! a {&lt;,&gt;} b */</a>
<a name="7063"><span class="lineNum">    7063 </span>                :<span class="lineCov">     497933 :       vn_nary_op_insert_pieces_predicated (2, LT_EXPR, boolean_type_node,</span></a>
<a name="7064"><span class="lineNum">    7064 </span>                :            :                                            ops, boolean_false_node, 0, pred_e);</a>
<a name="7065"><span class="lineNum">    7065 </span>                :<span class="lineCov">     497933 :       vn_nary_op_insert_pieces_predicated (2, GT_EXPR, boolean_type_node,</span></a>
<a name="7066"><span class="lineNum">    7066 </span>                :            :                                            ops, boolean_false_node, 0, pred_e);</a>
<a name="7067"><span class="lineNum">    7067 </span>                :<span class="lineCov">     497933 :       break;</span></a>
<a name="7068"><span class="lineNum">    7068 </span>                :<span class="lineCov">    1152390 :     case LE_EXPR:</span></a>
<a name="7069"><span class="lineNum">    7069 </span>                :            :     case GE_EXPR:</a>
<a name="7070"><span class="lineNum">    7070 </span>                :            :     case NE_EXPR:</a>
<a name="7071"><span class="lineNum">    7071 </span>                :            :       /* Nothing besides inverted condition.  */</a>
<a name="7072"><span class="lineNum">    7072 </span>                :<span class="lineCov">    1152390 :       break;</span></a>
<a name="7073"><span class="lineNum">    7073 </span>                :<span class="lineCov">    2303090 :     default:;</span></a>
<a name="7074"><span class="lineNum">    7074 </span>                :            :     }</a>
<a name="7075"><span class="lineNum">    7075 </span>                :<span class="lineCov">    2303090 : }</span></a>
<a name="7076"><span class="lineNum">    7076 </span>                :            : </a>
<a name="7077"><span class="lineNum">    7077 </span>                :            : /* Main stmt worker for RPO VN, process BB.  */</a>
<a name="7078"><span class="lineNum">    7078 </span>                :            : </a>
<a name="7079"><span class="lineNum">    7079 </span>                :            : static unsigned</a>
<a name="7080"><span class="lineNum">    7080 </span>                :<span class="lineCov">    2726370 : process_bb (rpo_elim &amp;avail, basic_block bb,</span></a>
<a name="7081"><span class="lineNum">    7081 </span>                :            :             bool bb_visited, bool iterate_phis, bool iterate, bool eliminate,</a>
<a name="7082"><span class="lineNum">    7082 </span>                :            :             bool do_region, bitmap exit_bbs, bool skip_phis)</a>
<a name="7083"><span class="lineNum">    7083 </span>                :            : {</a>
<a name="7084"><span class="lineNum">    7084 </span>                :<span class="lineCov">    2726370 :   unsigned todo = 0;</span></a>
<a name="7085"><span class="lineNum">    7085 </span>                :            :   edge_iterator ei;</a>
<a name="7086"><span class="lineNum">    7086 </span>                :            :   edge e;</a>
<a name="7087"><span class="lineNum">    7087 </span>                :            : </a>
<a name="7088"><span class="lineNum">    7088 </span>                :<span class="lineCov">    2726370 :   vn_context_bb = bb;</span></a>
<a name="7089"><span class="lineNum">    7089 </span>                :            : </a>
<a name="7090"><span class="lineNum">    7090 </span>                :            :   /* If we are in loop-closed SSA preserve this state.  This is</a>
<a name="7091"><span class="lineNum">    7091 </span>                :            :      relevant when called on regions from outside of FRE/PRE.  */</a>
<a name="7092"><span class="lineNum">    7092 </span>                :<span class="lineCov">    2726370 :   bool lc_phi_nodes = false;</span></a>
<a name="7093"><span class="lineNum">    7093 </span>                :<span class="lineCov">    5452730 :   if (!skip_phis</span></a>
<a name="7094"><span class="lineNum">    7094 </span>  [<span class="branchCov" title="Branch 0 was taken 2726280 times"> + </span><span class="branchCov" title="Branch 1 was taken 88 times"> + </span><span class="branchCov" title="Branch 2 was taken 16667 times"> + </span><span class="branchCov" title="Branch 3 was taken 2709610 times"> + </span> :<span class="lineCov">    2726370 :       &amp;&amp; loops_state_satisfies_p (LOOP_CLOSED_SSA))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 16667 times"> + </span><span class="branchCov" title="Branch 5 was taken 2709700 times"> + </span>]
<a name="7095"><span class="lineNum">    7095 </span>        [<span class="branchCov" title="Branch 0 was taken 24540 times"> + </span><span class="branchCov" title="Branch 1 was taken 15785 times"> + </span>]:<span class="lineCov">      40325 :     FOR_EACH_EDGE (e, ei, bb-&gt;preds)</span></a>
<a name="7096"><span class="lineNum">    7096 </span>                :<span class="lineCov">      49080 :       if (e-&gt;src-&gt;loop_father != e-&gt;dest-&gt;loop_father</span></a>
<a name="7097"><span class="lineNum">    7097 </span>  [<span class="branchCov" title="Branch 0 was taken 1822 times"> + </span><span class="branchCov" title="Branch 1 was taken 22718 times"> + </span><span class="branchCov" title="Branch 2 was taken 882 times"> + </span><span class="branchCov" title="Branch 3 was taken 940 times"> + </span> :<span class="lineCov">      26362 :           &amp;&amp; flow_loop_nested_p (e-&gt;dest-&gt;loop_father,</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 882 times"> + </span><span class="branchCov" title="Branch 5 was taken 23658 times"> + </span>]
<a name="7098"><span class="lineNum">    7098 </span>                :<span class="lineCov">       1822 :                                  e-&gt;src-&gt;loop_father))</span></a>
<a name="7099"><span class="lineNum">    7099 </span>                :            :         {</a>
<a name="7100"><span class="lineNum">    7100 </span>                :<span class="lineCov">        882 :           lc_phi_nodes = true;</span></a>
<a name="7101"><span class="lineNum">    7101 </span>                :<span class="lineCov">        882 :           break;</span></a>
<a name="7102"><span class="lineNum">    7102 </span>                :            :         }</a>
<a name="7103"><span class="lineNum">    7103 </span>                :            : </a>
<a name="7104"><span class="lineNum">    7104 </span>                :            :   /* When we visit a loop header substitute into loop info.  */</a>
<a name="7105"><span class="lineNum">    7105 </span>  [<span class="branchCov" title="Branch 0 was taken 622493 times"> + </span><span class="branchCov" title="Branch 1 was taken 2103870 times"> + </span><span class="branchCov" title="Branch 2 was taken 622493 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">    2726370 :   if (!iterate &amp;&amp; eliminate &amp;&amp; bb-&gt;loop_father-&gt;header == bb)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 20941 times"> + </span><span class="branchCov" title="Branch 5 was taken 601552 times"> + </span>]
<a name="7106"><span class="lineNum">    7106 </span>                :            :     {</a>
<a name="7107"><span class="lineNum">    7107 </span>                :            :       /* Keep fields in sync with substitute_in_loop_info.  */</a>
<a name="7108"><span class="lineNum">    7108 </span>        [<span class="branchCov" title="Branch 0 was taken 748 times"> + </span><span class="branchCov" title="Branch 1 was taken 20193 times"> + </span>]:<span class="lineCov">      20941 :       if (bb-&gt;loop_father-&gt;nb_iterations)</span></a>
<a name="7109"><span class="lineNum">    7109 </span>                :<span class="lineCov">        748 :         bb-&gt;loop_father-&gt;nb_iterations</span></a>
<a name="7110"><span class="lineNum">    7110 </span>                :<span class="lineCov">        748 :           = simplify_replace_tree (bb-&gt;loop_father-&gt;nb_iterations,</span></a>
<a name="7111"><span class="lineNum">    7111 </span>                :            :                                    NULL_TREE, NULL_TREE, &amp;vn_valueize_for_srt);</a>
<a name="7112"><span class="lineNum">    7112 </span>                :            :     }</a>
<a name="7113"><span class="lineNum">    7113 </span>                :            : </a>
<a name="7114"><span class="lineNum">    7114 </span>                :            :   /* Value-number all defs in the basic-block.  */</a>
<a name="7115"><span class="lineNum">    7115 </span>        [<span class="branchCov" title="Branch 0 was taken 2726280 times"> + </span><span class="branchCov" title="Branch 1 was taken 88 times"> + </span>]:<span class="lineCov">    2726370 :   if (!skip_phis)</span></a>
<a name="7116"><span class="lineNum">    7116 </span>        [<span class="branchCov" title="Branch 0 was taken 826100 times"> + </span><span class="branchCov" title="Branch 1 was taken 2726280 times"> + </span>]:<span class="lineCov">    3552380 :     for (gphi_iterator gsi = gsi_start_phis (bb); !gsi_end_p (gsi);</span></a>
<a name="7117"><span class="lineNum">    7117 </span>                :<span class="lineCov">     826100 :          gsi_next (&amp;gsi))</span></a>
<a name="7118"><span class="lineNum">    7118 </span>                :            :       {</a>
<a name="7119"><span class="lineNum">    7119 </span>                :<span class="lineCov">     826100 :         gphi *phi = gsi.phi ();</span></a>
<a name="7120"><span class="lineNum">    7120 </span>                :<span class="lineCov">     826100 :         tree res = PHI_RESULT (phi);</span></a>
<a name="7121"><span class="lineNum">    7121 </span>                :<span class="lineCov">     826100 :         vn_ssa_aux_t res_info = VN_INFO (res);</span></a>
<a name="7122"><span class="lineNum">    7122 </span>        [<span class="branchCov" title="Branch 0 was taken 607460 times"> + </span><span class="branchCov" title="Branch 1 was taken 218640 times"> + </span>]:<span class="lineCov">     826100 :         if (!bb_visited)</span></a>
<a name="7123"><span class="lineNum">    7123 </span>                :            :           {</a>
<a name="7124"><span class="lineNum">    7124 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 607460 times"> + </span>]:<span class="lineCov">     607460 :             gcc_assert (!res_info-&gt;visited);</span></a>
<a name="7125"><span class="lineNum">    7125 </span>                :<span class="lineCov">     607460 :             res_info-&gt;valnum = VN_TOP;</span></a>
<a name="7126"><span class="lineNum">    7126 </span>                :<span class="lineCov">     607460 :             res_info-&gt;visited = true;</span></a>
<a name="7127"><span class="lineNum">    7127 </span>                :            :           }</a>
<a name="7128"><span class="lineNum">    7128 </span>                :            : </a>
<a name="7129"><span class="lineNum">    7129 </span>                :            :         /* When not iterating force backedge values to varying.  */</a>
<a name="7130"><span class="lineNum">    7130 </span>                :<span class="lineCov">     826100 :         visit_stmt (phi, !iterate_phis);</span></a>
<a name="7131"><span class="lineNum">    7131 </span>        [<span class="branchCov" title="Branch 0 was taken 369791 times"> + </span><span class="branchCov" title="Branch 1 was taken 456309 times"> + </span>]:<span class="lineCov">     826100 :         if (virtual_operand_p (res))</span></a>
<a name="7132"><span class="lineNum">    7132 </span>                :<span class="lineCov">     369791 :           continue;</span></a>
<a name="7133"><span class="lineNum">    7133 </span>                :            : </a>
<a name="7134"><span class="lineNum">    7134 </span>                :            :         /* Eliminate */</a>
<a name="7135"><span class="lineNum">    7135 </span>                :            :         /* The interesting case is gcc.dg/tree-ssa/pr22230.c for correctness</a>
<a name="7136"><span class="lineNum">    7136 </span>                :            :            how we handle backedges and availability.</a>
<a name="7137"><span class="lineNum">    7137 </span>                :            :            And gcc.dg/tree-ssa/ssa-sccvn-2.c for optimization.  */</a>
<a name="7138"><span class="lineNum">    7138 </span>                :<span class="lineCov">     456309 :         tree val = res_info-&gt;valnum;</span></a>
<a name="7139"><span class="lineNum">    7139 </span>  [<span class="branchCov" title="Branch 0 was taken 133778 times"> + </span><span class="branchCov" title="Branch 1 was taken 322531 times"> + </span><span class="branchCov" title="Branch 2 was taken 26163 times"> + </span><span class="branchCov" title="Branch 3 was taken 107615 times"> + </span> :<span class="lineCov">     456309 :         if (res != val &amp;&amp; !iterate &amp;&amp; eliminate)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 26163 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span>]
<a name="7140"><span class="lineNum">    7140 </span>                :            :           {</a>
<a name="7141"><span class="lineNum">    7141 </span>        [<span class="branchCov" title="Branch 0 was taken 18186 times"> + </span><span class="branchCov" title="Branch 1 was taken 7977 times"> + </span>]:<span class="lineCov">      26163 :             if (tree leader = avail.eliminate_avail (bb, res))</span></a>
<a name="7142"><span class="lineNum">    7142 </span>                :            :               {</a>
<a name="7143"><span class="lineNum">    7143 </span>                :<span class="lineCov">      18186 :                 if (leader != res</span></a>
<a name="7144"><span class="lineNum">    7144 </span>                :            :                     /* Preserve loop-closed SSA form.  */</a>
<a name="7145"><span class="lineNum">    7145 </span>  [<span class="branchCov" title="Branch 0 was taken 18186 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 8 times"> + </span><span class="branchCov" title="Branch 3 was taken 18178 times"> + </span> :<span class="lineCov">      18194 :                     &amp;&amp; (! lc_phi_nodes</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 18184 times"> + </span><span class="branchCov" title="Branch 5 was taken 2 times"> + </span>]
<a name="7146"><span class="lineNum">    7146 </span>        [<span class="branchCov" title="Branch 0 was taken 6 times"> + </span><span class="branchCov" title="Branch 1 was taken 2 times"> + </span>]:<span class="lineCov">          8 :                         || is_gimple_min_invariant (leader)))</span></a>
<a name="7147"><span class="lineNum">    7147 </span>                :            :                   {</a>
<a name="7148"><span class="lineNum">    7148 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 18184 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">      18184 :                     if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 18184 times"> + </span>]
<a name="7149"><span class="lineNum">    7149 </span>                :            :                       {</a>
<a name="7150"><span class="lineNum">    7150 </span>                :<span class="lineNoCov">          0 :                         fprintf (dump_file, &quot;Replaced redundant PHI node &quot;</span></a>
<a name="7151"><span class="lineNum">    7151 </span>                :            :                                  &quot;defining &quot;);</a>
<a name="7152"><span class="lineNum">    7152 </span>                :<span class="lineNoCov">          0 :                         print_generic_expr (dump_file, res);</span></a>
<a name="7153"><span class="lineNum">    7153 </span>                :<span class="lineNoCov">          0 :                         fprintf (dump_file, &quot; with &quot;);</span></a>
<a name="7154"><span class="lineNum">    7154 </span>                :<span class="lineNoCov">          0 :                         print_generic_expr (dump_file, leader);</span></a>
<a name="7155"><span class="lineNum">    7155 </span>                :<span class="lineNoCov">          0 :                         fprintf (dump_file, &quot;\n&quot;);</span></a>
<a name="7156"><span class="lineNum">    7156 </span>                :            :                       }</a>
<a name="7157"><span class="lineNum">    7157 </span>                :<span class="lineCov">      18184 :                     avail.eliminations++;</span></a>
<a name="7158"><span class="lineNum">    7158 </span>                :            : </a>
<a name="7159"><span class="lineNum">    7159 </span>        [<span class="branchCov" title="Branch 0 was taken 18184 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span>]:<span class="lineCov">      18184 :                     if (may_propagate_copy (res, leader))</span></a>
<a name="7160"><span class="lineNum">    7160 </span>                :            :                       {</a>
<a name="7161"><span class="lineNum">    7161 </span>                :            :                         /* Schedule for removal.  */</a>
<a name="7162"><span class="lineNum">    7162 </span>                :<span class="lineCov">      18184 :                         avail.to_remove.safe_push (phi);</span></a>
<a name="7163"><span class="lineNum">    7163 </span>                :<span class="lineCov">      18184 :                         continue;</span></a>
<a name="7164"><span class="lineNum">    7164 </span>                :            :                       }</a>
<a name="7165"><span class="lineNum">    7165 </span>                :            :                     /* ???  Else generate a copy stmt.  */</a>
<a name="7166"><span class="lineNum">    7166 </span>                :            :                   }</a>
<a name="7167"><span class="lineNum">    7167 </span>                :            :               }</a>
<a name="7168"><span class="lineNum">    7168 </span>                :            :           }</a>
<a name="7169"><span class="lineNum">    7169 </span>                :            :         /* Only make defs available that not already are.  But make</a>
<a name="7170"><span class="lineNum">    7170 </span>                :            :            sure loop-closed SSA PHI node defs are picked up for</a>
<a name="7171"><span class="lineNum">    7171 </span>                :            :            downstream uses.  */</a>
<a name="7172"><span class="lineNum">    7172 </span>                :<span class="lineCov">     438125 :         if (lc_phi_nodes</span></a>
<a name="7173"><span class="lineNum">    7173 </span>        [<span class="branchCov" title="Branch 0 was taken 115361 times"> + </span><span class="branchCov" title="Branch 1 was taken 322443 times"> + </span>]:<span class="lineCov">     437804 :             || res == val</span></a>
<a name="7174"><span class="lineNum">    7174 </span>  [<span class="branchCov" title="Branch 0 was taken 437804 times"> + </span><span class="branchCov" title="Branch 1 was taken 321 times"> + </span><span class="branchCov" title="Branch 2 was taken 10230 times"> + </span><span class="branchCov" title="Branch 3 was taken 105131 times"> + </span> :<span class="lineCov">     875929 :             || ! avail.eliminate_avail (bb, res))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 332994 times"> + </span><span class="branchCov" title="Branch 5 was taken 105131 times"> + </span>]
<a name="7175"><span class="lineNum">    7175 </span>                :<span class="lineCov">     332994 :           avail.eliminate_push_avail (bb, res);</span></a>
<a name="7176"><span class="lineNum">    7176 </span>                :            :       }</a>
<a name="7177"><span class="lineNum">    7177 </span>                :            : </a>
<a name="7178"><span class="lineNum">    7178 </span>                :            :   /* For empty BBs mark outgoing edges executable.  For non-empty BBs</a>
<a name="7179"><span class="lineNum">    7179 </span>                :            :      we do this when processing the last stmt as we have to do this</a>
<a name="7180"><span class="lineNum">    7180 </span>                :            :      before elimination which otherwise forces GIMPLE_CONDs to</a>
<a name="7181"><span class="lineNum">    7181 </span>                :            :      if (1 != 0) style when seeing non-executable edges.  */</a>
<a name="7182"><span class="lineNum">    7182 </span>        [<span class="branchCov" title="Branch 0 was taken 379959 times"> + </span><span class="branchCov" title="Branch 1 was taken 2346410 times"> + </span>]:<span class="lineCov">    2726370 :   if (gsi_end_p (gsi_start_bb (bb)))</span></a>
<a name="7183"><span class="lineNum">    7183 </span>                :            :     {</a>
<a name="7184"><span class="lineNum">    7184 </span>        [<span class="branchCov" title="Branch 0 was taken 379959 times"> + </span><span class="branchCov" title="Branch 1 was taken 379959 times"> + </span>]:<span class="lineCov">     759918 :       FOR_EACH_EDGE (e, ei, bb-&gt;succs)</span></a>
<a name="7185"><span class="lineNum">    7185 </span>                :            :         {</a>
<a name="7186"><span class="lineNum">    7186 </span>        [<span class="branchCov" title="Branch 0 was taken 312767 times"> + </span><span class="branchCov" title="Branch 1 was taken 67192 times"> + </span>]:<span class="lineCov">     379959 :           if (!(e-&gt;flags &amp; EDGE_EXECUTABLE))</span></a>
<a name="7187"><span class="lineNum">    7187 </span>                :            :             {</a>
<a name="7188"><span class="lineNum">    7188 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 312767 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     312767 :               if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 312767 times"> + </span>]
<a name="7189"><span class="lineNum">    7189 </span>                :<span class="lineNoCov">          0 :                 fprintf (dump_file,</span></a>
<a name="7190"><span class="lineNum">    7190 </span>                :            :                          &quot;marking outgoing edge %d -&gt; %d executable\n&quot;,</a>
<a name="7191"><span class="lineNum">    7191 </span>                :<span class="lineNoCov">          0 :                          e-&gt;src-&gt;index, e-&gt;dest-&gt;index);</span></a>
<a name="7192"><span class="lineNum">    7192 </span>                :<span class="lineCov">     312767 :               e-&gt;flags |= EDGE_EXECUTABLE;</span></a>
<a name="7193"><span class="lineNum">    7193 </span>                :<span class="lineCov">     312767 :               e-&gt;dest-&gt;flags |= BB_EXECUTABLE;</span></a>
<a name="7194"><span class="lineNum">    7194 </span>                :            :             }</a>
<a name="7195"><span class="lineNum">    7195 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 67192 times"> + </span>]:<span class="lineCov">      67192 :           else if (!(e-&gt;dest-&gt;flags &amp; BB_EXECUTABLE))</span></a>
<a name="7196"><span class="lineNum">    7196 </span>                :            :             {</a>
<a name="7197"><span class="lineNum">    7197 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :               if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="7198"><span class="lineNum">    7198 </span>                :<span class="lineNoCov">          0 :                 fprintf (dump_file,</span></a>
<a name="7199"><span class="lineNum">    7199 </span>                :            :                          &quot;marking destination block %d reachable\n&quot;,</a>
<a name="7200"><span class="lineNum">    7200 </span>                :<span class="lineNoCov">          0 :                          e-&gt;dest-&gt;index);</span></a>
<a name="7201"><span class="lineNum">    7201 </span>                :<span class="lineNoCov">          0 :               e-&gt;dest-&gt;flags |= BB_EXECUTABLE;</span></a>
<a name="7202"><span class="lineNum">    7202 </span>                :            :             }</a>
<a name="7203"><span class="lineNum">    7203 </span>                :            :         }</a>
<a name="7204"><span class="lineNum">    7204 </span>                :            :     }</a>
<a name="7205"><span class="lineNum">    7205 </span>                :<span class="lineCov">   17505800 :   for (gimple_stmt_iterator gsi = gsi_start_bb (bb);</span></a>
<a name="7206"><span class="lineNum">    7206 </span>        [<span class="branchCov" title="Branch 0 was taken 14779500 times"> + </span><span class="branchCov" title="Branch 1 was taken 2726370 times"> + </span>]:<span class="lineCov">   32285300 :        !gsi_end_p (gsi); gsi_next (&amp;gsi))</span></a>
<a name="7207"><span class="lineNum">    7207 </span>                :            :     {</a>
<a name="7208"><span class="lineNum">    7208 </span>                :            :       ssa_op_iter i;</a>
<a name="7209"><span class="lineNum">    7209 </span>                :            :       tree op;</a>
<a name="7210"><span class="lineNum">    7210 </span>        [<span class="branchCov" title="Branch 0 was taken 12887400 times"> + </span><span class="branchCov" title="Branch 1 was taken 1892030 times"> + </span>]:<span class="lineCov">   14779500 :       if (!bb_visited)</span></a>
<a name="7211"><span class="lineNum">    7211 </span>                :            :         {</a>
<a name="7212"><span class="lineNum">    7212 </span>        [<span class="branchCov" title="Branch 0 was taken 4616740 times"> + </span><span class="branchCov" title="Branch 1 was taken 12887400 times"> + </span>]:<span class="lineCov">   17504200 :           FOR_EACH_SSA_TREE_OPERAND (op, gsi_stmt (gsi), i, SSA_OP_ALL_DEFS)</span></a>
<a name="7213"><span class="lineNum">    7213 </span>                :            :             {</a>
<a name="7214"><span class="lineNum">    7214 </span>                :<span class="lineCov">    4616740 :               vn_ssa_aux_t op_info = VN_INFO (op);</span></a>
<a name="7215"><span class="lineNum">    7215 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 4616740 times"> + </span>]:<span class="lineCov">    4616740 :               gcc_assert (!op_info-&gt;visited);</span></a>
<a name="7216"><span class="lineNum">    7216 </span>                :<span class="lineCov">    4616740 :               op_info-&gt;valnum = VN_TOP;</span></a>
<a name="7217"><span class="lineNum">    7217 </span>                :<span class="lineCov">    4616740 :               op_info-&gt;visited = true;</span></a>
<a name="7218"><span class="lineNum">    7218 </span>                :            :             }</a>
<a name="7219"><span class="lineNum">    7219 </span>                :            : </a>
<a name="7220"><span class="lineNum">    7220 </span>                :            :           /* We somehow have to deal with uses that are not defined</a>
<a name="7221"><span class="lineNum">    7221 </span>                :            :              in the processed region.  Forcing unvisited uses to</a>
<a name="7222"><span class="lineNum">    7222 </span>                :            :              varying here doesn't play well with def-use following during</a>
<a name="7223"><span class="lineNum">    7223 </span>                :            :              expression simplification, so we deal with this by checking</a>
<a name="7224"><span class="lineNum">    7224 </span>                :            :              the visited flag in SSA_VAL.  */</a>
<a name="7225"><span class="lineNum">    7225 </span>                :            :         }</a>
<a name="7226"><span class="lineNum">    7226 </span>                :            : </a>
<a name="7227"><span class="lineNum">    7227 </span>                :<span class="lineCov">   14779500 :       visit_stmt (gsi_stmt (gsi));</span></a>
<a name="7228"><span class="lineNum">    7228 </span>                :            : </a>
<a name="7229"><span class="lineNum">    7229 </span>                :<span class="lineCov">   14779500 :       gimple *last = gsi_stmt (gsi);</span></a>
<a name="7230"><span class="lineNum">    7230 </span>                :<span class="lineCov">   14779500 :       e = NULL;</span></a>
<a name="7231"><span class="lineNum">    7231 </span>  [<span class="branchCov" title="Branch 0 was taken 5108 times"> + </span><span class="branchCov" title="Branch 1 was taken 1307550 times"> + </span><span class="branchCov" title="Branch 2 was taken 811 times"> + </span><span class="branchCov" title="Branch 3 was taken 13466000 times"> + </span>]:<span class="lineCov">   14779500 :       switch (gimple_code (last))</span></a>
<a name="7232"><span class="lineNum">    7232 </span>                :            :         {</a>
<a name="7233"><span class="lineNum">    7233 </span>                :<span class="lineCov">       5108 :         case GIMPLE_SWITCH:</span></a>
<a name="7234"><span class="lineNum">    7234 </span>                :<span class="lineCov">       5108 :           e = find_taken_edge (bb, vn_valueize (gimple_switch_index</span></a>
<a name="7235"><span class="lineNum">    7235 </span>                :<span class="lineCov">       5108 :                                                 (as_a &lt;gswitch *&gt; (last))));</span></a>
<a name="7236"><span class="lineNum">    7236 </span>                :<span class="lineCov">       5108 :           break;</span></a>
<a name="7237"><span class="lineNum">    7237 </span>                :<span class="lineCov">    1307550 :         case GIMPLE_COND:</span></a>
<a name="7238"><span class="lineNum">    7238 </span>                :            :           {</a>
<a name="7239"><span class="lineNum">    7239 </span>                :<span class="lineCov">    1307550 :             tree lhs = vn_valueize (gimple_cond_lhs (last));</span></a>
<a name="7240"><span class="lineNum">    7240 </span>                :<span class="lineCov">    1307550 :             tree rhs = vn_valueize (gimple_cond_rhs (last));</span></a>
<a name="7241"><span class="lineNum">    7241 </span>                :<span class="lineCov">    1307550 :             tree val = gimple_simplify (gimple_cond_code (last),</span></a>
<a name="7242"><span class="lineNum">    7242 </span>                :            :                                         boolean_type_node, lhs, rhs,</a>
<a name="7243"><span class="lineNum">    7243 </span>                :            :                                         NULL, vn_valueize);</a>
<a name="7244"><span class="lineNum">    7244 </span>                :            :             /* If the condition didn't simplfy see if we have recorded</a>
<a name="7245"><span class="lineNum">    7245 </span>                :            :                an expression from sofar taken edges.  */</a>
<a name="7246"><span class="lineNum">    7246 </span>  [<span class="branchCov" title="Branch 0 was taken 124682 times"> + </span><span class="branchCov" title="Branch 1 was taken 1182870 times"> + </span><span class="branchCov" title="Branch 2 was taken 94164 times"> + </span><span class="branchCov" title="Branch 3 was taken 30518 times"> + </span>]:<span class="lineCov">    1307550 :             if (! val || TREE_CODE (val) != INTEGER_CST)</span></a>
<a name="7247"><span class="lineNum">    7247 </span>                :            :               {</a>
<a name="7248"><span class="lineNum">    7248 </span>                :            :                 vn_nary_op_t vnresult;</a>
<a name="7249"><span class="lineNum">    7249 </span>                :            :                 tree ops[2];</a>
<a name="7250"><span class="lineNum">    7250 </span>                :<span class="lineCov">    1277030 :                 ops[0] = lhs;</span></a>
<a name="7251"><span class="lineNum">    7251 </span>                :<span class="lineCov">    1277030 :                 ops[1] = rhs;</span></a>
<a name="7252"><span class="lineNum">    7252 </span>                :<span class="lineCov">    1277030 :                 val = vn_nary_op_lookup_pieces (2, gimple_cond_code (last),</span></a>
<a name="7253"><span class="lineNum">    7253 </span>                :            :                                                 boolean_type_node, ops,</a>
<a name="7254"><span class="lineNum">    7254 </span>                :            :                                                 &amp;vnresult);</a>
<a name="7255"><span class="lineNum">    7255 </span>                :            :                 /* Did we get a predicated value?  */</a>
<a name="7256"><span class="lineNum">    7256 </span>  [<span class="branchCov" title="Branch 0 was taken 1256290 times"> + </span><span class="branchCov" title="Branch 1 was taken 20741 times"> + </span><span class="branchCov" title="Branch 2 was taken 168600 times"> + </span><span class="branchCov" title="Branch 3 was taken 1087690 times"> + </span> :<span class="lineCov">    1277030 :                 if (! val &amp;&amp; vnresult &amp;&amp; vnresult-&gt;predicated_values)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 168600 times"> + </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span>]
<a name="7257"><span class="lineNum">    7257 </span>                :            :                   {</a>
<a name="7258"><span class="lineNum">    7258 </span>                :<span class="lineCov">     168600 :                     val = vn_nary_op_get_predicated_value (vnresult, bb);</span></a>
<a name="7259"><span class="lineNum">    7259 </span>  [<span class="branchCov" title="Branch 0 was taken 3364 times"> + </span><span class="branchCov" title="Branch 1 was taken 165236 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 3364 times"> + </span> :<span class="lineCov">     168600 :                     if (val &amp;&amp; dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>   <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchCov" title="Branch 7 was taken 168600 times"> + </span>]
<a name="7260"><span class="lineNum">    7260 </span>                :            :                       {</a>
<a name="7261"><span class="lineNum">    7261 </span>                :<span class="lineNoCov">          0 :                         fprintf (dump_file, &quot;Got predicated value &quot;);</span></a>
<a name="7262"><span class="lineNum">    7262 </span>                :<span class="lineNoCov">          0 :                         print_generic_expr (dump_file, val, TDF_NONE);</span></a>
<a name="7263"><span class="lineNum">    7263 </span>                :<span class="lineNoCov">          0 :                         fprintf (dump_file, &quot; for &quot;);</span></a>
<a name="7264"><span class="lineNum">    7264 </span>                :<span class="lineNoCov">          0 :                         print_gimple_stmt (dump_file, last, TDF_SLIM);</span></a>
<a name="7265"><span class="lineNum">    7265 </span>                :            :                       }</a>
<a name="7266"><span class="lineNum">    7266 </span>                :            :                   }</a>
<a name="7267"><span class="lineNum">    7267 </span>                :            :               }</a>
<a name="7268"><span class="lineNum">    7268 </span>        [<span class="branchCov" title="Branch 0 was taken 54623 times"> + </span><span class="branchCov" title="Branch 1 was taken 1252930 times"> + </span>]:<span class="lineCov">    1307550 :             if (val)</span></a>
<a name="7269"><span class="lineNum">    7269 </span>                :<span class="lineCov">      54623 :               e = find_taken_edge (bb, val);</span></a>
<a name="7270"><span class="lineNum">    7270 </span>        [<span class="branchCov" title="Branch 0 was taken 1273630 times"> + </span><span class="branchCov" title="Branch 1 was taken 33918 times"> + </span>]:<span class="lineCov">    1307550 :             if (! e)</span></a>
<a name="7271"><span class="lineNum">    7271 </span>                :            :               {</a>
<a name="7272"><span class="lineNum">    7272 </span>                :            :                 /* If we didn't manage to compute the taken edge then</a>
<a name="7273"><span class="lineNum">    7273 </span>                :            :                    push predicated expressions for the condition itself</a>
<a name="7274"><span class="lineNum">    7274 </span>                :            :                    and related conditions to the hashtables.  This allows</a>
<a name="7275"><span class="lineNum">    7275 </span>                :            :                    simplification of redundant conditions which is</a>
<a name="7276"><span class="lineNum">    7276 </span>                :            :                    important as early cleanup.  */</a>
<a name="7277"><span class="lineNum">    7277 </span>                :            :                 edge true_e, false_e;</a>
<a name="7278"><span class="lineNum">    7278 </span>                :<span class="lineCov">    1273630 :                 extract_true_false_edges_from_block (bb, &amp;true_e, &amp;false_e);</span></a>
<a name="7279"><span class="lineNum">    7279 </span>                :<span class="lineCov">    1273630 :                 enum tree_code code = gimple_cond_code (last);</span></a>
<a name="7280"><span class="lineNum">    7280 </span>                :            :                 enum tree_code icode</a>
<a name="7281"><span class="lineNum">    7281 </span>                :<span class="lineCov">    1273630 :                   = invert_tree_comparison (code, HONOR_NANS (lhs));</span></a>
<a name="7282"><span class="lineNum">    7282 </span>                :            :                 tree ops[2];</a>
<a name="7283"><span class="lineNum">    7283 </span>                :<span class="lineCov">    1273630 :                 ops[0] = lhs;</span></a>
<a name="7284"><span class="lineNum">    7284 </span>                :<span class="lineCov">    1273630 :                 ops[1] = rhs;</span></a>
<a name="7285"><span class="lineNum">    7285 </span>                :<span class="lineCov">    1273630 :                 if (do_region</span></a>
<a name="7286"><span class="lineNum">    7286 </span>  [<span class="branchCov" title="Branch 0 was taken 10452 times"> + </span><span class="branchCov" title="Branch 1 was taken 1263180 times"> + </span><span class="branchCov" title="Branch 2 was taken 1291 times"> + </span><span class="branchCov" title="Branch 3 was taken 9161 times"> + </span> :<span class="lineCov">    1273630 :                     &amp;&amp; bitmap_bit_p (exit_bbs, true_e-&gt;dest-&gt;index))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1291 times"> + </span><span class="branchCov" title="Branch 5 was taken 1272340 times"> + </span>]
<a name="7287"><span class="lineNum">    7287 </span>                :<span class="lineCov">       1291 :                   true_e = NULL;</span></a>
<a name="7288"><span class="lineNum">    7288 </span>                :<span class="lineCov">    1273630 :                 if (do_region</span></a>
<a name="7289"><span class="lineNum">    7289 </span>  [<span class="branchCov" title="Branch 0 was taken 10452 times"> + </span><span class="branchCov" title="Branch 1 was taken 1263180 times"> + </span><span class="branchCov" title="Branch 2 was taken 8398 times"> + </span><span class="branchCov" title="Branch 3 was taken 2054 times"> + </span> :<span class="lineCov">    1273630 :                     &amp;&amp; bitmap_bit_p (exit_bbs, false_e-&gt;dest-&gt;index))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 8398 times"> + </span><span class="branchCov" title="Branch 5 was taken 1265230 times"> + </span>]
<a name="7290"><span class="lineNum">    7290 </span>                :<span class="lineCov">       8398 :                   false_e = NULL;</span></a>
<a name="7291"><span class="lineNum">    7291 </span>        [<span class="branchCov" title="Branch 0 was taken 1272340 times"> + </span><span class="branchCov" title="Branch 1 was taken 1291 times"> + </span>]:<span class="lineCov">    1273630 :                 if (true_e)</span></a>
<a name="7292"><span class="lineNum">    7292 </span>                :            :                   vn_nary_op_insert_pieces_predicated</a>
<a name="7293"><span class="lineNum">    7293 </span>                :<span class="lineCov">    1272340 :                     (2, code, boolean_type_node, ops,</span></a>
<a name="7294"><span class="lineNum">    7294 </span>                :            :                      boolean_true_node, 0, true_e);</a>
<a name="7295"><span class="lineNum">    7295 </span>        [<span class="branchCov" title="Branch 0 was taken 1265230 times"> + </span><span class="branchCov" title="Branch 1 was taken 8398 times"> + </span>]:<span class="lineCov">    1273630 :                 if (false_e)</span></a>
<a name="7296"><span class="lineNum">    7296 </span>                :            :                   vn_nary_op_insert_pieces_predicated</a>
<a name="7297"><span class="lineNum">    7297 </span>                :<span class="lineCov">    1265230 :                     (2, code, boolean_type_node, ops,</span></a>
<a name="7298"><span class="lineNum">    7298 </span>                :            :                      boolean_false_node, 0, false_e);</a>
<a name="7299"><span class="lineNum">    7299 </span>        [<span class="branchCov" title="Branch 0 was taken 1266450 times"> + </span><span class="branchCov" title="Branch 1 was taken 7181 times"> + </span>]:<span class="lineCov">    1273630 :                 if (icode != ERROR_MARK)</span></a>
<a name="7300"><span class="lineNum">    7300 </span>                :            :                   {</a>
<a name="7301"><span class="lineNum">    7301 </span>        [<span class="branchCov" title="Branch 0 was taken 1265160 times"> + </span><span class="branchCov" title="Branch 1 was taken 1291 times"> + </span>]:<span class="lineCov">    1266450 :                     if (true_e)</span></a>
<a name="7302"><span class="lineNum">    7302 </span>                :            :                       vn_nary_op_insert_pieces_predicated</a>
<a name="7303"><span class="lineNum">    7303 </span>                :<span class="lineCov">    1265160 :                         (2, icode, boolean_type_node, ops,</span></a>
<a name="7304"><span class="lineNum">    7304 </span>                :            :                          boolean_false_node, 0, true_e);</a>
<a name="7305"><span class="lineNum">    7305 </span>        [<span class="branchCov" title="Branch 0 was taken 1258060 times"> + </span><span class="branchCov" title="Branch 1 was taken 8394 times"> + </span>]:<span class="lineCov">    1266450 :                     if (false_e)</span></a>
<a name="7306"><span class="lineNum">    7306 </span>                :            :                       vn_nary_op_insert_pieces_predicated</a>
<a name="7307"><span class="lineNum">    7307 </span>                :<span class="lineCov">    1258060 :                         (2, icode, boolean_type_node, ops,</span></a>
<a name="7308"><span class="lineNum">    7308 </span>                :            :                          boolean_true_node, 0, false_e);</a>
<a name="7309"><span class="lineNum">    7309 </span>                :            :                   }</a>
<a name="7310"><span class="lineNum">    7310 </span>                :            :                 /* Relax for non-integers, inverted condition handled</a>
<a name="7311"><span class="lineNum">    7311 </span>                :            :                    above.  */</a>
<a name="7312"><span class="lineNum">    7312 </span>  [<span class="branchCov" title="Branch 0 was taken 1261380 times"> + </span><span class="branchCov" title="Branch 1 was taken 12256 times"> + </span><span class="branchCov" title="Branch 2 was taken 1165580 times"> + </span><span class="branchCov" title="Branch 3 was taken 95795 times"> + </span> :<span class="lineCov">    1273630 :                 if (INTEGRAL_TYPE_P (TREE_TYPE (lhs)))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 1047660 times"> + </span><span class="branchCov" title="Branch 5 was taken 117917 times"> + </span>]
<a name="7313"><span class="lineNum">    7313 </span>                :            :                   {</a>
<a name="7314"><span class="lineNum">    7314 </span>        [<span class="branchCov" title="Branch 0 was taken 1154740 times"> + </span><span class="branchCov" title="Branch 1 was taken 969 times"> + </span>]:<span class="lineCov">    1155710 :                     if (true_e)</span></a>
<a name="7315"><span class="lineNum">    7315 </span>                :<span class="lineCov">    1154740 :                       insert_related_predicates_on_edge (code, ops, true_e);</span></a>
<a name="7316"><span class="lineNum">    7316 </span>        [<span class="branchCov" title="Branch 0 was taken 1148350 times"> + </span><span class="branchCov" title="Branch 1 was taken 7365 times"> + </span>]:<span class="lineCov">    1155710 :                     if (false_e)</span></a>
<a name="7317"><span class="lineNum">    7317 </span>                :<span class="lineCov">    1148350 :                       insert_related_predicates_on_edge (icode, ops, false_e);</span></a>
<a name="7318"><span class="lineNum">    7318 </span>                :            :                   }</a>
<a name="7319"><span class="lineNum">    7319 </span>                :            :               }</a>
<a name="7320"><span class="lineNum">    7320 </span>                :<span class="lineCov">    1307550 :             break;</span></a>
<a name="7321"><span class="lineNum">    7321 </span>                :            :           }</a>
<a name="7322"><span class="lineNum">    7322 </span>                :<span class="lineCov">        811 :         case GIMPLE_GOTO:</span></a>
<a name="7323"><span class="lineNum">    7323 </span>                :<span class="lineCov">        811 :           e = find_taken_edge (bb, vn_valueize (gimple_goto_dest (last)));</span></a>
<a name="7324"><span class="lineNum">    7324 </span>                :<span class="lineCov">        811 :           break;</span></a>
<a name="7325"><span class="lineNum">    7325 </span>                :<span class="lineCov">   13466000 :         default:</span></a>
<a name="7326"><span class="lineNum">    7326 </span>                :<span class="lineCov">   13466000 :           e = NULL;</span></a>
<a name="7327"><span class="lineNum">    7327 </span>                :            :         }</a>
<a name="7328"><span class="lineNum">    7328 </span>        [<span class="branchCov" title="Branch 0 was taken 34147 times"> + </span><span class="branchCov" title="Branch 1 was taken 14745300 times"> + </span>]:<span class="lineCov">   14779500 :       if (e)</span></a>
<a name="7329"><span class="lineNum">    7329 </span>                :            :         {</a>
<a name="7330"><span class="lineNum">    7330 </span>                :<span class="lineCov">      34147 :           todo = TODO_cleanup_cfg;</span></a>
<a name="7331"><span class="lineNum">    7331 </span>        [<span class="branchCov" title="Branch 0 was taken 32555 times"> + </span><span class="branchCov" title="Branch 1 was taken 1592 times"> + </span>]:<span class="lineCov">      34147 :           if (!(e-&gt;flags &amp; EDGE_EXECUTABLE))</span></a>
<a name="7332"><span class="lineNum">    7332 </span>                :            :             {</a>
<a name="7333"><span class="lineNum">    7333 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 32555 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">      32555 :               if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 32555 times"> + </span>]
<a name="7334"><span class="lineNum">    7334 </span>                :<span class="lineNoCov">          0 :                 fprintf (dump_file,</span></a>
<a name="7335"><span class="lineNum">    7335 </span>                :            :                          &quot;marking known outgoing %sedge %d -&gt; %d executable\n&quot;,</a>
<a name="7336"><span class="lineNum">    7336 </span>                :<span class="lineNoCov">          0 :                          e-&gt;flags &amp; EDGE_DFS_BACK ? &quot;back-&quot; : &quot;&quot;,</span></a>
<a name="7337"><span class="lineNum">    7337 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :                          e-&gt;src-&gt;index, e-&gt;dest-&gt;index);</span></a>
<a name="7338"><span class="lineNum">    7338 </span>                :<span class="lineCov">      32555 :               e-&gt;flags |= EDGE_EXECUTABLE;</span></a>
<a name="7339"><span class="lineNum">    7339 </span>                :<span class="lineCov">      32555 :               e-&gt;dest-&gt;flags |= BB_EXECUTABLE;</span></a>
<a name="7340"><span class="lineNum">    7340 </span>                :            :             }</a>
<a name="7341"><span class="lineNum">    7341 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 1592 times"> + </span>]:<span class="lineCov">       1592 :           else if (!(e-&gt;dest-&gt;flags &amp; BB_EXECUTABLE))</span></a>
<a name="7342"><span class="lineNum">    7342 </span>                :            :             {</a>
<a name="7343"><span class="lineNum">    7343 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :               if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="7344"><span class="lineNum">    7344 </span>                :<span class="lineNoCov">          0 :                 fprintf (dump_file,</span></a>
<a name="7345"><span class="lineNum">    7345 </span>                :            :                          &quot;marking destination block %d reachable\n&quot;,</a>
<a name="7346"><span class="lineNum">    7346 </span>                :<span class="lineNoCov">          0 :                          e-&gt;dest-&gt;index);</span></a>
<a name="7347"><span class="lineNum">    7347 </span>                :<span class="lineNoCov">          0 :               e-&gt;dest-&gt;flags |= BB_EXECUTABLE;</span></a>
<a name="7348"><span class="lineNum">    7348 </span>                :            :             }</a>
<a name="7349"><span class="lineNum">    7349 </span>                :            :         }</a>
<a name="7350"><span class="lineNum">    7350 </span>        [<span class="branchCov" title="Branch 0 was taken 2312260 times"> + </span><span class="branchCov" title="Branch 1 was taken 12433100 times"> + </span>]:<span class="lineCov">   14745300 :       else if (gsi_one_before_end_p (gsi))</span></a>
<a name="7351"><span class="lineNum">    7351 </span>                :            :         {</a>
<a name="7352"><span class="lineNum">    7352 </span>        [<span class="branchCov" title="Branch 0 was taken 3535590 times"> + </span><span class="branchCov" title="Branch 1 was taken 2312260 times"> + </span>]:<span class="lineCov">    5847850 :           FOR_EACH_EDGE (e, ei, bb-&gt;succs)</span></a>
<a name="7353"><span class="lineNum">    7353 </span>                :            :             {</a>
<a name="7354"><span class="lineNum">    7354 </span>        [<span class="branchCov" title="Branch 0 was taken 3077870 times"> + </span><span class="branchCov" title="Branch 1 was taken 457720 times"> + </span>]:<span class="lineCov">    3535590 :               if (!(e-&gt;flags &amp; EDGE_EXECUTABLE))</span></a>
<a name="7355"><span class="lineNum">    7355 </span>                :            :                 {</a>
<a name="7356"><span class="lineNum">    7356 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 3077870 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">    3077870 :                   if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 3077870 times"> + </span>]
<a name="7357"><span class="lineNum">    7357 </span>                :<span class="lineNoCov">          0 :                     fprintf (dump_file,</span></a>
<a name="7358"><span class="lineNum">    7358 </span>                :            :                              &quot;marking outgoing edge %d -&gt; %d executable\n&quot;,</a>
<a name="7359"><span class="lineNum">    7359 </span>                :<span class="lineNoCov">          0 :                              e-&gt;src-&gt;index, e-&gt;dest-&gt;index);</span></a>
<a name="7360"><span class="lineNum">    7360 </span>                :<span class="lineCov">    3077870 :                   e-&gt;flags |= EDGE_EXECUTABLE;</span></a>
<a name="7361"><span class="lineNum">    7361 </span>                :<span class="lineCov">    3077870 :                   e-&gt;dest-&gt;flags |= BB_EXECUTABLE;</span></a>
<a name="7362"><span class="lineNum">    7362 </span>                :            :                 }</a>
<a name="7363"><span class="lineNum">    7363 </span>        [<span class="branchCov" title="Branch 0 was taken 811 times"> + </span><span class="branchCov" title="Branch 1 was taken 456909 times"> + </span>]:<span class="lineCov">     457720 :               else if (!(e-&gt;dest-&gt;flags &amp; BB_EXECUTABLE))</span></a>
<a name="7364"><span class="lineNum">    7364 </span>                :            :                 {</a>
<a name="7365"><span class="lineNum">    7365 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 811 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">        811 :                   if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 811 times"> + </span>]
<a name="7366"><span class="lineNum">    7366 </span>                :<span class="lineNoCov">          0 :                     fprintf (dump_file,</span></a>
<a name="7367"><span class="lineNum">    7367 </span>                :            :                              &quot;marking destination block %d reachable\n&quot;,</a>
<a name="7368"><span class="lineNum">    7368 </span>                :<span class="lineNoCov">          0 :                              e-&gt;dest-&gt;index);</span></a>
<a name="7369"><span class="lineNum">    7369 </span>                :<span class="lineCov">        811 :                   e-&gt;dest-&gt;flags |= BB_EXECUTABLE;</span></a>
<a name="7370"><span class="lineNum">    7370 </span>                :            :                 }</a>
<a name="7371"><span class="lineNum">    7371 </span>                :            :             }</a>
<a name="7372"><span class="lineNum">    7372 </span>                :            :         }</a>
<a name="7373"><span class="lineNum">    7373 </span>                :            : </a>
<a name="7374"><span class="lineNum">    7374 </span>                :            :       /* Eliminate.  That also pushes to avail.  */</a>
<a name="7375"><span class="lineNum">    7375 </span>  [<span class="branchCov" title="Branch 0 was taken 10989600 times"> + </span><span class="branchCov" title="Branch 1 was taken 3789890 times"> + </span><span class="branchCov" title="Branch 2 was taken 3614380 times"> + </span><span class="branchCov" title="Branch 3 was taken 7375180 times"> + </span>]:<span class="lineCov">   14779500 :       if (eliminate &amp;&amp; ! iterate)</span></a>
<a name="7376"><span class="lineNum">    7376 </span>                :<span class="lineCov">    3614380 :         avail.eliminate_stmt (bb, &amp;gsi);</span></a>
<a name="7377"><span class="lineNum">    7377 </span>                :            :       else</a>
<a name="7378"><span class="lineNum">    7378 </span>                :            :         /* If not eliminating, make all not already available defs</a>
<a name="7379"><span class="lineNum">    7379 </span>                :            :            available.  */</a>
<a name="7380"><span class="lineNum">    7380 </span>        [<span class="branchCov" title="Branch 0 was taken 2966240 times"> + </span><span class="branchCov" title="Branch 1 was taken 11165100 times"> + </span>]:<span class="lineCov">   14131300 :         FOR_EACH_SSA_TREE_OPERAND (op, gsi_stmt (gsi), i, SSA_OP_DEF)</span></a>
<a name="7381"><span class="lineNum">    7381 </span>        [<span class="branchCov" title="Branch 0 was taken 2392480 times"> + </span><span class="branchCov" title="Branch 1 was taken 573754 times"> + </span>]:<span class="lineCov">    2966240 :           if (! avail.eliminate_avail (bb, op))</span></a>
<a name="7382"><span class="lineNum">    7382 </span>                :<span class="lineCov">    2392480 :             avail.eliminate_push_avail (bb, op);</span></a>
<a name="7383"><span class="lineNum">    7383 </span>                :            :     }</a>
<a name="7384"><span class="lineNum">    7384 </span>                :            : </a>
<a name="7385"><span class="lineNum">    7385 </span>                :            :   /* Eliminate in destination PHI arguments.  Always substitute in dest</a>
<a name="7386"><span class="lineNum">    7386 </span>                :            :      PHIs, even for non-executable edges.  This handles region</a>
<a name="7387"><span class="lineNum">    7387 </span>                :            :      exits PHIs.  */</a>
<a name="7388"><span class="lineNum">    7388 </span>  [<span class="branchCov" title="Branch 0 was taken 622493 times"> + </span><span class="branchCov" title="Branch 1 was taken 2103870 times"> + </span><span class="branchCov" title="Branch 2 was taken 622493 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">    2726370 :   if (!iterate &amp;&amp; eliminate)</span></a>
<a name="7389"><span class="lineNum">    7389 </span>        [<span class="branchCov" title="Branch 0 was taken 961927 times"> + </span><span class="branchCov" title="Branch 1 was taken 622493 times"> + </span>]:<span class="lineCov">    1584420 :     FOR_EACH_EDGE (e, ei, bb-&gt;succs)</span></a>
<a name="7390"><span class="lineNum">    7390 </span>                :<span class="lineCov">    1595540 :       for (gphi_iterator gsi = gsi_start_phis (e-&gt;dest);</span></a>
<a name="7391"><span class="lineNum">    7391 </span>        [<span class="branchCov" title="Branch 0 was taken 633614 times"> + </span><span class="branchCov" title="Branch 1 was taken 961927 times"> + </span>]:<span class="lineCov">    2229160 :            !gsi_end_p (gsi); gsi_next (&amp;gsi))</span></a>
<a name="7392"><span class="lineNum">    7392 </span>                :            :         {</a>
<a name="7393"><span class="lineNum">    7393 </span>                :<span class="lineCov">     633614 :           gphi *phi = gsi.phi ();</span></a>
<a name="7394"><span class="lineNum">    7394 </span>                :<span class="lineCov">     633614 :           use_operand_p use_p = PHI_ARG_DEF_PTR_FROM_EDGE (phi, e);</span></a>
<a name="7395"><span class="lineNum">    7395 </span>                :<span class="lineCov">     633614 :           tree arg = USE_FROM_PTR (use_p);</span></a>
<a name="7396"><span class="lineNum">    7396 </span>                :<span class="lineCov">    1701190 :           if (TREE_CODE (arg) != SSA_NAME</span></a>
<a name="7397"><span class="lineNum">    7397 </span>  [<span class="branchCov" title="Branch 0 was taken 429409 times"> + </span><span class="branchCov" title="Branch 1 was taken 204205 times"> + </span><span class="branchCov" title="Branch 2 was taken 229760 times"> + </span><span class="branchCov" title="Branch 3 was taken 199649 times"> + </span> :<span class="lineCov">     633614 :               || virtual_operand_p (arg))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 433965 times"> + </span><span class="branchCov" title="Branch 5 was taken 199649 times"> + </span>]
<a name="7398"><span class="lineNum">    7398 </span>                :<span class="lineCov">     433965 :             continue;</span></a>
<a name="7399"><span class="lineNum">    7399 </span>                :            :           tree sprime;</a>
<a name="7400"><span class="lineNum">    7400 </span>        [<span class="branchCov" title="Branch 0 was taken 10482 times"> + </span><span class="branchCov" title="Branch 1 was taken 189167 times"> + </span>]:<span class="lineCov">     199649 :           if (SSA_NAME_IS_DEFAULT_DEF (arg))</span></a>
<a name="7401"><span class="lineNum">    7401 </span>                :            :             {</a>
<a name="7402"><span class="lineNum">    7402 </span>                :<span class="lineCov">      10482 :               sprime = SSA_VAL (arg);</span></a>
<a name="7403"><span class="lineNum">    7403 </span>  [<span class="branchCov" title="Branch 0 was taken 10482 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 10482 times"> + </span>]:<span class="lineCov">      10482 :               gcc_assert (TREE_CODE (sprime) != SSA_NAME</span></a>
<a name="7404"><span class="lineNum">    7404 </span>                :            :                           || SSA_NAME_IS_DEFAULT_DEF (sprime));</a>
<a name="7405"><span class="lineNum">    7405 </span>                :            :             }</a>
<a name="7406"><span class="lineNum">    7406 </span>                :            :           else</a>
<a name="7407"><span class="lineNum">    7407 </span>                :            :             /* Look for sth available at the definition block of the argument.</a>
<a name="7408"><span class="lineNum">    7408 </span>                :            :                This avoids inconsistencies between availability there which</a>
<a name="7409"><span class="lineNum">    7409 </span>                :            :                decides if the stmt can be removed and availability at the</a>
<a name="7410"><span class="lineNum">    7410 </span>                :            :                use site.  The SSA property ensures that things available</a>
<a name="7411"><span class="lineNum">    7411 </span>                :            :                at the definition are also available at uses.  */</a>
<a name="7412"><span class="lineNum">    7412 </span>                :<span class="lineCov">     189167 :             sprime = avail.eliminate_avail (gimple_bb (SSA_NAME_DEF_STMT (arg)),</span></a>
<a name="7413"><span class="lineNum">    7413 </span>                :<span class="lineCov">     189167 :                                             arg);</span></a>
<a name="7414"><span class="lineNum">    7414 </span>                :<span class="lineCov">     199649 :           if (sprime</span></a>
<a name="7415"><span class="lineNum">    7415 </span>        [<span class="branchCov" title="Branch 0 was taken 16450 times"> + </span><span class="branchCov" title="Branch 1 was taken 183199 times"> + </span>]:<span class="lineCov">     199649 :               &amp;&amp; sprime != arg</span></a>
<a name="7416"><span class="lineNum">    7416 </span>  [<span class="branchCov" title="Branch 0 was taken 199649 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchCov" title="Branch 2 was taken 16341 times"> + </span><span class="branchCov" title="Branch 3 was taken 109 times"> + </span> :<span class="lineCov">     399298 :               &amp;&amp; may_propagate_copy (arg, sprime))</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 16341 times"> + </span><span class="branchCov" title="Branch 5 was taken 183308 times"> + </span>]
<a name="7417"><span class="lineNum">    7417 </span>                :<span class="lineCov">      16341 :             propagate_value (use_p, sprime);</span></a>
<a name="7418"><span class="lineNum">    7418 </span>                :            :         }</a>
<a name="7419"><span class="lineNum">    7419 </span>                :            : </a>
<a name="7420"><span class="lineNum">    7420 </span>                :<span class="lineCov">    2726370 :   vn_context_bb = NULL;</span></a>
<a name="7421"><span class="lineNum">    7421 </span>                :<span class="lineCov">    2726370 :   return todo;</span></a>
<a name="7422"><span class="lineNum">    7422 </span>                :            : }</a>
<a name="7423"><span class="lineNum">    7423 </span>                :            : </a>
<a name="7424"><span class="lineNum">    7424 </span>                :            : /* Unwind state per basic-block.  */</a>
<a name="7425"><span class="lineNum">    7425 </span>                :            : </a>
<a name="7426"><span class="lineNum">    7426 </span>                :            : struct unwind_state</a>
<a name="7427"><span class="lineNum">    7427 </span>                :            : {</a>
<a name="7428"><span class="lineNum">    7428 </span>                :            :   /* Times this block has been visited.  */</a>
<a name="7429"><span class="lineNum">    7429 </span>                :            :   unsigned visited;</a>
<a name="7430"><span class="lineNum">    7430 </span>                :            :   /* Whether to handle this as iteration point or whether to treat</a>
<a name="7431"><span class="lineNum">    7431 </span>                :            :      incoming backedge PHI values as varying.  */</a>
<a name="7432"><span class="lineNum">    7432 </span>                :            :   bool iterate;</a>
<a name="7433"><span class="lineNum">    7433 </span>                :            :   /* Maximum RPO index this block is reachable from.  */</a>
<a name="7434"><span class="lineNum">    7434 </span>                :            :   int max_rpo;</a>
<a name="7435"><span class="lineNum">    7435 </span>                :            :   /* Unwind state.  */</a>
<a name="7436"><span class="lineNum">    7436 </span>                :            :   void *ob_top;</a>
<a name="7437"><span class="lineNum">    7437 </span>                :            :   vn_reference_t ref_top;</a>
<a name="7438"><span class="lineNum">    7438 </span>                :            :   vn_phi_t phi_top;</a>
<a name="7439"><span class="lineNum">    7439 </span>                :            :   vn_nary_op_t nary_top;</a>
<a name="7440"><span class="lineNum">    7440 </span>                :            :   vn_avail *avail_top;</a>
<a name="7441"><span class="lineNum">    7441 </span>                :            : };</a>
<a name="7442"><span class="lineNum">    7442 </span>                :            : </a>
<a name="7443"><span class="lineNum">    7443 </span>                :            : /* Unwind the RPO VN state for iteration.  */</a>
<a name="7444"><span class="lineNum">    7444 </span>                :            : </a>
<a name="7445"><span class="lineNum">    7445 </span>                :            : static void</a>
<a name="7446"><span class="lineNum">    7446 </span>                :<span class="lineCov">      49283 : do_unwind (unwind_state *to, rpo_elim &amp;avail)</span></a>
<a name="7447"><span class="lineNum">    7447 </span>                :            : {</a>
<a name="7448"><span class="lineNum">    7448 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 49283 times"> + </span>]:<span class="lineCov">      49283 :   gcc_assert (to-&gt;iterate);</span></a>
<a name="7449"><span class="lineNum">    7449 </span>        [<span class="branchCov" title="Branch 0 was taken 963863 times"> + </span><span class="branchCov" title="Branch 1 was taken 49283 times"> + </span>]:<span class="lineCov">    1013150 :   for (; last_inserted_nary != to-&gt;nary_top;</span></a>
<a name="7450"><span class="lineNum">    7450 </span>                :<span class="lineCov">     963863 :        last_inserted_nary = last_inserted_nary-&gt;next)</span></a>
<a name="7451"><span class="lineNum">    7451 </span>                :            :     {</a>
<a name="7452"><span class="lineNum">    7452 </span>                :            :       vn_nary_op_t *slot;</a>
<a name="7453"><span class="lineNum">    7453 </span>                :<span class="lineCov">     963863 :       slot = valid_info-&gt;nary-&gt;find_slot_with_hash</span></a>
<a name="7454"><span class="lineNum">    7454 </span>                :<span class="lineCov">     963863 :         (last_inserted_nary, last_inserted_nary-&gt;hashcode, NO_INSERT);</span></a>
<a name="7455"><span class="lineNum">    7455 </span>                :            :       /* Predication causes the need to restore previous state.  */</a>
<a name="7456"><span class="lineNum">    7456 </span>        [<span class="branchCov" title="Branch 0 was taken 191225 times"> + </span><span class="branchCov" title="Branch 1 was taken 772638 times"> + </span>]:<span class="lineCov">     963863 :       if ((*slot)-&gt;unwind_to)</span></a>
<a name="7457"><span class="lineNum">    7457 </span>                :<span class="lineCov">     191225 :         *slot = (*slot)-&gt;unwind_to;</span></a>
<a name="7458"><span class="lineNum">    7458 </span>                :            :       else</a>
<a name="7459"><span class="lineNum">    7459 </span>                :<span class="lineCov">     772638 :         valid_info-&gt;nary-&gt;clear_slot (slot);</span></a>
<a name="7460"><span class="lineNum">    7460 </span>                :            :     }</a>
<a name="7461"><span class="lineNum">    7461 </span>        [<span class="branchCov" title="Branch 0 was taken 145021 times"> + </span><span class="branchCov" title="Branch 1 was taken 49283 times"> + </span>]:<span class="lineCov">     194304 :   for (; last_inserted_phi != to-&gt;phi_top;</span></a>
<a name="7462"><span class="lineNum">    7462 </span>                :<span class="lineCov">     145021 :        last_inserted_phi = last_inserted_phi-&gt;next)</span></a>
<a name="7463"><span class="lineNum">    7463 </span>                :            :     {</a>
<a name="7464"><span class="lineNum">    7464 </span>                :            :       vn_phi_t *slot;</a>
<a name="7465"><span class="lineNum">    7465 </span>                :<span class="lineCov">     145021 :       slot = valid_info-&gt;phis-&gt;find_slot_with_hash</span></a>
<a name="7466"><span class="lineNum">    7466 </span>                :<span class="lineCov">     145021 :         (last_inserted_phi, last_inserted_phi-&gt;hashcode, NO_INSERT);</span></a>
<a name="7467"><span class="lineNum">    7467 </span>                :<span class="lineCov">     145021 :       valid_info-&gt;phis-&gt;clear_slot (slot);</span></a>
<a name="7468"><span class="lineNum">    7468 </span>                :            :     }</a>
<a name="7469"><span class="lineNum">    7469 </span>        [<span class="branchCov" title="Branch 0 was taken 268963 times"> + </span><span class="branchCov" title="Branch 1 was taken 49283 times"> + </span>]:<span class="lineCov">     318246 :   for (; last_inserted_ref != to-&gt;ref_top;</span></a>
<a name="7470"><span class="lineNum">    7470 </span>                :<span class="lineCov">     268963 :        last_inserted_ref = last_inserted_ref-&gt;next)</span></a>
<a name="7471"><span class="lineNum">    7471 </span>                :            :     {</a>
<a name="7472"><span class="lineNum">    7472 </span>                :            :       vn_reference_t *slot;</a>
<a name="7473"><span class="lineNum">    7473 </span>                :<span class="lineCov">     268963 :       slot = valid_info-&gt;references-&gt;find_slot_with_hash</span></a>
<a name="7474"><span class="lineNum">    7474 </span>                :<span class="lineCov">     268963 :         (last_inserted_ref, last_inserted_ref-&gt;hashcode, NO_INSERT);</span></a>
<a name="7475"><span class="lineNum">    7475 </span>                :<span class="lineCov">     268963 :       (*slot)-&gt;operands.release ();</span></a>
<a name="7476"><span class="lineNum">    7476 </span>                :<span class="lineCov">     268963 :       valid_info-&gt;references-&gt;clear_slot (slot);</span></a>
<a name="7477"><span class="lineNum">    7477 </span>                :            :     }</a>
<a name="7478"><span class="lineNum">    7478 </span>  [<span class="branchCov" title="Branch 0 was taken 49062 times"> + </span><span class="branchCov" title="Branch 1 was taken 221 times"> + </span><span class="branchCov" title="Branch 2 was taken 48885 times"> + </span><span class="branchCov" title="Branch 3 was taken 177 times"> + </span>]:<span class="lineCov">      49283 :   obstack_free (&amp;vn_tables_obstack, to-&gt;ob_top);</span></a>
<a name="7479"><span class="lineNum">    7479 </span>                :            : </a>
<a name="7480"><span class="lineNum">    7480 </span>                :            :   /* Prune [rpo_idx, ] from avail.  */</a>
<a name="7481"><span class="lineNum">    7481 </span>  [<span class="branchCov" title="Branch 0 was taken 593821 times"> + </span><span class="branchCov" title="Branch 1 was taken 14293 times"> + </span><span class="branchCov" title="Branch 2 was taken 558831 times"> + </span><span class="branchCov" title="Branch 3 was taken 34990 times"> + </span>]:<span class="lineCov">     608114 :   for (; last_pushed_avail &amp;&amp; last_pushed_avail-&gt;avail != to-&gt;avail_top;)</span></a>
<a name="7482"><span class="lineNum">    7482 </span>                :            :     {</a>
<a name="7483"><span class="lineNum">    7483 </span>                :<span class="lineCov">     558831 :       vn_ssa_aux_t val = last_pushed_avail;</span></a>
<a name="7484"><span class="lineNum">    7484 </span>                :<span class="lineCov">     558831 :       vn_avail *av = val-&gt;avail;</span></a>
<a name="7485"><span class="lineNum">    7485 </span>                :<span class="lineCov">     558831 :       val-&gt;avail = av-&gt;next;</span></a>
<a name="7486"><span class="lineNum">    7486 </span>                :<span class="lineCov">     558831 :       last_pushed_avail = av-&gt;next_undo;</span></a>
<a name="7487"><span class="lineNum">    7487 </span>                :<span class="lineCov">     558831 :       av-&gt;next = avail.m_avail_freelist;</span></a>
<a name="7488"><span class="lineNum">    7488 </span>                :<span class="lineCov">     558831 :       avail.m_avail_freelist = av;</span></a>
<a name="7489"><span class="lineNum">    7489 </span>                :            :     }</a>
<a name="7490"><span class="lineNum">    7490 </span>                :<span class="lineCov">      49283 : }</span></a>
<a name="7491"><span class="lineNum">    7491 </span>                :            : </a>
<a name="7492"><span class="lineNum">    7492 </span>                :            : /* Do VN on a SEME region specified by ENTRY and EXIT_BBS in FN.</a>
<a name="7493"><span class="lineNum">    7493 </span>                :            :    If ITERATE is true then treat backedges optimistically as not</a>
<a name="7494"><span class="lineNum">    7494 </span>                :            :    executed and iterate.  If ELIMINATE is true then perform</a>
<a name="7495"><span class="lineNum">    7495 </span>                :            :    elimination, otherwise leave that to the caller.  */</a>
<a name="7496"><span class="lineNum">    7496 </span>                :            : </a>
<a name="7497"><span class="lineNum">    7497 </span>                :            : static unsigned</a>
<a name="7498"><span class="lineNum">    7498 </span>                :<span class="lineCov">     264622 : do_rpo_vn (function *fn, edge entry, bitmap exit_bbs,</span></a>
<a name="7499"><span class="lineNum">    7499 </span>                :            :            bool iterate, bool eliminate)</a>
<a name="7500"><span class="lineNum">    7500 </span>                :            : {</a>
<a name="7501"><span class="lineNum">    7501 </span>                :<span class="lineCov">     264622 :   unsigned todo = 0;</span></a>
<a name="7502"><span class="lineNum">    7502 </span>                :            : </a>
<a name="7503"><span class="lineNum">    7503 </span>                :            :   /* We currently do not support region-based iteration when</a>
<a name="7504"><span class="lineNum">    7504 </span>                :            :      elimination is requested.  */</a>
<a name="7505"><span class="lineNum">    7505 </span>  [<span class="branchCov" title="Branch 0 was taken 9986 times"> + </span><span class="branchCov" title="Branch 1 was taken 254636 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 9986 times"> + </span> :<span class="lineCov">     264622 :   gcc_assert (!entry || !iterate || !eliminate);</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span>]
<a name="7506"><span class="lineNum">    7506 </span>                :            :   /* When iterating we need loop info up-to-date.  */</a>
<a name="7507"><span class="lineNum">    7507 </span>  [<span class="branchCov" title="Branch 0 was taken 185670 times"> + </span><span class="branchCov" title="Branch 1 was taken 78952 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 185670 times"> + </span>]:<span class="lineCov">     264622 :   gcc_assert (!iterate || !loops_state_satisfies_p (LOOPS_NEED_FIXUP));</span></a>
<a name="7508"><span class="lineNum">    7508 </span>                :            : </a>
<a name="7509"><span class="lineNum">    7509 </span>                :<span class="lineCov">     264622 :   bool do_region = entry != NULL;</span></a>
<a name="7510"><span class="lineNum">    7510 </span>        [<span class="branchCov" title="Branch 0 was taken 254636 times"> + </span><span class="branchCov" title="Branch 1 was taken 9986 times"> + </span>]:<span class="lineCov">     264622 :   if (!do_region)</span></a>
<a name="7511"><span class="lineNum">    7511 </span>                :            :     {</a>
<a name="7512"><span class="lineNum">    7512 </span>                :<span class="lineCov">     254636 :       entry = single_succ_edge (ENTRY_BLOCK_PTR_FOR_FN (fn));</span></a>
<a name="7513"><span class="lineNum">    7513 </span>                :<span class="lineCov">     254636 :       exit_bbs = BITMAP_ALLOC (NULL);</span></a>
<a name="7514"><span class="lineNum">    7514 </span>                :<span class="lineCov">     254636 :       bitmap_set_bit (exit_bbs, EXIT_BLOCK);</span></a>
<a name="7515"><span class="lineNum">    7515 </span>                :            :     }</a>
<a name="7516"><span class="lineNum">    7516 </span>                :            : </a>
<a name="7517"><span class="lineNum">    7517 </span>                :            :   /* Clear EDGE_DFS_BACK on &quot;all&quot; entry edges, RPO order compute will</a>
<a name="7518"><span class="lineNum">    7518 </span>                :            :      re-mark those that are contained in the region.  */</a>
<a name="7519"><span class="lineNum">    7519 </span>                :            :   edge_iterator ei;</a>
<a name="7520"><span class="lineNum">    7520 </span>                :            :   edge e;</a>
<a name="7521"><span class="lineNum">    7521 </span>        [<span class="branchCov" title="Branch 0 was taken 266079 times"> + </span><span class="branchCov" title="Branch 1 was taken 264622 times"> + </span>]:<span class="lineCov">     530701 :   FOR_EACH_EDGE (e, ei, entry-&gt;dest-&gt;preds)</span></a>
<a name="7522"><span class="lineNum">    7522 </span>                :<span class="lineCov">     266079 :     e-&gt;flags &amp;= ~EDGE_DFS_BACK;</span></a>
<a name="7523"><span class="lineNum">    7523 </span>                :            : </a>
<a name="7524"><span class="lineNum">    7524 </span>                :<span class="lineCov">     264622 :   int *rpo = XNEWVEC (int, n_basic_blocks_for_fn (fn) - NUM_FIXED_BLOCKS);</span></a>
<a name="7525"><span class="lineNum">    7525 </span>                :<span class="lineCov">     529244 :   auto_vec&lt;std::pair&lt;int, int&gt; &gt; toplevel_scc_extents;</span></a>
<a name="7526"><span class="lineNum">    7526 </span>                :            :   int n = rev_post_order_and_mark_dfs_back_seme</a>
<a name="7527"><span class="lineNum">    7527 </span>        [<span class="branchCov" title="Branch 0 was taken 185670 times"> + </span><span class="branchCov" title="Branch 1 was taken 78952 times"> + </span>]:<span class="lineCov">     264622 :     (fn, entry, exit_bbs, true, rpo, !iterate ? &amp;toplevel_scc_extents : NULL);</span></a>
<a name="7528"><span class="lineNum">    7528 </span>                :            : </a>
<a name="7529"><span class="lineNum">    7529 </span>        [<span class="branchCov" title="Branch 0 was taken 254636 times"> + </span><span class="branchCov" title="Branch 1 was taken 9986 times"> + </span>]:<span class="lineCov">     264622 :   if (!do_region)</span></a>
<a name="7530"><span class="lineNum">    7530 </span>                :<span class="lineCov">     254636 :     BITMAP_FREE (exit_bbs);</span></a>
<a name="7531"><span class="lineNum">    7531 </span>                :            : </a>
<a name="7532"><span class="lineNum">    7532 </span>                :            :   /* If there are any non-DFS_BACK edges into entry-&gt;dest skip</a>
<a name="7533"><span class="lineNum">    7533 </span>                :            :      processing PHI nodes for that block.  This supports</a>
<a name="7534"><span class="lineNum">    7534 </span>                :            :      value-numbering loop bodies w/o the actual loop.  */</a>
<a name="7535"><span class="lineNum">    7535 </span>        [<span class="branchCov" title="Branch 0 was taken 266017 times"> + </span><span class="branchCov" title="Branch 1 was taken 264534 times"> + </span>]:<span class="lineCov">     530551 :   FOR_EACH_EDGE (e, ei, entry-&gt;dest-&gt;preds)</span></a>
<a name="7536"><span class="lineNum">    7536 </span>        [<span class="branchCov" title="Branch 0 was taken 1457 times"> + </span><span class="branchCov" title="Branch 1 was taken 264560 times"> + </span>]:<span class="lineCov">     266017 :     if (e != entry</span></a>
<a name="7537"><span class="lineNum">    7537 </span>        [<span class="branchCov" title="Branch 0 was taken 88 times"> + </span><span class="branchCov" title="Branch 1 was taken 1369 times"> + </span>]:<span class="lineCov">       1457 :         &amp;&amp; !(e-&gt;flags &amp; EDGE_DFS_BACK))</span></a>
<a name="7538"><span class="lineNum">    7538 </span>                :<span class="lineCov">         88 :       break;</span></a>
<a name="7539"><span class="lineNum">    7539 </span>                :<span class="lineCov">     264622 :   bool skip_entry_phis = e != NULL;</span></a>
<a name="7540"><span class="lineNum">    7540 </span>  [<span class="branchCov" title="Branch 0 was taken 88 times"> + </span><span class="branchCov" title="Branch 1 was taken 264534 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 88 times"> + </span> :<span class="lineCov">     264622 :   if (skip_entry_phis &amp;&amp; dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>   <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchCov" title="Branch 7 was taken 264622 times"> + </span>]
<a name="7541"><span class="lineNum">    7541 </span>                :<span class="lineNoCov">          0 :     fprintf (dump_file, &quot;Region does not contain all edges into &quot;</span></a>
<a name="7542"><span class="lineNum">    7542 </span>                :            :              &quot;the entry block, skipping its PHIs.\n&quot;);</a>
<a name="7543"><span class="lineNum">    7543 </span>                :            : </a>
<a name="7544"><span class="lineNum">    7544 </span>                :<span class="lineCov">     264622 :   int *bb_to_rpo = XNEWVEC (int, last_basic_block_for_fn (fn));</span></a>
<a name="7545"><span class="lineNum">    7545 </span>        [<span class="branchCov" title="Branch 0 was taken 2424220 times"> + </span><span class="branchCov" title="Branch 1 was taken 264622 times"> + </span>]:<span class="lineCov">    2688840 :   for (int i = 0; i &lt; n; ++i)</span></a>
<a name="7546"><span class="lineNum">    7546 </span>                :<span class="lineCov">    2424220 :     bb_to_rpo[rpo[i]] = i;</span></a>
<a name="7547"><span class="lineNum">    7547 </span>                :            : </a>
<a name="7548"><span class="lineNum">    7548 </span>                :<span class="lineCov">     264622 :   unwind_state *rpo_state = XNEWVEC (unwind_state, n);</span></a>
<a name="7549"><span class="lineNum">    7549 </span>                :            : </a>
<a name="7550"><span class="lineNum">    7550 </span>                :<span class="lineCov">     264622 :   rpo_elim avail (entry-&gt;dest);</span></a>
<a name="7551"><span class="lineNum">    7551 </span>                :<span class="lineCov">     264622 :   rpo_avail = &amp;avail;</span></a>
<a name="7552"><span class="lineNum">    7552 </span>                :            : </a>
<a name="7553"><span class="lineNum">    7553 </span>                :            :   /* Verify we have no extra entries into the region.  */</a>
<a name="7554"><span class="lineNum">    7554 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 264622 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">     264622 :   if (flag_checking &amp;&amp; do_region)</span></a>
<a name="7555"><span class="lineNum">    7555 </span>                :            :     {</a>
<a name="7556"><span class="lineNum">    7556 </span>                :<span class="lineNoCov">          0 :       auto_bb_flag bb_in_region (fn);</span></a>
<a name="7557"><span class="lineNum">    7557 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :       for (int i = 0; i &lt; n; ++i)</span></a>
<a name="7558"><span class="lineNum">    7558 </span>                :            :         {</a>
<a name="7559"><span class="lineNum">    7559 </span>                :<span class="lineNoCov">          0 :           basic_block bb = BASIC_BLOCK_FOR_FN (fn, rpo[i]);</span></a>
<a name="7560"><span class="lineNum">    7560 </span>                :<span class="lineNoCov">          0 :           bb-&gt;flags |= bb_in_region;</span></a>
<a name="7561"><span class="lineNum">    7561 </span>                :            :         }</a>
<a name="7562"><span class="lineNum">    7562 </span>                :            :       /* We can't merge the first two loops because we cannot rely</a>
<a name="7563"><span class="lineNum">    7563 </span>                :            :          on EDGE_DFS_BACK for edges not within the region.  But if</a>
<a name="7564"><span class="lineNum">    7564 </span>                :            :          we decide to always have the bb_in_region flag we can</a>
<a name="7565"><span class="lineNum">    7565 </span>                :            :          do the checking during the RPO walk itself (but then it's</a>
<a name="7566"><span class="lineNum">    7566 </span>                :            :          also easy to handle MEME conservatively).  */</a>
<a name="7567"><span class="lineNum">    7567 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :       for (int i = 0; i &lt; n; ++i)</span></a>
<a name="7568"><span class="lineNum">    7568 </span>                :            :         {</a>
<a name="7569"><span class="lineNum">    7569 </span>                :<span class="lineNoCov">          0 :           basic_block bb = BASIC_BLOCK_FOR_FN (fn, rpo[i]);</span></a>
<a name="7570"><span class="lineNum">    7570 </span>                :            :           edge e;</a>
<a name="7571"><span class="lineNum">    7571 </span>                :            :           edge_iterator ei;</a>
<a name="7572"><span class="lineNum">    7572 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :           FOR_EACH_EDGE (e, ei, bb-&gt;preds)</span></a>
<a name="7573"><span class="lineNum">    7573 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :             gcc_assert (e == entry</span></a>
<span class="lineNum">         </span>   <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span><span class="branchNoExec" title="Branch 6 was not executed"> # </span><span class="branchNoExec" title="Branch 7 was not executed"> # </span>]
<a name="7574"><span class="lineNum">    7574 </span>                :            :                         || (skip_entry_phis &amp;&amp; bb == entry-&gt;dest)</a>
<a name="7575"><span class="lineNum">    7575 </span>                :            :                         || (e-&gt;src-&gt;flags &amp; bb_in_region));</a>
<a name="7576"><span class="lineNum">    7576 </span>                :            :         }</a>
<a name="7577"><span class="lineNum">    7577 </span>        [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span>]:<span class="lineNoCov">          0 :       for (int i = 0; i &lt; n; ++i)</span></a>
<a name="7578"><span class="lineNum">    7578 </span>                :            :         {</a>
<a name="7579"><span class="lineNum">    7579 </span>                :<span class="lineNoCov">          0 :           basic_block bb = BASIC_BLOCK_FOR_FN (fn, rpo[i]);</span></a>
<a name="7580"><span class="lineNum">    7580 </span>                :<span class="lineNoCov">          0 :           bb-&gt;flags &amp;= ~bb_in_region;</span></a>
<a name="7581"><span class="lineNum">    7581 </span>                :            :         }</a>
<a name="7582"><span class="lineNum">    7582 </span>                :            :     }</a>
<a name="7583"><span class="lineNum">    7583 </span>                :            : </a>
<a name="7584"><span class="lineNum">    7584 </span>                :            :   /* Create the VN state.  For the initial size of the various hashtables</a>
<a name="7585"><span class="lineNum">    7585 </span>                :            :      use a heuristic based on region size and number of SSA names.  */</a>
<a name="7586"><span class="lineNum">    7586 </span>                :<span class="lineCov">     264622 :   unsigned region_size = (((unsigned HOST_WIDE_INT)n * num_ssa_names)</span></a>
<a name="7587"><span class="lineNum">    7587 </span>                :<span class="lineCov">     264622 :                           / (n_basic_blocks_for_fn (fn) - NUM_FIXED_BLOCKS));</span></a>
<a name="7588"><span class="lineNum">    7588 </span>                :<span class="lineCov">     264622 :   VN_TOP = create_tmp_var_raw (void_type_node, &quot;vn_top&quot;);</span></a>
<a name="7589"><span class="lineNum">    7589 </span>                :<span class="lineCov">     264622 :   next_value_id = 1;</span></a>
<a name="7590"><span class="lineNum">    7590 </span>                :<span class="lineCov">     264622 :   next_constant_value_id = -1;</span></a>
<a name="7591"><span class="lineNum">    7591 </span>                :            : </a>
<a name="7592"><span class="lineNum">    7592 </span>                :<span class="lineCov">     264622 :   vn_ssa_aux_hash = new hash_table &lt;vn_ssa_aux_hasher&gt; (region_size * 2);</span></a>
<a name="7593"><span class="lineNum">    7593 </span>                :<span class="lineCov">     264622 :   gcc_obstack_init (&amp;vn_ssa_aux_obstack);</span></a>
<a name="7594"><span class="lineNum">    7594 </span>                :            : </a>
<a name="7595"><span class="lineNum">    7595 </span>                :<span class="lineCov">     264622 :   gcc_obstack_init (&amp;vn_tables_obstack);</span></a>
<a name="7596"><span class="lineNum">    7596 </span>                :<span class="lineCov">     264622 :   gcc_obstack_init (&amp;vn_tables_insert_obstack);</span></a>
<a name="7597"><span class="lineNum">    7597 </span>                :<span class="lineCov">     264622 :   valid_info = XCNEW (struct vn_tables_s);</span></a>
<a name="7598"><span class="lineNum">    7598 </span>                :<span class="lineCov">     264622 :   allocate_vn_table (valid_info, region_size);</span></a>
<a name="7599"><span class="lineNum">    7599 </span>                :<span class="lineCov">     264622 :   last_inserted_ref = NULL;</span></a>
<a name="7600"><span class="lineNum">    7600 </span>                :<span class="lineCov">     264622 :   last_inserted_phi = NULL;</span></a>
<a name="7601"><span class="lineNum">    7601 </span>                :<span class="lineCov">     264622 :   last_inserted_nary = NULL;</span></a>
<a name="7602"><span class="lineNum">    7602 </span>                :<span class="lineCov">     264622 :   last_pushed_avail = NULL;</span></a>
<a name="7603"><span class="lineNum">    7603 </span>                :            : </a>
<a name="7604"><span class="lineNum">    7604 </span>                :<span class="lineCov">     264622 :   vn_valueize = rpo_vn_valueize;</span></a>
<a name="7605"><span class="lineNum">    7605 </span>                :            : </a>
<a name="7606"><span class="lineNum">    7606 </span>                :            :   /* Initialize the unwind state and edge/BB executable state.  */</a>
<a name="7607"><span class="lineNum">    7607 </span>                :<span class="lineCov">     264622 :   unsigned curr_scc = 0;</span></a>
<a name="7608"><span class="lineNum">    7608 </span>        [<span class="branchCov" title="Branch 0 was taken 2424220 times"> + </span><span class="branchCov" title="Branch 1 was taken 264622 times"> + </span>]:<span class="lineCov">    2688840 :   for (int i = 0; i &lt; n; ++i)</span></a>
<a name="7609"><span class="lineNum">    7609 </span>                :            :     {</a>
<a name="7610"><span class="lineNum">    7610 </span>                :<span class="lineCov">    2424220 :       basic_block bb = BASIC_BLOCK_FOR_FN (fn, rpo[i]);</span></a>
<a name="7611"><span class="lineNum">    7611 </span>                :<span class="lineCov">    2424220 :       rpo_state[i].visited = 0;</span></a>
<a name="7612"><span class="lineNum">    7612 </span>                :<span class="lineCov">    2424220 :       rpo_state[i].max_rpo = i;</span></a>
<a name="7613"><span class="lineNum">    7613 </span>  [<span class="branchCov" title="Branch 0 was taken 623049 times"> + </span><span class="branchCov" title="Branch 1 was taken 1801170 times"> + </span><span class="branchCov" title="Branch 2 was taken 148581 times"> + </span><span class="branchCov" title="Branch 3 was taken 474468 times"> + </span> :<span class="lineCov">    2424220 :       if (!iterate &amp;&amp; curr_scc &lt; toplevel_scc_extents.length ())</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 148581 times"> + </span><span class="branchCov" title="Branch 5 was taken 2275640 times"> + </span>]
<a name="7614"><span class="lineNum">    7614 </span>                :            :         {</a>
<a name="7615"><span class="lineNum">    7615 </span>                :<span class="lineCov">     148581 :           if (i &gt;= toplevel_scc_extents[curr_scc].first</span></a>
<a name="7616"><span class="lineNum">    7616 </span>  [<span class="branchCov" title="Branch 0 was taken 85778 times"> + </span><span class="branchCov" title="Branch 1 was taken 62803 times"> + </span><span class="branchCov" title="Branch 2 was taken 85778 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     148581 :               &amp;&amp; i &lt;= toplevel_scc_extents[curr_scc].second)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 85778 times"> + </span><span class="branchCov" title="Branch 5 was taken 62803 times"> + </span>]
<a name="7617"><span class="lineNum">    7617 </span>                :<span class="lineCov">      85778 :             rpo_state[i].max_rpo = toplevel_scc_extents[curr_scc].second;</span></a>
<a name="7618"><span class="lineNum">    7618 </span>        [<span class="branchCov" title="Branch 0 was taken 16733 times"> + </span><span class="branchCov" title="Branch 1 was taken 131848 times"> + </span>]:<span class="lineCov">     148581 :           if (i == toplevel_scc_extents[curr_scc].second)</span></a>
<a name="7619"><span class="lineNum">    7619 </span>                :<span class="lineCov">      16733 :             curr_scc++;</span></a>
<a name="7620"><span class="lineNum">    7620 </span>                :            :         }</a>
<a name="7621"><span class="lineNum">    7621 </span>                :<span class="lineCov">    2424220 :       bb-&gt;flags &amp;= ~BB_EXECUTABLE;</span></a>
<a name="7622"><span class="lineNum">    7622 </span>                :<span class="lineCov">    2424220 :       bool has_backedges = false;</span></a>
<a name="7623"><span class="lineNum">    7623 </span>                :            :       edge e;</a>
<a name="7624"><span class="lineNum">    7624 </span>                :            :       edge_iterator ei;</a>
<a name="7625"><span class="lineNum">    7625 </span>        [<span class="branchCov" title="Branch 0 was taken 3514720 times"> + </span><span class="branchCov" title="Branch 1 was taken 2424220 times"> + </span>]:<span class="lineCov">    5938940 :       FOR_EACH_EDGE (e, ei, bb-&gt;preds)</span></a>
<a name="7626"><span class="lineNum">    7626 </span>                :            :         {</a>
<a name="7627"><span class="lineNum">    7627 </span>        [<span class="branchCov" title="Branch 0 was taken 75517 times"> + </span><span class="branchCov" title="Branch 1 was taken 3439210 times"> + </span>]:<span class="lineCov">    3514720 :           if (e-&gt;flags &amp; EDGE_DFS_BACK)</span></a>
<a name="7628"><span class="lineNum">    7628 </span>                :<span class="lineCov">      75517 :             has_backedges = true;</span></a>
<a name="7629"><span class="lineNum">    7629 </span>                :<span class="lineCov">    3514720 :           e-&gt;flags &amp;= ~EDGE_EXECUTABLE;</span></a>
<a name="7630"><span class="lineNum">    7630 </span>  [<span class="branchCov" title="Branch 0 was taken 954954 times"> + </span><span class="branchCov" title="Branch 1 was taken 2559770 times"> + </span><span class="branchCov" title="Branch 2 was taken 876002 times"> + </span><span class="branchCov" title="Branch 3 was taken 78952 times"> + </span> :<span class="lineCov">    3514720 :           if (iterate || e == entry || (skip_entry_phis &amp;&amp; bb == entry-&gt;dest))</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 90 times"> + </span><span class="branchCov" title="Branch 5 was taken 875912 times"> + </span><span class="branchCov" title="Branch 6 was taken 88 times"> + </span><span class="branchCov" title="Branch 7 was taken 2 times"> + </span>]
<a name="7631"><span class="lineNum">    7631 </span>                :<span class="lineCov">    2638810 :             continue;</span></a>
<a name="7632"><span class="lineNum">    7632 </span>                :            :         }</a>
<a name="7633"><span class="lineNum">    7633 </span>  [<span class="branchCov" title="Branch 0 was taken 1801170 times"> + </span><span class="branchCov" title="Branch 1 was taken 623049 times"> + </span><span class="branchCov" title="Branch 2 was taken 50959 times"> + </span><span class="branchCov" title="Branch 3 was taken 1750210 times"> + </span>]:<span class="lineCov">    2424220 :       rpo_state[i].iterate = iterate &amp;&amp; has_backedges;</span></a>
<a name="7634"><span class="lineNum">    7634 </span>                :            :     }</a>
<a name="7635"><span class="lineNum">    7635 </span>                :<span class="lineCov">     264622 :   entry-&gt;flags |= EDGE_EXECUTABLE;</span></a>
<a name="7636"><span class="lineNum">    7636 </span>                :<span class="lineCov">     264622 :   entry-&gt;dest-&gt;flags |= BB_EXECUTABLE;</span></a>
<a name="7637"><span class="lineNum">    7637 </span>                :            : </a>
<a name="7638"><span class="lineNum">    7638 </span>                :            :   /* As heuristic to improve compile-time we handle only the N innermost</a>
<a name="7639"><span class="lineNum">    7639 </span>                :            :      loops and the outermost one optimistically.  */</a>
<a name="7640"><span class="lineNum">    7640 </span>        [<span class="branchCov" title="Branch 0 was taken 185670 times"> + </span><span class="branchCov" title="Branch 1 was taken 78952 times"> + </span>]:<span class="lineCov">     264622 :   if (iterate)</span></a>
<a name="7641"><span class="lineNum">    7641 </span>                :            :     {</a>
<a name="7642"><span class="lineNum">    7642 </span>                :            :       loop_p loop;</a>
<a name="7643"><span class="lineNum">    7643 </span>                :<span class="lineCov">     185670 :       unsigned max_depth = param_rpo_vn_max_loop_depth;</span></a>
<a name="7644"><span class="lineNum">    7644 </span>        [<span class="branchCov" title="Branch 0 was taken 42397 times"> + </span><span class="branchCov" title="Branch 1 was taken 185670 times"> + </span>]:<span class="lineCov">     228067 :       FOR_EACH_LOOP (loop, LI_ONLY_INNERMOST)</span></a>
<a name="7645"><span class="lineNum">    7645 </span>        [<span class="branchCov" title="Branch 0 was taken 60 times"> + </span><span class="branchCov" title="Branch 1 was taken 42337 times"> + </span>]:<span class="lineCov">      42397 :         if (loop_depth (loop) &gt; max_depth)</span></a>
<a name="7646"><span class="lineNum">    7646 </span>                :<span class="lineCov">         60 :           for (unsigned i = 2;</span></a>
<a name="7647"><span class="lineNum">    7647 </span>        [<span class="branchCov" title="Branch 0 was taken 12 times"> + </span><span class="branchCov" title="Branch 1 was taken 60 times"> + </span>]:<span class="lineCov">         72 :                i &lt; loop_depth (loop) - max_depth; ++i)</span></a>
<a name="7648"><span class="lineNum">    7648 </span>                :            :             {</a>
<a name="7649"><span class="lineNum">    7649 </span>                :<span class="lineCov">         12 :               basic_block header = superloop_at_depth (loop, i)-&gt;header;</span></a>
<a name="7650"><span class="lineNum">    7650 </span>                :<span class="lineCov">         12 :               bool non_latch_backedge = false;</span></a>
<a name="7651"><span class="lineNum">    7651 </span>                :            :               edge e;</a>
<a name="7652"><span class="lineNum">    7652 </span>                :            :               edge_iterator ei;</a>
<a name="7653"><span class="lineNum">    7653 </span>        [<span class="branchCov" title="Branch 0 was taken 24 times"> + </span><span class="branchCov" title="Branch 1 was taken 12 times"> + </span>]:<span class="lineCov">         36 :               FOR_EACH_EDGE (e, ei, header-&gt;preds)</span></a>
<a name="7654"><span class="lineNum">    7654 </span>        [<span class="branchCov" title="Branch 0 was taken 12 times"> + </span><span class="branchCov" title="Branch 1 was taken 12 times"> + </span>]:<span class="lineCov">         24 :                 if (e-&gt;flags &amp; EDGE_DFS_BACK)</span></a>
<a name="7655"><span class="lineNum">    7655 </span>                :            :                   {</a>
<a name="7656"><span class="lineNum">    7656 </span>                :            :                     /* There can be a non-latch backedge into the header</a>
<a name="7657"><span class="lineNum">    7657 </span>                :            :                        which is part of an outer irreducible region.  We</a>
<a name="7658"><span class="lineNum">    7658 </span>                :            :                        cannot avoid iterating this block then.  */</a>
<a name="7659"><span class="lineNum">    7659 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 12 times"> + </span>]:<span class="lineCov">         12 :                     if (!dominated_by_p (CDI_DOMINATORS,</span></a>
<a name="7660"><span class="lineNum">    7660 </span>                :<span class="lineCov">         12 :                                          e-&gt;src, e-&gt;dest))</span></a>
<a name="7661"><span class="lineNum">    7661 </span>                :            :                       {</a>
<a name="7662"><span class="lineNum">    7662 </span>  [<span class="branchNoExec" title="Branch 0 was not executed"> # </span><span class="branchNoExec" title="Branch 1 was not executed"> # </span><span class="branchNoExec" title="Branch 2 was not executed"> # </span><span class="branchNoExec" title="Branch 3 was not executed"> # </span> :<span class="lineNoCov">          0 :                         if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoExec" title="Branch 4 was not executed"> # </span><span class="branchNoExec" title="Branch 5 was not executed"> # </span>]
<a name="7663"><span class="lineNum">    7663 </span>                :<span class="lineNoCov">          0 :                           fprintf (dump_file, &quot;non-latch backedge %d -&gt; %d &quot;</span></a>
<a name="7664"><span class="lineNum">    7664 </span>                :            :                                    &quot;forces iteration of loop %d\n&quot;,</a>
<a name="7665"><span class="lineNum">    7665 </span>                :<span class="lineNoCov">          0 :                                    e-&gt;src-&gt;index, e-&gt;dest-&gt;index, loop-&gt;num);</span></a>
<a name="7666"><span class="lineNum">    7666 </span>                :<span class="lineNoCov">          0 :                         non_latch_backedge = true;</span></a>
<a name="7667"><span class="lineNum">    7667 </span>                :            :                       }</a>
<a name="7668"><span class="lineNum">    7668 </span>                :            :                     else</a>
<a name="7669"><span class="lineNum">    7669 </span>                :<span class="lineCov">         12 :                       e-&gt;flags |= EDGE_EXECUTABLE;</span></a>
<a name="7670"><span class="lineNum">    7670 </span>                :            :                   }</a>
<a name="7671"><span class="lineNum">    7671 </span>                :<span class="lineCov">         12 :               rpo_state[bb_to_rpo[header-&gt;index]].iterate = non_latch_backedge;</span></a>
<a name="7672"><span class="lineNum">    7672 </span>                :            :             }</a>
<a name="7673"><span class="lineNum">    7673 </span>                :            :     }</a>
<a name="7674"><span class="lineNum">    7674 </span>                :            : </a>
<a name="7675"><span class="lineNum">    7675 </span>                :<span class="lineCov">     264622 :   uint64_t nblk = 0;</span></a>
<a name="7676"><span class="lineNum">    7676 </span>                :<span class="lineCov">     264622 :   int idx = 0;</span></a>
<a name="7677"><span class="lineNum">    7677 </span>        [<span class="branchCov" title="Branch 0 was taken 185670 times"> + </span><span class="branchCov" title="Branch 1 was taken 78952 times"> + </span>]:<span class="lineCov">     264622 :   if (iterate)</span></a>
<a name="7678"><span class="lineNum">    7678 </span>                :            :     /* Go and process all blocks, iterating as necessary.  */</a>
<a name="7679"><span class="lineNum">    7679 </span>                :<span class="lineCov">    1933260 :     do</span></a>
<a name="7680"><span class="lineNum">    7680 </span>                :            :       {</a>
<a name="7681"><span class="lineNum">    7681 </span>                :<span class="lineCov">    2118930 :         basic_block bb = BASIC_BLOCK_FOR_FN (fn, rpo[idx]);</span></a>
<a name="7682"><span class="lineNum">    7682 </span>                :            : </a>
<a name="7683"><span class="lineNum">    7683 </span>                :            :         /* If the block has incoming backedges remember unwind state.  This</a>
<a name="7684"><span class="lineNum">    7684 </span>                :            :            is required even for non-executable blocks since in irreducible</a>
<a name="7685"><span class="lineNum">    7685 </span>                :            :            regions we might reach them via the backedge and re-start iterating</a>
<a name="7686"><span class="lineNum">    7686 </span>                :            :            from there.</a>
<a name="7687"><span class="lineNum">    7687 </span>                :            :            Note we can individually mark blocks with incoming backedges to</a>
<a name="7688"><span class="lineNum">    7688 </span>                :            :            not iterate where we then handle PHIs conservatively.  We do that</a>
<a name="7689"><span class="lineNum">    7689 </span>                :            :            heuristically to reduce compile-time for degenerate cases.  */</a>
<a name="7690"><span class="lineNum">    7690 </span>        [<span class="branchCov" title="Branch 0 was taken 117782 times"> + </span><span class="branchCov" title="Branch 1 was taken 2001150 times"> + </span>]:<span class="lineCov">    2118930 :         if (rpo_state[idx].iterate)</span></a>
<a name="7691"><span class="lineNum">    7691 </span>                :            :           {</a>
<a name="7692"><span class="lineNum">    7692 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 117782 times"> + </span><span class="branchCov" title="Branch 2 was taken 117782 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     117782 :             rpo_state[idx].ob_top = obstack_alloc (&amp;vn_tables_obstack, 0);</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 117782 times"> + </span>]
<a name="7693"><span class="lineNum">    7693 </span>                :<span class="lineCov">     117782 :             rpo_state[idx].ref_top = last_inserted_ref;</span></a>
<a name="7694"><span class="lineNum">    7694 </span>                :<span class="lineCov">     117782 :             rpo_state[idx].phi_top = last_inserted_phi;</span></a>
<a name="7695"><span class="lineNum">    7695 </span>                :<span class="lineCov">     117782 :             rpo_state[idx].nary_top = last_inserted_nary;</span></a>
<a name="7696"><span class="lineNum">    7696 </span>                :<span class="lineCov">     117782 :             rpo_state[idx].avail_top</span></a>
<a name="7697"><span class="lineNum">    7697 </span>        [<span class="branchCov" title="Branch 0 was taken 88003 times"> + </span><span class="branchCov" title="Branch 1 was taken 29779 times"> + </span>]:<span class="lineCov">     117782 :               = last_pushed_avail ? last_pushed_avail-&gt;avail : NULL;</span></a>
<a name="7698"><span class="lineNum">    7698 </span>                :            :           }</a>
<a name="7699"><span class="lineNum">    7699 </span>                :            : </a>
<a name="7700"><span class="lineNum">    7700 </span>        [<span class="branchCov" title="Branch 0 was taken 15058 times"> + </span><span class="branchCov" title="Branch 1 was taken 2103870 times"> + </span>]:<span class="lineCov">    2118930 :         if (!(bb-&gt;flags &amp; BB_EXECUTABLE))</span></a>
<a name="7701"><span class="lineNum">    7701 </span>                :            :           {</a>
<a name="7702"><span class="lineNum">    7702 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 15058 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">      15058 :             if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 15058 times"> + </span>]
<a name="7703"><span class="lineNum">    7703 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot;Block %d: BB%d found not executable\n&quot;,</span></a>
<a name="7704"><span class="lineNum">    7704 </span>                :            :                        idx, bb-&gt;index);</a>
<a name="7705"><span class="lineNum">    7705 </span>                :<span class="lineCov">      15058 :             idx++;</span></a>
<a name="7706"><span class="lineNum">    7706 </span>                :<span class="lineCov">      64341 :             continue;</span></a>
<a name="7707"><span class="lineNum">    7707 </span>                :            :           }</a>
<a name="7708"><span class="lineNum">    7708 </span>                :            : </a>
<a name="7709"><span class="lineNum">    7709 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 2103870 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">    2103870 :         if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 2103870 times"> + </span>]
<a name="7710"><span class="lineNum">    7710 </span>                :<span class="lineNoCov">          0 :           fprintf (dump_file, &quot;Processing block %d: BB%d\n&quot;, idx, bb-&gt;index);</span></a>
<a name="7711"><span class="lineNum">    7711 </span>                :<span class="lineCov">    2103870 :         nblk++;</span></a>
<a name="7712"><span class="lineNum">    7712 </span>                :<span class="lineCov">    4207750 :         todo |= process_bb (avail, bb,</span></a>
<a name="7713"><span class="lineNum">    7713 </span>                :<span class="lineCov">    2103870 :                             rpo_state[idx].visited != 0,</span></a>
<a name="7714"><span class="lineNum">    7714 </span>                :<span class="lineCov">    2103870 :                             rpo_state[idx].iterate,</span></a>
<a name="7715"><span class="lineNum">    7715 </span>                :            :                             iterate, eliminate, do_region, exit_bbs, false);</a>
<a name="7716"><span class="lineNum">    7716 </span>                :<span class="lineCov">    2103870 :         rpo_state[idx].visited++;</span></a>
<a name="7717"><span class="lineNum">    7717 </span>                :            : </a>
<a name="7718"><span class="lineNum">    7718 </span>                :            :         /* Verify if changed values flow over executable outgoing backedges</a>
<a name="7719"><span class="lineNum">    7719 </span>                :            :            and those change destination PHI values (that's the thing we</a>
<a name="7720"><span class="lineNum">    7720 </span>                :            :            can easily verify).  Reduce over all such edges to the farthest</a>
<a name="7721"><span class="lineNum">    7721 </span>                :            :            away PHI.  */</a>
<a name="7722"><span class="lineNum">    7722 </span>                :<span class="lineCov">    2103870 :         int iterate_to = -1;</span></a>
<a name="7723"><span class="lineNum">    7723 </span>                :            :         edge_iterator ei;</a>
<a name="7724"><span class="lineNum">    7724 </span>                :            :         edge e;</a>
<a name="7725"><span class="lineNum">    7725 </span>        [<span class="branchCov" title="Branch 0 was taken 3022020 times"> + </span><span class="branchCov" title="Branch 1 was taken 2103870 times"> + </span>]:<span class="lineCov">    5125890 :         FOR_EACH_EDGE (e, ei, bb-&gt;succs)</span></a>
<a name="7726"><span class="lineNum">    7726 </span>        [<span class="branchCov" title="Branch 0 was taken 119270 times"> + </span><span class="branchCov" title="Branch 1 was taken 2902750 times"> + </span>]:<span class="lineCov">    3022020 :           if ((e-&gt;flags &amp; (EDGE_DFS_BACK|EDGE_EXECUTABLE))</span></a>
<a name="7727"><span class="lineNum">    7727 </span>                :            :               == (EDGE_DFS_BACK|EDGE_EXECUTABLE)</a>
<a name="7728"><span class="lineNum">    7728 </span>        [<span class="branchCov" title="Branch 0 was taken 119254 times"> + </span><span class="branchCov" title="Branch 1 was taken 16 times"> + </span>]:<span class="lineCov">     119270 :               &amp;&amp; rpo_state[bb_to_rpo[e-&gt;dest-&gt;index]].iterate)</span></a>
<a name="7729"><span class="lineNum">    7729 </span>                :            :             {</a>
<a name="7730"><span class="lineNum">    7730 </span>                :<span class="lineCov">     119254 :               int destidx = bb_to_rpo[e-&gt;dest-&gt;index];</span></a>
<a name="7731"><span class="lineNum">    7731 </span>        [<span class="branchCov" title="Branch 0 was taken 21 times"> + </span><span class="branchCov" title="Branch 1 was taken 119233 times"> + </span>]:<span class="lineCov">     119254 :               if (!rpo_state[destidx].visited)</span></a>
<a name="7732"><span class="lineNum">    7732 </span>                :            :                 {</a>
<a name="7733"><span class="lineNum">    7733 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 21 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">         21 :                   if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 21 times"> + </span>]
<a name="7734"><span class="lineNum">    7734 </span>                :<span class="lineNoCov">          0 :                     fprintf (dump_file, &quot;Unvisited destination %d\n&quot;,</span></a>
<a name="7735"><span class="lineNum">    7735 </span>                :<span class="lineNoCov">          0 :                              e-&gt;dest-&gt;index);</span></a>
<a name="7736"><span class="lineNum">    7736 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 21 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">         21 :                   if (iterate_to == -1 || destidx &lt; iterate_to)</span></a>
<a name="7737"><span class="lineNum">    7737 </span>                :<span class="lineCov">         21 :                     iterate_to = destidx;</span></a>
<a name="7738"><span class="lineNum">    7738 </span>                :<span class="lineCov">         21 :                   continue;</span></a>
<a name="7739"><span class="lineNum">    7739 </span>                :            :                 }</a>
<a name="7740"><span class="lineNum">    7740 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 119233 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     119233 :               if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 119233 times"> + </span>]
<a name="7741"><span class="lineNum">    7741 </span>                :<span class="lineNoCov">          0 :                 fprintf (dump_file, &quot;Looking for changed values of backedge&quot;</span></a>
<a name="7742"><span class="lineNum">    7742 </span>                :            :                          &quot; %d-&gt;%d destination PHIs\n&quot;,</a>
<a name="7743"><span class="lineNum">    7743 </span>                :<span class="lineNoCov">          0 :                          e-&gt;src-&gt;index, e-&gt;dest-&gt;index);</span></a>
<a name="7744"><span class="lineNum">    7744 </span>                :<span class="lineCov">     119233 :               vn_context_bb = e-&gt;dest;</span></a>
<a name="7745"><span class="lineNum">    7745 </span>                :            :               gphi_iterator gsi;</a>
<a name="7746"><span class="lineNum">    7746 </span>                :<span class="lineCov">     276761 :               for (gsi = gsi_start_phis (e-&gt;dest);</span></a>
<a name="7747"><span class="lineNum">    7747 </span>        [<span class="branchCov" title="Branch 0 was taken 206818 times"> + </span><span class="branchCov" title="Branch 1 was taken 69943 times"> + </span>]:<span class="lineCov">     434289 :                    !gsi_end_p (gsi); gsi_next (&amp;gsi))</span></a>
<a name="7748"><span class="lineNum">    7748 </span>                :            :                 {</a>
<a name="7749"><span class="lineNum">    7749 </span>                :<span class="lineCov">     206818 :                   bool inserted = false;</span></a>
<a name="7750"><span class="lineNum">    7750 </span>                :            :                   /* While we'd ideally just iterate on value changes</a>
<a name="7751"><span class="lineNum">    7751 </span>                :            :                      we CSE PHIs and do that even across basic-block</a>
<a name="7752"><span class="lineNum">    7752 </span>                :            :                      boundaries.  So even hashtable state changes can</a>
<a name="7753"><span class="lineNum">    7753 </span>                :            :                      be important (which is roughly equivalent to</a>
<a name="7754"><span class="lineNum">    7754 </span>                :            :                      PHI argument value changes).  To not excessively</a>
<a name="7755"><span class="lineNum">    7755 </span>                :            :                      iterate because of that we track whether a PHI</a>
<a name="7756"><span class="lineNum">    7756 </span>                :            :                      was CSEd to with GF_PLF_1.  */</a>
<a name="7757"><span class="lineNum">    7757 </span>                :            :                   bool phival_changed;</a>
<a name="7758"><span class="lineNum">    7758 </span>                :<span class="lineCov">     206818 :                   if ((phival_changed = visit_phi (gsi.phi (),</span></a>
<a name="7759"><span class="lineNum">    7759 </span>                :            :                                                    &amp;inserted, false))</a>
<a name="7760"><span class="lineNum">    7760 </span>  [<span class="branchCov" title="Branch 0 was taken 157722 times"> + </span><span class="branchCov" title="Branch 1 was taken 49096 times"> + </span><span class="branchCov" title="Branch 2 was taken 30779 times"> + </span><span class="branchCov" title="Branch 3 was taken 126943 times"> + </span> :<span class="lineCov">     206818 :                       || (inserted &amp;&amp; gimple_plf (gsi.phi (), GF_PLF_1)))</span></a>
<span class="lineNum">         </span>   <span class="branchCov" title="Branch 4 was taken 194 times"> + </span><span class="branchCov" title="Branch 5 was taken 30585 times"> + </span><span class="branchCov" title="Branch 6 was taken 49290 times"> + </span><span class="branchCov" title="Branch 7 was taken 157528 times"> + </span>]
<a name="7761"><span class="lineNum">    7761 </span>                :            :                     {</a>
<a name="7762"><span class="lineNum">    7762 </span>                :<span class="lineCov">      98580 :                       if (!phival_changed</span></a>
<a name="7763"><span class="lineNum">    7763 </span>  [<span class="branchCov" title="Branch 0 was taken 194 times"> + </span><span class="branchCov" title="Branch 1 was taken 49096 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 194 times"> + </span> :<span class="lineCov">      49290 :                           &amp;&amp; dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>   <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchNoCov" title="Branch 5 was not taken"> - </span><span class="branchNoCov" title="Branch 6 was not taken"> - </span><span class="branchCov" title="Branch 7 was taken 49290 times"> + </span>]
<a name="7764"><span class="lineNum">    7764 </span>                :<span class="lineNoCov">          0 :                         fprintf (dump_file, &quot;PHI was CSEd and hashtable &quot;</span></a>
<a name="7765"><span class="lineNum">    7765 </span>                :            :                                  &quot;state (changed)\n&quot;);</a>
<a name="7766"><span class="lineNum">    7766 </span>  [<span class="branchCov" title="Branch 0 was taken 28 times"> + </span><span class="branchCov" title="Branch 1 was taken 49262 times"> + </span><span class="branchCov" title="Branch 2 was taken 28 times"> + </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span>]:<span class="lineCov">      49290 :                       if (iterate_to == -1 || destidx &lt; iterate_to)</span></a>
<a name="7767"><span class="lineNum">    7767 </span>                :<span class="lineCov">      49290 :                         iterate_to = destidx;</span></a>
<a name="7768"><span class="lineNum">    7768 </span>                :<span class="lineCov">      49290 :                       break;</span></a>
<a name="7769"><span class="lineNum">    7769 </span>                :            :                     }</a>
<a name="7770"><span class="lineNum">    7770 </span>                :            :                 }</a>
<a name="7771"><span class="lineNum">    7771 </span>                :<span class="lineCov">     119233 :               vn_context_bb = NULL;</span></a>
<a name="7772"><span class="lineNum">    7772 </span>                :            :             }</a>
<a name="7773"><span class="lineNum">    7773 </span>        [<span class="branchCov" title="Branch 0 was taken 49283 times"> + </span><span class="branchCov" title="Branch 1 was taken 2054590 times"> + </span>]:<span class="lineCov">    2103870 :         if (iterate_to != -1)</span></a>
<a name="7774"><span class="lineNum">    7774 </span>                :            :           {</a>
<a name="7775"><span class="lineNum">    7775 </span>                :<span class="lineCov">      49283 :             do_unwind (&amp;rpo_state[iterate_to], avail);</span></a>
<a name="7776"><span class="lineNum">    7776 </span>                :<span class="lineCov">      49283 :             idx = iterate_to;</span></a>
<a name="7777"><span class="lineNum">    7777 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 49283 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">      49283 :             if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 49283 times"> + </span>]
<a name="7778"><span class="lineNum">    7778 </span>                :<span class="lineNoCov">          0 :               fprintf (dump_file, &quot;Iterating to %d BB%d\n&quot;,</span></a>
<a name="7779"><span class="lineNum">    7779 </span>                :<span class="lineNoCov">          0 :                        iterate_to, rpo[iterate_to]);</span></a>
<a name="7780"><span class="lineNum">    7780 </span>                :<span class="lineCov">      49283 :             continue;</span></a>
<a name="7781"><span class="lineNum">    7781 </span>                :            :           }</a>
<a name="7782"><span class="lineNum">    7782 </span>                :            : </a>
<a name="7783"><span class="lineNum">    7783 </span>                :<span class="lineCov">    2054590 :         idx++;</span></a>
<a name="7784"><span class="lineNum">    7784 </span>                :            :       }</a>
<a name="7785"><span class="lineNum">    7785 </span>        [<span class="branchCov" title="Branch 0 was taken 1933260 times"> + </span><span class="branchCov" title="Branch 1 was taken 185670 times"> + </span>]:<span class="lineCov">    2118930 :     while (idx &lt; n);</span></a>
<a name="7786"><span class="lineNum">    7786 </span>                :            : </a>
<a name="7787"><span class="lineNum">    7787 </span>                :            :   else /* !iterate */</a>
<a name="7788"><span class="lineNum">    7788 </span>                :            :     {</a>
<a name="7789"><span class="lineNum">    7789 </span>                :            :       /* Process all blocks greedily with a worklist that enforces RPO</a>
<a name="7790"><span class="lineNum">    7790 </span>                :            :          processing of reachable blocks.  */</a>
<a name="7791"><span class="lineNum">    7791 </span>                :<span class="lineCov">     157904 :       auto_bitmap worklist;</span></a>
<a name="7792"><span class="lineNum">    7792 </span>                :<span class="lineCov">      78952 :       bitmap_set_bit (worklist, 0);</span></a>
<a name="7793"><span class="lineNum">    7793 </span>        [<span class="branchCov" title="Branch 0 was taken 622493 times"> + </span><span class="branchCov" title="Branch 1 was taken 78952 times"> + </span>]:<span class="lineCov">     701445 :       while (!bitmap_empty_p (worklist))</span></a>
<a name="7794"><span class="lineNum">    7794 </span>                :            :         {</a>
<a name="7795"><span class="lineNum">    7795 </span>                :<span class="lineCov">     622493 :           int idx = bitmap_first_set_bit (worklist);</span></a>
<a name="7796"><span class="lineNum">    7796 </span>                :<span class="lineCov">     622493 :           bitmap_clear_bit (worklist, idx);</span></a>
<a name="7797"><span class="lineNum">    7797 </span>                :<span class="lineCov">     622493 :           basic_block bb = BASIC_BLOCK_FOR_FN (fn, rpo[idx]);</span></a>
<a name="7798"><span class="lineNum">    7798 </span>  [<span class="branchCov" title="Branch 0 was taken 622493 times"> + </span><span class="branchNoCov" title="Branch 1 was not taken"> - </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchCov" title="Branch 3 was taken 622493 times"> + </span>]:<span class="lineCov">     622493 :           gcc_assert ((bb-&gt;flags &amp; BB_EXECUTABLE)</span></a>
<a name="7799"><span class="lineNum">    7799 </span>                :            :                       &amp;&amp; !rpo_state[idx].visited);</a>
<a name="7800"><span class="lineNum">    7800 </span>                :            : </a>
<a name="7801"><span class="lineNum">    7801 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 622493 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     622493 :           if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 622493 times"> + </span>]
<a name="7802"><span class="lineNum">    7802 </span>                :<span class="lineNoCov">          0 :             fprintf (dump_file, &quot;Processing block %d: BB%d\n&quot;, idx, bb-&gt;index);</span></a>
<a name="7803"><span class="lineNum">    7803 </span>                :            : </a>
<a name="7804"><span class="lineNum">    7804 </span>                :            :           /* When we run into predecessor edges where we cannot trust its</a>
<a name="7805"><span class="lineNum">    7805 </span>                :            :              executable state mark them executable so PHI processing will</a>
<a name="7806"><span class="lineNum">    7806 </span>                :            :              be conservative.</a>
<a name="7807"><span class="lineNum">    7807 </span>                :            :              ???  Do we need to force arguments flowing over that edge</a>
<a name="7808"><span class="lineNum">    7808 </span>                :            :              to be varying or will they even always be?  */</a>
<a name="7809"><span class="lineNum">    7809 </span>                :            :           edge_iterator ei;</a>
<a name="7810"><span class="lineNum">    7810 </span>                :            :           edge e;</a>
<a name="7811"><span class="lineNum">    7811 </span>        [<span class="branchCov" title="Branch 0 was taken 954264 times"> + </span><span class="branchCov" title="Branch 1 was taken 622493 times"> + </span>]:<span class="lineCov">    1576760 :           FOR_EACH_EDGE (e, ei, bb-&gt;preds)</span></a>
<a name="7812"><span class="lineNum">    7812 </span>        [<span class="branchCov" title="Branch 0 was taken 23102 times"> + </span><span class="branchCov" title="Branch 1 was taken 931162 times"> + </span>]:<span class="lineCov">     954264 :             if (!(e-&gt;flags &amp; EDGE_EXECUTABLE)</span></a>
<a name="7813"><span class="lineNum">    7813 </span>        [<span class="branchCov" title="Branch 0 was taken 22551 times"> + </span><span class="branchCov" title="Branch 1 was taken 551 times"> + </span>]:<span class="lineCov">      23102 :                 &amp;&amp; (bb == entry-&gt;dest</span></a>
<a name="7814"><span class="lineNum">    7814 </span>        [<span class="branchCov" title="Branch 0 was taken 21875 times"> + </span><span class="branchCov" title="Branch 1 was taken 676 times"> + </span>]:<span class="lineCov">      22551 :                     || (!rpo_state[bb_to_rpo[e-&gt;src-&gt;index]].visited</span></a>
<a name="7815"><span class="lineNum">    7815 </span>        [<span class="branchCov" title="Branch 0 was taken 21713 times"> + </span><span class="branchCov" title="Branch 1 was taken 162 times"> + </span>]:<span class="lineCov">      21875 :                         &amp;&amp; (rpo_state[bb_to_rpo[e-&gt;src-&gt;index]].max_rpo</span></a>
<a name="7816"><span class="lineNum">    7816 </span>                :            :                             &gt;= (int)idx))))</a>
<a name="7817"><span class="lineNum">    7817 </span>                :            :               {</a>
<a name="7818"><span class="lineNum">    7818 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 22264 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">      22264 :                 if (dump_file &amp;&amp; (dump_flags &amp; TDF_DETAILS))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 22264 times"> + </span>]
<a name="7819"><span class="lineNum">    7819 </span>                :<span class="lineNoCov">          0 :                   fprintf (dump_file, &quot;Cannot trust state of predecessor &quot;</span></a>
<a name="7820"><span class="lineNum">    7820 </span>                :            :                            &quot;edge %d -&gt; %d, marking executable\n&quot;,</a>
<a name="7821"><span class="lineNum">    7821 </span>                :<span class="lineNoCov">          0 :                            e-&gt;src-&gt;index, e-&gt;dest-&gt;index);</span></a>
<a name="7822"><span class="lineNum">    7822 </span>                :<span class="lineCov">      22264 :                 e-&gt;flags |= EDGE_EXECUTABLE;</span></a>
<a name="7823"><span class="lineNum">    7823 </span>                :            :               }</a>
<a name="7824"><span class="lineNum">    7824 </span>                :            : </a>
<a name="7825"><span class="lineNum">    7825 </span>                :<span class="lineCov">     622493 :           nblk++;</span></a>
<a name="7826"><span class="lineNum">    7826 </span>                :<span class="lineCov">     622493 :           todo |= process_bb (avail, bb, false, false, false, eliminate,</span></a>
<a name="7827"><span class="lineNum">    7827 </span>                :            :                               do_region, exit_bbs,</a>
<a name="7828"><span class="lineNum">    7828 </span>  [<span class="branchCov" title="Branch 0 was taken 90 times"> + </span><span class="branchCov" title="Branch 1 was taken 622403 times"> + </span><span class="branchCov" title="Branch 2 was taken 88 times"> + </span><span class="branchCov" title="Branch 3 was taken 2 times"> + </span>]:<span class="lineCov">     622493 :                               skip_entry_phis &amp;&amp; bb == entry-&gt;dest);</span></a>
<a name="7829"><span class="lineNum">    7829 </span>                :<span class="lineCov">     622493 :           rpo_state[idx].visited++;</span></a>
<a name="7830"><span class="lineNum">    7830 </span>                :            : </a>
<a name="7831"><span class="lineNum">    7831 </span>        [<span class="branchCov" title="Branch 0 was taken 961927 times"> + </span><span class="branchCov" title="Branch 1 was taken 622493 times"> + </span>]:<span class="lineCov">    1584420 :           FOR_EACH_EDGE (e, ei, bb-&gt;succs)</span></a>
<a name="7832"><span class="lineNum">    7832 </span>                :<span class="lineCov">    1923850 :             if ((e-&gt;flags &amp; EDGE_EXECUTABLE)</span></a>
<a name="7833"><span class="lineNum">    7833 </span>        [<span class="branchCov" title="Branch 0 was taken 895456 times"> + </span><span class="branchCov" title="Branch 1 was taken 65223 times"> + </span>]:<span class="lineCov">     960679 :                 &amp;&amp; e-&gt;dest-&gt;index != EXIT_BLOCK</span></a>
<a name="7834"><span class="lineNum">    7834 </span>  [<span class="branchCov" title="Branch 0 was taken 38708 times"> + </span><span class="branchCov" title="Branch 1 was taken 856748 times"> + </span><span class="branchCov" title="Branch 2 was taken 17452 times"> + </span><span class="branchCov" title="Branch 3 was taken 21256 times"> + </span>]:<span class="lineCov">     895456 :                 &amp;&amp; (!do_region || !bitmap_bit_p (exit_bbs, e-&gt;dest-&gt;index))</span></a>
<a name="7835"><span class="lineNum">    7835 </span>  [<span class="branchCov" title="Branch 0 was taken 960679 times"> + </span><span class="branchCov" title="Branch 1 was taken 1248 times"> + </span><span class="branchCov" title="Branch 2 was taken 852210 times"> + </span><span class="branchCov" title="Branch 3 was taken 21990 times"> + </span> :<span class="lineCov">    1922610 :                 &amp;&amp; !rpo_state[bb_to_rpo[e-&gt;dest-&gt;index]].visited)</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 852210 times"> + </span><span class="branchCov" title="Branch 5 was taken 109717 times"> + </span>]
<a name="7836"><span class="lineNum">    7836 </span>                :<span class="lineCov">     852210 :               bitmap_set_bit (worklist, bb_to_rpo[e-&gt;dest-&gt;index]);</span></a>
<a name="7837"><span class="lineNum">    7837 </span>                :            :         }</a>
<a name="7838"><span class="lineNum">    7838 </span>                :            :     }</a>
<a name="7839"><span class="lineNum">    7839 </span>                :            : </a>
<a name="7840"><span class="lineNum">    7840 </span>                :            :   /* If statistics or dump file active.  */</a>
<a name="7841"><span class="lineNum">    7841 </span>                :<span class="lineCov">     264622 :   int nex = 0;</span></a>
<a name="7842"><span class="lineNum">    7842 </span>                :<span class="lineCov">     264622 :   unsigned max_visited = 1;</span></a>
<a name="7843"><span class="lineNum">    7843 </span>        [<span class="branchCov" title="Branch 0 was taken 2424220 times"> + </span><span class="branchCov" title="Branch 1 was taken 264622 times"> + </span>]:<span class="lineCov">    2688840 :   for (int i = 0; i &lt; n; ++i)</span></a>
<a name="7844"><span class="lineNum">    7844 </span>                :            :     {</a>
<a name="7845"><span class="lineNum">    7845 </span>                :<span class="lineCov">    2424220 :       basic_block bb = BASIC_BLOCK_FOR_FN (fn, rpo[i]);</span></a>
<a name="7846"><span class="lineNum">    7846 </span>        [<span class="branchCov" title="Branch 0 was taken 2417550 times"> + </span><span class="branchCov" title="Branch 1 was taken 6671 times"> + </span>]:<span class="lineCov">    2424220 :       if (bb-&gt;flags &amp; BB_EXECUTABLE)</span></a>
<a name="7847"><span class="lineNum">    7847 </span>                :<span class="lineCov">    2417550 :         nex++;</span></a>
<a name="7848"><span class="lineNum">    7848 </span>                :<span class="lineCov">    2424220 :       statistics_histogram_event (cfun, &quot;RPO block visited times&quot;,</span></a>
<a name="7849"><span class="lineNum">    7849 </span>                :<span class="lineCov">    2424220 :                                   rpo_state[i].visited);</span></a>
<a name="7850"><span class="lineNum">    7850 </span>        [<span class="branchCov" title="Branch 0 was taken 32827 times"> + </span><span class="branchCov" title="Branch 1 was taken 2391390 times"> + </span>]:<span class="lineCov">    2424220 :       if (rpo_state[i].visited &gt; max_visited)</span></a>
<a name="7851"><span class="lineNum">    7851 </span>                :<span class="lineCov">      32827 :         max_visited = rpo_state[i].visited;</span></a>
<a name="7852"><span class="lineNum">    7852 </span>                :            :     }</a>
<a name="7853"><span class="lineNum">    7853 </span>                :<span class="lineCov">     264622 :   unsigned nvalues = 0, navail = 0;</span></a>
<a name="7854"><span class="lineNum">    7854 </span>                :<span class="lineCov">    5758370 :   for (hash_table&lt;vn_ssa_aux_hasher&gt;::iterator i = vn_ssa_aux_hash-&gt;begin ();</span></a>
<a name="7855"><span class="lineNum">    7855 </span>        [<span class="branchCov" title="Branch 0 was taken 5493750 times"> + </span><span class="branchCov" title="Branch 1 was taken 264622 times"> + </span>]:<span class="lineCov">   11252100 :        i != vn_ssa_aux_hash-&gt;end (); ++i)</span></a>
<a name="7856"><span class="lineNum">    7856 </span>                :            :     {</a>
<a name="7857"><span class="lineNum">    7857 </span>                :<span class="lineCov">    5493750 :       nvalues++;</span></a>
<a name="7858"><span class="lineNum">    7858 </span>                :<span class="lineCov">    5493750 :       vn_avail *av = (*i)-&gt;avail;</span></a>
<a name="7859"><span class="lineNum">    7859 </span>        [<span class="branchCov" title="Branch 0 was taken 2945000 times"> + </span><span class="branchCov" title="Branch 1 was taken 5493750 times"> + </span>]:<span class="lineCov">    8438750 :       while (av)</span></a>
<a name="7860"><span class="lineNum">    7860 </span>                :            :         {</a>
<a name="7861"><span class="lineNum">    7861 </span>                :<span class="lineCov">    2945000 :           navail++;</span></a>
<a name="7862"><span class="lineNum">    7862 </span>                :<span class="lineCov">    2945000 :           av = av-&gt;next;</span></a>
<a name="7863"><span class="lineNum">    7863 </span>                :            :         }</a>
<a name="7864"><span class="lineNum">    7864 </span>                :            :     }</a>
<a name="7865"><span class="lineNum">    7865 </span>                :<span class="lineCov">     264622 :   statistics_counter_event (cfun, &quot;RPO blocks&quot;, n);</span></a>
<a name="7866"><span class="lineNum">    7866 </span>                :<span class="lineCov">     264622 :   statistics_counter_event (cfun, &quot;RPO blocks visited&quot;, nblk);</span></a>
<a name="7867"><span class="lineNum">    7867 </span>                :<span class="lineCov">     264622 :   statistics_counter_event (cfun, &quot;RPO blocks executable&quot;, nex);</span></a>
<a name="7868"><span class="lineNum">    7868 </span>                :<span class="lineCov">     264622 :   statistics_histogram_event (cfun, &quot;RPO iterations&quot;, 10*nblk / nex);</span></a>
<a name="7869"><span class="lineNum">    7869 </span>                :<span class="lineCov">     264622 :   statistics_histogram_event (cfun, &quot;RPO num values&quot;, nvalues);</span></a>
<a name="7870"><span class="lineNum">    7870 </span>                :<span class="lineCov">     264622 :   statistics_histogram_event (cfun, &quot;RPO num avail&quot;, navail);</span></a>
<a name="7871"><span class="lineNum">    7871 </span>                :<span class="lineCov">     264622 :   statistics_histogram_event (cfun, &quot;RPO num lattice&quot;,</span></a>
<a name="7872"><span class="lineNum">    7872 </span>                :<span class="lineCov">     264622 :                               vn_ssa_aux_hash-&gt;elements ());</span></a>
<a name="7873"><span class="lineNum">    7873 </span>  [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 264622 times"> + </span><span class="branchNoCov" title="Branch 2 was not taken"> - </span><span class="branchNoCov" title="Branch 3 was not taken"> - </span> :<span class="lineCov">     264622 :   if (dump_file &amp;&amp; (dump_flags &amp; (TDF_DETAILS|TDF_STATS)))</span></a>
<span class="lineNum">         </span>         <span class="branchNoCov" title="Branch 4 was not taken"> - </span><span class="branchCov" title="Branch 5 was taken 264622 times"> + </span>]
<a name="7874"><span class="lineNum">    7874 </span>                :            :     {</a>
<a name="7875"><span class="lineNum">    7875 </span>                :<span class="lineNoCov">          0 :       fprintf (dump_file, &quot;RPO iteration over %d blocks visited %&quot; PRIu64</span></a>
<a name="7876"><span class="lineNum">    7876 </span>                :            :                &quot; blocks in total discovering %d executable blocks iterating &quot;</a>
<a name="7877"><span class="lineNum">    7877 </span>                :            :                &quot;%d.%d times, a block was visited max. %u times\n&quot;,</a>
<a name="7878"><span class="lineNum">    7878 </span>                :            :                n, nblk, nex,</a>
<a name="7879"><span class="lineNum">    7879 </span>                :<span class="lineNoCov">          0 :                (int)((10*nblk / nex)/10), (int)((10*nblk / nex)%10),</span></a>
<a name="7880"><span class="lineNum">    7880 </span>                :            :                max_visited);</a>
<a name="7881"><span class="lineNum">    7881 </span>                :<span class="lineNoCov">          0 :       fprintf (dump_file, &quot;RPO tracked %d values available at %d locations &quot;</span></a>
<a name="7882"><span class="lineNum">    7882 </span>                :            :                &quot;and %&quot; PRIu64 &quot; lattice elements\n&quot;,</a>
<a name="7883"><span class="lineNum">    7883 </span>                :<span class="lineNoCov">          0 :                nvalues, navail, (uint64_t) vn_ssa_aux_hash-&gt;elements ());</span></a>
<a name="7884"><span class="lineNum">    7884 </span>                :            :     }</a>
<a name="7885"><span class="lineNum">    7885 </span>                :            : </a>
<a name="7886"><span class="lineNum">    7886 </span>        [<span class="branchCov" title="Branch 0 was taken 211384 times"> + </span><span class="branchCov" title="Branch 1 was taken 53238 times"> + </span>]:<span class="lineCov">     264622 :   if (eliminate)</span></a>
<a name="7887"><span class="lineNum">    7887 </span>                :            :     {</a>
<a name="7888"><span class="lineNum">    7888 </span>                :            :       /* When !iterate we already performed elimination during the RPO</a>
<a name="7889"><span class="lineNum">    7889 </span>                :            :          walk.  */</a>
<a name="7890"><span class="lineNum">    7890 </span>        [<span class="branchCov" title="Branch 0 was taken 132432 times"> + </span><span class="branchCov" title="Branch 1 was taken 78952 times"> + </span>]:<span class="lineCov">     211384 :       if (iterate)</span></a>
<a name="7891"><span class="lineNum">    7891 </span>                :            :         {</a>
<a name="7892"><span class="lineNum">    7892 </span>                :            :           /* Elimination for region-based VN needs to be done within the</a>
<a name="7893"><span class="lineNum">    7893 </span>                :            :              RPO walk.  */</a>
<a name="7894"><span class="lineNum">    7894 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 132432 times"> + </span>]:<span class="lineCov">     132432 :           gcc_assert (! do_region);</span></a>
<a name="7895"><span class="lineNum">    7895 </span>                :            :           /* Note we can't use avail.walk here because that gets confused</a>
<a name="7896"><span class="lineNum">    7896 </span>                :            :              by the existing availability and it will be less efficient</a>
<a name="7897"><span class="lineNum">    7897 </span>                :            :              as well.  */</a>
<a name="7898"><span class="lineNum">    7898 </span>                :<span class="lineCov">     132432 :           todo |= eliminate_with_rpo_vn (NULL);</span></a>
<a name="7899"><span class="lineNum">    7899 </span>                :            :         }</a>
<a name="7900"><span class="lineNum">    7900 </span>                :            :       else</a>
<a name="7901"><span class="lineNum">    7901 </span>                :<span class="lineCov">      78952 :         todo |= avail.eliminate_cleanup (do_region);</span></a>
<a name="7902"><span class="lineNum">    7902 </span>                :            :     }</a>
<a name="7903"><span class="lineNum">    7903 </span>                :            : </a>
<a name="7904"><span class="lineNum">    7904 </span>                :<span class="lineCov">     264622 :   vn_valueize = NULL;</span></a>
<a name="7905"><span class="lineNum">    7905 </span>                :<span class="lineCov">     264622 :   rpo_avail = NULL;</span></a>
<a name="7906"><span class="lineNum">    7906 </span>                :            : </a>
<a name="7907"><span class="lineNum">    7907 </span>                :<span class="lineCov">     264622 :   XDELETEVEC (bb_to_rpo);</span></a>
<a name="7908"><span class="lineNum">    7908 </span>                :<span class="lineCov">     264622 :   XDELETEVEC (rpo);</span></a>
<a name="7909"><span class="lineNum">    7909 </span>                :<span class="lineCov">     264622 :   XDELETEVEC (rpo_state);</span></a>
<a name="7910"><span class="lineNum">    7910 </span>                :            : </a>
<a name="7911"><span class="lineNum">    7911 </span>                :<span class="lineCov">     264622 :   return todo;</span></a>
<a name="7912"><span class="lineNum">    7912 </span>                :            : }</a>
<a name="7913"><span class="lineNum">    7913 </span>                :            : </a>
<a name="7914"><span class="lineNum">    7914 </span>                :            : /* Region-based entry for RPO VN.  Performs value-numbering and elimination</a>
<a name="7915"><span class="lineNum">    7915 </span>                :            :    on the SEME region specified by ENTRY and EXIT_BBS.  If ENTRY is not</a>
<a name="7916"><span class="lineNum">    7916 </span>                :            :    the only edge into the region at ENTRY-&gt;dest PHI nodes in ENTRY-&gt;dest</a>
<a name="7917"><span class="lineNum">    7917 </span>                :            :    are not considered.  */</a>
<a name="7918"><span class="lineNum">    7918 </span>                :            : </a>
<a name="7919"><span class="lineNum">    7919 </span>                :            : unsigned</a>
<a name="7920"><span class="lineNum">    7920 </span>                :<span class="lineCov">       9986 : do_rpo_vn (function *fn, edge entry, bitmap exit_bbs)</span></a>
<a name="7921"><span class="lineNum">    7921 </span>                :            : {</a>
<a name="7922"><span class="lineNum">    7922 </span>                :<span class="lineCov">       9986 :   default_vn_walk_kind = VN_WALKREWRITE;</span></a>
<a name="7923"><span class="lineNum">    7923 </span>                :<span class="lineCov">       9986 :   unsigned todo = do_rpo_vn (fn, entry, exit_bbs, false, true);</span></a>
<a name="7924"><span class="lineNum">    7924 </span>                :<span class="lineCov">       9986 :   free_rpo_vn ();</span></a>
<a name="7925"><span class="lineNum">    7925 </span>                :<span class="lineCov">       9986 :   return todo;</span></a>
<a name="7926"><span class="lineNum">    7926 </span>                :            : }</a>
<a name="7927"><span class="lineNum">    7927 </span>                :            : </a>
<a name="7928"><span class="lineNum">    7928 </span>                :            : </a>
<a name="7929"><span class="lineNum">    7929 </span>                :            : namespace {</a>
<a name="7930"><span class="lineNum">    7930 </span>                :            : </a>
<a name="7931"><span class="lineNum">    7931 </span>                :            : const pass_data pass_data_fre =</a>
<a name="7932"><span class="lineNum">    7932 </span>                :            : {</a>
<a name="7933"><span class="lineNum">    7933 </span>                :            :   GIMPLE_PASS, /* type */</a>
<a name="7934"><span class="lineNum">    7934 </span>                :            :   &quot;fre&quot;, /* name */</a>
<a name="7935"><span class="lineNum">    7935 </span>                :            :   OPTGROUP_NONE, /* optinfo_flags */</a>
<a name="7936"><span class="lineNum">    7936 </span>                :            :   TV_TREE_FRE, /* tv_id */</a>
<a name="7937"><span class="lineNum">    7937 </span>                :            :   ( PROP_cfg | PROP_ssa ), /* properties_required */</a>
<a name="7938"><span class="lineNum">    7938 </span>                :            :   0, /* properties_provided */</a>
<a name="7939"><span class="lineNum">    7939 </span>                :            :   0, /* properties_destroyed */</a>
<a name="7940"><span class="lineNum">    7940 </span>                :            :   0, /* todo_flags_start */</a>
<a name="7941"><span class="lineNum">    7941 </span>                :            :   0, /* todo_flags_finish */</a>
<a name="7942"><span class="lineNum">    7942 </span>                :            : };</a>
<a name="7943"><span class="lineNum">    7943 </span>                :            : </a>
<a name="7944"><span class="lineNum">    7944 </span>                :            : class pass_fre : public gimple_opt_pass</a>
<a name="7945"><span class="lineNum">    7945 </span>                :            : {</a>
<a name="7946"><span class="lineNum">    7946 </span>                :            : public:</a>
<a name="7947"><span class="lineNum">    7947 </span>                :<span class="lineCov">     140015 :   pass_fre (gcc::context *ctxt)</span></a>
<a name="7948"><span class="lineNum">    7948 </span>                :<span class="lineCov">     140015 :     : gimple_opt_pass (pass_data_fre, ctxt), may_iterate (true)</span></a>
<a name="7949"><span class="lineNum">    7949 </span>                :<span class="lineCov">     140015 :   {}</span></a>
<a name="7950"><span class="lineNum">    7950 </span>                :            : </a>
<a name="7951"><span class="lineNum">    7951 </span>                :            :   /* opt_pass methods: */</a>
<a name="7952"><span class="lineNum">    7952 </span>                :<span class="lineCov">     112012 :   opt_pass * clone () { return new pass_fre (m_ctxt); }</span></a>
<a name="7953"><span class="lineNum">    7953 </span>                :<span class="lineCov">     140015 :   void set_pass_param (unsigned int n, bool param)</span></a>
<a name="7954"><span class="lineNum">    7954 </span>                :            :     {</a>
<a name="7955"><span class="lineNum">    7955 </span>        [<span class="branchNoCov" title="Branch 0 was not taken"> - </span><span class="branchCov" title="Branch 1 was taken 140015 times"> + </span>]:<span class="lineCov">     140015 :       gcc_assert (n == 0);</span></a>
<a name="7956"><span class="lineNum">    7956 </span>                :<span class="lineCov">     140015 :       may_iterate = param;</span></a>
<a name="7957"><span class="lineNum">    7957 </span>                :<span class="lineCov">     140015 :     }</span></a>
<a name="7958"><span class="lineNum">    7958 </span>                :<span class="lineCov">     208394 :   virtual bool gate (function *)</span></a>
<a name="7959"><span class="lineNum">    7959 </span>                :            :     {</a>
<a name="7960"><span class="lineNum">    7960 </span>  [<span class="branchCov" title="Branch 0 was taken 208387 times"> + </span><span class="branchCov" title="Branch 1 was taken 7 times"> + </span><span class="branchCov" title="Branch 2 was taken 60927 times"> + </span><span class="branchCov" title="Branch 3 was taken 147460 times"> + </span> :<span class="lineCov">     208394 :       return flag_tree_fre != 0 &amp;&amp; (may_iterate || optimize &gt; 1);</span></a>
<span class="lineNum">         </span>         <span class="branchCov" title="Branch 4 was taken 53938 times"> + </span><span class="branchCov" title="Branch 5 was taken 6989 times"> + </span>]
<a name="7961"><span class="lineNum">    7961 </span>                :            :     }</a>
<a name="7962"><span class="lineNum">    7962 </span>                :            :   virtual unsigned int execute (function *);</a>
<a name="7963"><span class="lineNum">    7963 </span>                :            : </a>
<a name="7964"><span class="lineNum">    7964 </span>                :            : private:</a>
<a name="7965"><span class="lineNum">    7965 </span>                :            :   bool may_iterate;</a>
<a name="7966"><span class="lineNum">    7966 </span>                :            : }; // class pass_fre</a>
<a name="7967"><span class="lineNum">    7967 </span>                :            : </a>
<a name="7968"><span class="lineNum">    7968 </span>                :            : unsigned int</a>
<a name="7969"><span class="lineNum">    7969 </span>                :<span class="lineCov">     201398 : pass_fre::execute (function *fun)</span></a>
<a name="7970"><span class="lineNum">    7970 </span>                :            : {</a>
<a name="7971"><span class="lineNum">    7971 </span>                :<span class="lineCov">     201398 :   unsigned todo = 0;</span></a>
<a name="7972"><span class="lineNum">    7972 </span>                :            : </a>
<a name="7973"><span class="lineNum">    7973 </span>                :            :   /* At -O[1g] use the cheap non-iterating mode.  */</a>
<a name="7974"><span class="lineNum">    7974 </span>  [<span class="branchCov" title="Branch 0 was taken 147460 times"> + </span><span class="branchCov" title="Branch 1 was taken 53938 times"> + </span><span class="branchCov" title="Branch 2 was taken 132432 times"> + </span><span class="branchCov" title="Branch 3 was taken 15028 times"> + </span>]:<span class="lineCov">     201398 :   bool iterate_p = may_iterate &amp;&amp; (optimize &gt; 1);</span></a>
<a name="7975"><span class="lineNum">    7975 </span>                :<span class="lineCov">     201398 :   calculate_dominance_info (CDI_DOMINATORS);</span></a>
<a name="7976"><span class="lineNum">    7976 </span>        [<span class="branchCov" title="Branch 0 was taken 132432 times"> + </span><span class="branchCov" title="Branch 1 was taken 68966 times"> + </span>]:<span class="lineCov">     201398 :   if (iterate_p)</span></a>
<a name="7977"><span class="lineNum">    7977 </span>                :<span class="lineCov">     132432 :     loop_optimizer_init (AVOID_CFG_MODIFICATIONS);</span></a>
<a name="7978"><span class="lineNum">    7978 </span>                :            : </a>
<a name="7979"><span class="lineNum">    7979 </span>                :<span class="lineCov">     201398 :   default_vn_walk_kind = VN_WALKREWRITE;</span></a>
<a name="7980"><span class="lineNum">    7980 </span>                :<span class="lineCov">     201398 :   todo = do_rpo_vn (fun, NULL, NULL, iterate_p, true);</span></a>
<a name="7981"><span class="lineNum">    7981 </span>                :<span class="lineCov">     201398 :   free_rpo_vn ();</span></a>
<a name="7982"><span class="lineNum">    7982 </span>                :            : </a>
<a name="7983"><span class="lineNum">    7983 </span>        [<span class="branchCov" title="Branch 0 was taken 132432 times"> + </span><span class="branchCov" title="Branch 1 was taken 68966 times"> + </span>]:<span class="lineCov">     201398 :   if (iterate_p)</span></a>
<a name="7984"><span class="lineNum">    7984 </span>                :<span class="lineCov">     132432 :     loop_optimizer_finalize ();</span></a>
<a name="7985"><span class="lineNum">    7985 </span>                :            : </a>
<a name="7986"><span class="lineNum">    7986 </span>        [<span class="branchCov" title="Branch 0 was taken 693 times"> + </span><span class="branchCov" title="Branch 1 was taken 200705 times"> + </span>]:<span class="lineCov">     201398 :   if (scev_initialized_p ())</span></a>
<a name="7987"><span class="lineNum">    7987 </span>                :<span class="lineCov">        693 :     scev_reset_htab ();</span></a>
<a name="7988"><span class="lineNum">    7988 </span>                :            : </a>
<a name="7989"><span class="lineNum">    7989 </span>                :            :   /* For late FRE after IVOPTs and unrolling, see if we can</a>
<a name="7990"><span class="lineNum">    7990 </span>                :            :      remove some TREE_ADDRESSABLE and rewrite stuff into SSA.  */</a>
<a name="7991"><span class="lineNum">    7991 </span>        [<span class="branchCov" title="Branch 0 was taken 53938 times"> + </span><span class="branchCov" title="Branch 1 was taken 147460 times"> + </span>]:<span class="lineCov">     201398 :   if (!may_iterate)</span></a>
<a name="7992"><span class="lineNum">    7992 </span>                :<span class="lineCov">      53938 :     todo |= TODO_update_address_taken;</span></a>
<a name="7993"><span class="lineNum">    7993 </span>                :            : </a>
<a name="7994"><span class="lineNum">    7994 </span>                :<span class="lineCov">     201398 :   return todo;</span></a>
<a name="7995"><span class="lineNum">    7995 </span>                :            : }</a>
<a name="7996"><span class="lineNum">    7996 </span>                :            : </a>
<a name="7997"><span class="lineNum">    7997 </span>                :            : } // anon namespace</a>
<a name="7998"><span class="lineNum">    7998 </span>                :            : </a>
<a name="7999"><span class="lineNum">    7999 </span>                :            : gimple_opt_pass *</a>
<a name="8000"><span class="lineNum">    8000 </span>                :<span class="lineCov">      28003 : make_pass_fre (gcc::context *ctxt)</span></a>
<a name="8001"><span class="lineNum">    8001 </span>                :            : {</a>
<a name="8002"><span class="lineNum">    8002 </span>                :<span class="lineCov">      28003 :   return new pass_fre (ctxt);</span></a>
<a name="8003"><span class="lineNum">    8003 </span>                :            : }</a>
<a name="8004"><span class="lineNum">    8004 </span>                :            : </a>
<a name="8005"><span class="lineNum">    8005 </span>                :            : #undef BB_EXECUTABLE</a>
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.14</a></td></tr>
  </table>
  <br>

</body>
</html>
